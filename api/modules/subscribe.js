(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=ReactJsxRuntime,n=React,r=(0,n.createContext)({});function a(){return(0,n.useContext)(r)}function i(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function s(e){return i(e,"Undefined")}function o(e){return i(e,"String")}function l(e){return e&&e.nodeType&&1===e.nodeType}function c(e){return i(e,"Number")}function p(e){return i(e,"Function")}const m=classNames;var d=e.n(m);const u=Antd;var f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function h(e){const{type:n,width:r,children:i,placement:s,onCancel:o,className:l,rootClassName:c}=e,p=f(e,["type","width","children","placement","onCancel","className","rootClassName"]),{app:m}=a();return"toolbar"===n?(0,t.jsx)(u.Drawer,Object.assign({styles:{body:{padding:0}}},p,{mask:!1,width:r,onClose:o,className:l,rootClassName:d()("popup-toolbar",c),placement:m.device.phone?"bottom":s,children:i})):"modal"===n?(0,t.jsx)(u.Modal,Object.assign({},p,{onCancel:o,rootClassName:c,width:m.device.phone?"90%":r,className:d()(l,"popup-modal"),children:i})):(0,t.jsx)(u.Drawer,Object.assign({},p,{onClose:o,className:l,width:m.device.phone?"100%":r,rootClassName:d()("popup-drawer",c),placement:m.device.phone?"bottom":s,children:i}))}var g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function y(e){const{id:r,type:i,onCancel:s,onChange:o,onVisible:p,children:m,width:d=378,placement:u="right",destoryWithRender:f=!0}=e,y=g(e,["id","type","onCancel","onChange","onVisible","children","width","placement","destoryWithRender"]),b=(0,n.useRef)("0px"),x=(0,n.useRef)(null),{me:j,app:_,container:w}=a(),[v,C]=(0,n.useState)(!1),[O,S]=(0,n.useState)(8e3);return(0,n.useEffect)((()=>{const e=[];function t(e){if(e){const e=_.field("container");if(l(e)){const t=e.style.getPropertyValue("--offsetright");t&&(b.current=t)}_.fire("display",!0,"0px","offsetright"),w.style.display="none"}else _.fire("display",!0,b.current||"0px","offsetright"),b.current="",w.style.removeProperty("display")}return e.push(_.on("screenshot_change",t)),e.push(_.on("print_change",t)),e.push(_.on(r,((...e)=>{C((t=>{if(o){e.unshift(!t);if(o.apply(_,e))return t}return t||S((e=>{let t=e+10;const n=_.field("zIndex");return c(n)&&(t=n+10),_.field("zIndex",t),t})),p&&p(!t),!t}))}))),e.push(_.on(`${j.id}_enable`,(()=>{if(!_.device.phone&&!i){const e=_.field("container");if(l(e)){const t=e.style.getPropertyValue("--offsetright");t&&_.fire("display",!0,t,`offset${u}`)}}}))),()=>{e.forEach((e=>{e()}))}}),[]),(0,n.useEffect)((()=>{x.current&&clearTimeout(x.current),x.current=setTimeout((()=>{if(v){if(!_.device.phone&&!i){const e=_.field("container");if(l(e)){const t=e.style.getPropertyValue("--offsetright");t&&(b.current=t)}_.fire("display",!0,`${d}px`,`offset${u}`)}}else _.device.phone||i||_.fire("display",!0,b.current||"0px",`offset${u}`);_.fire("toolbar_state",r,v?"active":"inactive")}),500)}),[d,v]),(0,n.useEffect)((()=>_.on("render_leave",(()=>{f&&(p&&p(!1),C(!1))}))),[f]),(0,t.jsx)(h,Object.assign({type:i,open:v,width:d,zIndex:O,onCancel:e=>{p&&p(!1),C(!1),s&&s(e)},placement:u},y,{children:m}))}function b(){const{me:e,app:t,container:r}=a(),[i,s]=(0,n.useState)(t.user),o=(0,n.useRef)(t.user.is_logged_in),l=e=>{const n=[];return["member","premium"].forEach((t=>{e.roles.includes(t)&&n.push(t)})),(n.length>0?t.fetch("expire/get",{query:{roles:n.join(",")},headers:{"X-Circle-App":"reader","X-Circle-Lang":t.lang,"X-Circle-Version":t.version,"X-Circle-Token":`${e.access_token}*&~!${e.uid}`}}):Promise.resolve({member:0,premium:0})).then((n=>(t.fire("user_refresh",Object.assign(Object.assign({},e),n)),Promise.resolve(!0))))};return(0,n.useEffect)((()=>{const e=[];return e.push(t.on("tab_activated",(()=>{t.syncUser().then((()=>{s(Object.assign({},t.user))}))}))),e.push(t.on("user_refresh",(e=>{t.syncUser(e).then((e=>{s(Object.assign({},e))}))}))),()=>{e.forEach((e=>{e()}))}}),[]),(0,n.useEffect)((()=>{if(o.current===i.is_logged_in)return;o.current=i.is_logged_in;const e=i.roles.filter((e=>["member","premium"].includes(e))),n=e.join("_")||"expired";t.field(n)||(t.field(n,!0),t.fire("expired",e.length<=0,(()=>{t.field(n,"destory")})))}),[i.is_logged_in]),{me:e,app:t,user:i,login:e=>t.syncUser(Object.assign(Object.assign({},t.user),{access_token:""})).then((()=>t.fetch("circle/login",{data:e}).then(l))),logout:()=>(t.fire("user_refresh",{uid:i.uid,roles:[],access_token:""}),Promise.resolve(!0)),register:e=>t.syncUser(Object.assign(Object.assign({},t.user),{access_token:""})).then((()=>t.fetch("circle/register",{data:e}).then(l))),container:r,resetPassowrd:e=>t.fetch("circle/password",{data:e}).then(l),updateProfile:e=>t.fetch("circle/profile",{data:e}).then(l)}}function x(){const[e,r]=(0,n.useState)(!1),{me:a,app:i,user:s}=b(),[o,l]=(0,n.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Button,{size:"small",type:"link",onClick:()=>{s.is_logged_in?r(!0):i.fire("account","login",(()=>{i.fire("account")}))},children:i.i18n("upgrade_by_code")}),(0,t.jsx)(u.Modal,{open:e,footer:null,destroyOnClose:!0,maskClosable:!1,onCancel:()=>{r(!1)},title:i.i18n("upgrade_by_code"),children:(0,t.jsxs)(u.Form,{name:"use",onFinish:e=>{l(!0),i.fetch("license/consume",{data:e}).then((()=>{r(!1),i.success("tips_success");const e=i.data(a.id);p(e)?(i.data(a.id,"destory"),e()):i.fire(a.id)})).catch((e=>{i.error(e)})).finally((()=>{l(!1)}))},className:"form-wrapper",children:[(0,t.jsx)(u.Form.Item,{name:"code",rules:[{required:!0,message:i.i18n("required")}],children:(0,t.jsx)(u.Input,{autoComplete:"off",placeholder:i.i18n("code")})}),(0,t.jsx)(u.Form.Item,{children:(0,t.jsx)(u.Button,{block:!0,type:"primary",htmlType:"submit",loading:o,children:i.i18n("pay_active")})})]})})]})}function j(){const{app:e}=a();return(0,t.jsxs)("div",{className:"help",children:[(0,t.jsx)(x,{}),(0,t.jsx)(u.Button,{size:"small",type:"text",target:"_blank",href:"mailto:wenguang.fe@gmail.com",children:e.i18n("help")})]})}const{Countdown:_}=u.Statistic;function w(e){const{app:n,newUser:r,oldUser:a}=e,i=()=>{n.get("new_user_alert","apps").then((e=>s(e)?Promise.resolve():n.remove("new_user_alert","apps"))).finally((()=>{r.onFinished()}))},o=()=>{Promise.all(["sale",`sale_${a.begin}`].map((e=>n.get(e,"apps").then((t=>s(t)?Promise.resolve():n.remove(e,"apps")))))).finally((()=>{a.onFinished()}))};return a.disabled?r.disabled?null:(0,t.jsx)(u.Alert,{showIcon:!0,type:"success",className:"warn-upgrade",message:(0,t.jsxs)(u.Space,{children:[(0,t.jsx)("span",{children:n.i18n("new_user_sale")}),(0,t.jsx)(_,{onFinish:i,value:1e3*r.deadline,format:`D ${n.i18n("d")} HH ${n.i18n("h")} mm ${n.i18n("m")} ss ${n.i18n("s")}`})]})}):(0,t.jsx)(u.Alert,{showIcon:!0,type:"success",className:"warn-upgrade",message:(0,t.jsxs)(u.Space,{children:[(0,t.jsx)("span",{children:n.i18n("old_user_sale")}),(0,t.jsx)(_,{onFinish:o,value:1e3*a.deadline,format:`D ${n.i18n("d")} HH ${n.i18n("h")} mm ${n.i18n("m")} ss ${n.i18n("s")}`})]})})}function v(){const{app:e}=a();return(0,t.jsx)(u.Table,{bordered:!1,pagination:!1,className:"rights",scroll:{y:300},columns:[{title:e.i18n("feature"),width:"33%",dataIndex:"feature",key:"feature"},{title:e.i18n("free"),width:"22%",dataIndex:"free",key:"free",align:"center"},{title:e.i18n("member"),dataIndex:"member",key:"member",align:"center"},{title:e.i18n("premium"),width:"22%",dataIndex:"premium",key:"premium",align:"center"}],dataSource:[{feature:e.i18n("feature_1"),free:"✔",premium:"✔",member:"✔"},{feature:e.i18n("feature_2"),free:"✔",premium:"✔",member:"✔"},{feature:e.i18n("feature_3"),free:"✔",premium:"✔",member:"✔"},{feature:e.i18n("feature_4"),free:"✔",premium:"✔",member:"✔"},{feature:e.i18n("feature_5"),free:"✔",premium:"✔",member:"✔"},{feature:e.i18n("feature_6"),premium:"✔",member:"✔"},{feature:e.i18n("feature_7"),premium:"✔",member:"✔"},{feature:e.i18n("feature_8"),free:"✔",premium:"✔",member:"✔"},{feature:e.i18n("feature_9"),premium:"✔",member:"✔"},{feature:e.i18n("feature_10"),premium:"✔",member:"✔"},{feature:e.i18n("feature_11"),premium:"✔",member:"✔"},{feature:e.i18n("feature_12"),premium:"✔",member:"✔"},{feature:e.i18n("feature_13"),premium:"✔",member:"✔"},{feature:e.i18n("feature_14"),premium:"✔",member:"✔"},{feature:e.i18n("feature_15"),premium:"✔",member:"✔"},{feature:e.i18n("feature_16"),premium:"✔",member:"✔"},{feature:e.i18n("feature_17"),premium:"✔",member:"✔"},{feature:e.i18n("feature_19"),premium:"✔",member:"✔"},{feature:e.i18n("feature_20"),premium:"✔",member:"✔"},{feature:e.i18n("feature_21"),premium:"✔",member:"✔"},{feature:e.i18n("feature_22"),premium:"✔",member:"✔"},{feature:e.i18n("feature_23"),premium:"✔",member:"✔"},{feature:e.i18n("feature_24"),premium:"✔",member:"✔"},{feature:e.i18n("feature_25"),premium:"✔",member:"✔"},{feature:e.i18n("feature_26"),premium:"✔",member:"✔"},{feature:e.i18n("feature_27"),premium:"✔",member:"✔"},{feature:e.i18n("feature_28"),free:"✔",premium:"✔",member:"✔"},{feature:e.i18n("feature_29"),premium:"✔",member:"✔"},{feature:e.i18n("feature_30"),free:"✔",premium:"✔",member:"✔"},{feature:e.i18n("feature_31"),premium:"✔",member:"✔"},{feature:e.i18n("feature_32"),premium:"✔",member:"✔"},{feature:e.i18n("feature_33"),premium:"✔",member:"✔"},{feature:e.i18n("feature_34"),premium:"✔",member:"✔"},{feature:e.i18n("feature_35"),premium:"✔",member:"✔"},{feature:e.i18n("feature_36"),premium:"✔",member:"✔"},{feature:e.i18n("feature_37"),premium:"✔",member:"✔"},{feature:e.i18n("feature_38"),premium:"✔",member:"✔"},{feature:e.i18n("feature_39"),premium:"✔",member:"✔"},{feature:e.i18n("feature_40"),free:"✔",premium:"✔",member:"✔"},{feature:e.i18n("feature_41"),free:"✔",premium:"✔",member:"✔"},{feature:e.i18n("feature_18"),premium:"✔"},{feature:e.i18n("backup"),free:"1",premium:"10",member:"5"}]})}const C=dayjs;var O=e.n(C);function S(e){const{now:t}=e,{value:r,setValue:i}=function(e){const{id:t,table:r="option",disabled:i,defaultValue:o}=e,{app:l,me:c,container:m}=a(),[d,u]=(0,n.useState)(o),f=()=>{i||l.get(t,r).then((e=>{!s(e)&&u(e)}))};return(0,n.useEffect)(f,[t]),{me:c,app:l,value:d,refetch:f,setValue:u,onChange:(e,n)=>{i||s(e)||(e!==o?l.set(t,e,r).then((()=>{u(e),p(n)&&n()})).catch((e=>{console.error(e),p(n)&&n(e.message)})):l.remove(t,r).then((()=>{u(e),p(n)&&n()})).catch((e=>{console.error(e),p(n)&&n(e.message)})))},container:m}}({id:"installed",defaultValue:t}),o=O().unix(c(r)?r:t).add(1,"day").unix();return{deadline:o,onFinished:()=>{i(O().unix(t).subtract(2,"day").unix())},discount:.8,disabled:o<=t}}var k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function N(e){const{now:t}=e,{app:r,data:i,refetch:o}=function(e){const{table:t="node"}=e,r=k(e,["table"]),{app:i,me:o,container:l}=a(),[c,m]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),[f,h]=(0,n.useState)(r),[g,y]=(0,n.useState)({data:[],start:f.start||1,limit:f.limit||10}),b=e=>{u(!0);const{start:n=1,limit:r=10}=f,a=k(f,["start","limit"]);i.list(a,{start:n,limit:r},t).then((t=>{(t.data.length<=0||t.data.length<r)&&m(!0),y(n<=1?t:e=>({start:t.start,limit:t.limit,data:[...e.data,...t.data]})),p(e)&&e()})).catch((t=>{p(e)&&e(t.message)})).finally((()=>{u(!1)}))};return(0,n.useEffect)(b,[f]),{me:o,app:i,data:g,done:c,query:f,onDone:m,onQuery:h,onChange:(e,n,r)=>{s(e)||i.set(e,n,t).then((()=>{const t=g.data.findIndex((e=>e.id===n));t>=0?g.data[t]=e:g.data.push(e),y(Object.assign(Object.assign({},g),{data:[...g.data]})),p(r)&&r()})).catch((e=>{p(r)&&r(e.message)}))},loading:d,refetch:b,container:l,loadMore:c?null:()=>{d||h(Object.assign(Object.assign({},f),{start:g.start}))}}}({start:1,limit:10,table:"apps",match:{type:"sale"}}),l=i.data.find((e=>e.begin<=t&&e.end>t))||{end:0,begin:0,discount:1},m=c(l.end)?l.end:0,d=c(l.begin)?l.begin:0,u=c(l.discount)?l.discount:1,f=()=>{l.id&&Promise.all([l.id,`sale_${l.begin}`].map((e=>r.remove(e,"apps")))).finally(o)};return m>0&&d>0&&u<1&&d<t&&m>t?{begin:d,discount:u,onFinished:f,deadline:m,disabled:!1}:{begin:d,discount:u,onFinished:f,deadline:0,disabled:!0}}function P(e){const{app:t,children:n}=e,r=O()().unix();return n({app:t,newUser:S({now:r}),oldUser:N({now:r})})}function $(e){const{app:n,value:r,onChange:a}=e;return(0,t.jsx)("div",{className:"pay-method",children:(0,t.jsx)(u.Space,{size:20,children:["wxpay","alipay","paypal"].map((e=>(0,t.jsx)(u.Image,{height:30,preview:!1,onClick:()=>a(e),src:n.path(`sites/default/files/assets/pay/${e}-icon.webp`),rootClassName:d()({active:e===r})},e)))})})}const{Title:F,Text:I}=u.Typography;function z(e){const{priod:r,role:i,open:s,method:l,data:c,onCancel:m}=e,{me:d,app:f}=a(),[h,g]=(0,n.useState)(!1);return(0,t.jsx)(u.Modal,{open:s,footer:null,maskClosable:!1,onCancel:m,children:(0,t.jsxs)(u.Space,{size:20,direction:"vertical",className:"pay-wrapper",children:[(0,t.jsx)(F,{level:3,children:f.i18n("scan_pay")}),(0,t.jsx)(u.Image,{width:200,height:200,preview:!1,src:f.path(`sites/default/files/assets/pay/${l}.webp`)}),(0,t.jsx)(I,{children:f.i18n("scan_pay_tooltip",f.i18n(l),`${c}`)}),(0,t.jsx)(u.Popconfirm,{onConfirm:()=>{g(!0),f.fetch("license/upgrade",{data:{data:c,role:i,priod:r,method:l}}).then((e=>{m(),o(e)&&"pending"===e?f.set("auth_at",!0,"apps").finally((()=>{f.success("tips_pending")})):f.set("auth_at",+new Date+864e5,"apps").finally((()=>{f.success("tips_success")}));const t=f.data(d.id);p(t)?(f.data(d.id,"destory"),t()):f.fire(d.id)})).catch((e=>{f.error(e)})).finally((()=>{g(!1)}))},okText:f.i18n("pay_ok"),title:f.i18n("pay_active"),cancelText:f.i18n("pay_cancel"),description:f.i18n("pay_tooltip"),children:(0,t.jsx)(u.Button,{size:"small",type:"primary",loading:h,children:f.i18n("pay_done")})})]})})}function T(e){const{type:r,open:i,data:s,kind:o,onCancel:l}=e,{app:p}=a(),m=function(e,t,n){const r=c(e)?e:parseFloat(e);return"member"===n?r:"year"===t?12*r*.8:r}(s,r,o),[d,f]=(0,n.useState)("wxpay"),[h,g]=(0,n.useState)(!1);return(0,t.jsxs)(u.Modal,{open:i,footer:null,destroyOnClose:!0,maskClosable:!1,onCancel:l,children:[(0,t.jsx)($,{app:p,value:d,onChange:f}),(0,t.jsx)(z,{method:d,priod:r,role:o,open:h,data:m.toFixed(2),onCancel:()=>{l()}}),(0,t.jsxs)(u.Space,{size:"small",direction:"vertical",className:"action",children:[(0,t.jsxs)(u.Button,{type:"primary",onClick:()=>{g(!0)},disabled:m<=0,children:[p.i18n("upgrade")," ¥",m.toFixed(2)]}),(0,t.jsx)(u.Button,{type:"text",size:"small",target:"_blank",href:p.path("docs/payment.html"),children:(0,t.jsx)("i",{children:p.i18n("agree_license")})})]})]})}const{Title:E,Text:U}=u.Typography;function V(e){const r=function(e){let t=1;return e.oldUser.disabled?e.newUser.disabled||(t=e.newUser.discount):t=e.oldUser.discount,[{type:"free",value:0},{type:"member",value:99.9},{type:"premium",value:12.5}].map((e=>({type:e.type,origin:e.value.toFixed(2),value:(e.value*t).toFixed(2)})))}(e),{me:a,app:i,user:s}=b(),[o,l]=(0,n.useState)(!1),[c,p]=(0,n.useState)("year"),[m,d]=(0,n.useState)("member"),[f,h]=(0,n.useState)(!1),g=r.find((e=>e.type===m))||{value:"--"},y=e=>{p(e.target.value)};return(0,n.useEffect)((()=>i.on(`${a.id}_route`,(e=>{["member","premium"].includes(e)?(d(e),h("premium"===e)):d("member")}))),[]),(0,t.jsxs)("div",{children:[f&&(0,t.jsx)(u.Alert,{showIcon:!0,type:"warning",style:{marginBottom:10},message:i.i18n("warn_premium"),action:(0,t.jsx)(u.Button,{size:"small",type:"link",target:"_blank",href:i.path("docs/faq/member.html"),children:i.i18n("warn_button")})}),(0,t.jsx)(T,{open:o,type:c,kind:m,data:g.value,onCancel:()=>{l(!1)}}),(0,t.jsx)(u.Segmented,{block:!0,value:m,className:"card",onChange:d,options:r.map((e=>({key:e.type,value:e.type,label:(0,t.jsxs)("div",{className:"card-item",children:["premium"===e.type&&(0,t.jsx)(u.Radio.Group,{size:"small",value:c,className:"choose",optionType:"button",buttonStyle:"solid",onChange:y,options:[{value:"month",label:i.i18n("month")},{value:"year",label:i.i18n("year")}]}),(0,t.jsxs)(u.Space,{direction:"vertical",children:[(0,t.jsx)(U,{strong:!0,children:i.i18n(e.type)}),"premium"===e.type&&(0,t.jsxs)(t.Fragment,{children:[e.origin!==e.value&&(0,t.jsxs)(U,{delete:!0,type:"secondary",style:{opacity:.6},children:["¥","year"===c?(.8*parseFloat(e.origin)).toFixed(2):e.origin]}),(0,t.jsxs)(u.Space,{size:2,className:"price",children:[(0,t.jsx)("span",{children:"¥"}),(0,t.jsx)(E,{level:3,children:"year"===c?(.8*parseFloat(e.value)).toFixed(2):e.value}),(0,t.jsx)(U,{type:"secondary",children:"/"}),(0,t.jsx)(U,{type:"secondary",children:i.i18n("month")})]})]}),"member"===e.type&&(0,t.jsxs)(t.Fragment,{children:[e.origin!==e.value&&(0,t.jsxs)(U,{delete:!0,type:"secondary",style:{opacity:.6},children:["¥",e.origin]}),(0,t.jsxs)(u.Space,{size:2,className:"price",children:[(0,t.jsx)("span",{children:"¥"}),(0,t.jsx)(E,{level:3,children:e.value})]})]}),(0,t.jsx)(U,{type:"secondary",className:"desc",children:i.i18n(`${e.type}_desc`)}),"free"!==e.type&&(0,t.jsx)(u.Button,{block:!0,type:"primary",onClick:()=>{return t=e.type,void(s.is_logged_in?(d((e=>e!==t?t:e)),l(!0)):i.fire("account","login",(()=>{i.fire("account")})));var t},children:i.i18n("buy")})]})]})})))})]})}function B(){const{me:e,app:r}=a();return(0,n.useEffect)((()=>{r.fire("display")}),[]),(0,t.jsx)(y,{id:e.id,width:700,type:"modal",className:"wrapper",maskClosable:!1,onChange:(t,n,a)=>{if(!t)return n?(r.fire(`${e.id}_route`,n,a),!0):void 0;n?p(a)?(r.data(e.id,a),r.fire(`${e.id}_route`,n)):r.fire(`${e.id}_route`,n,a):r.fire(`${e.id}_route`)},onVisible:e=>{r.fire("scrollable",!e)},title:r.i18n("title"),footer:(0,t.jsx)(j,{}),children:(0,t.jsx)(P,{app:r,children:e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w,{...e}),(0,t.jsx)(V,{...e}),(0,t.jsx)(v,{})]})})})}window.definePlugin("subscribe",(function(e,n,a){let i=null;return{start(){i||(i=a.display.render((({root:i,shadow:s,container:o})=>({app:n,me:e,children:(0,t.jsx)(B,{}),provider:(0,t.jsx)(r.Provider,{value:{app:n,root:i,shadow:s,container:o,me:e,dependencies:a}})})),{style:".card.ant-segmented .price {\n  min-height: 50px;\n}\n.card.ant-segmented > .ant-segmented-group > .ant-segmented-item {\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n.card.ant-segmented > .ant-segmented-group > .ant-segmented-item .ant-segmented-item-label {\n  text-align: left;\n}\n.card.ant-segmented > .ant-segmented-group > .ant-segmented-item .ant-segmented-item-label .card-item {\n  position: relative;\n}\n.card.ant-segmented > .ant-segmented-group > .ant-segmented-item .ant-segmented-item-label .card-item .choose {\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 10;\n}\n.card.ant-segmented > .ant-segmented-group > .ant-segmented-item .ant-segmented-item-label .card-item > .ant-space {\n  display: flex;\n}\n.card.ant-segmented > .ant-segmented-group > .ant-segmented-item .ant-segmented-item-label .card-item .ant-typography {\n  margin-bottom: 0;\n  white-space: normal;\n  display: block;\n}\n.card.ant-segmented > .ant-segmented-group > .ant-segmented-item .ant-segmented-item-label .card-item .ant-typography del {\n  font-style: italic;\n}\n.card.ant-segmented > .ant-segmented-group > .ant-segmented-item .ant-segmented-item-label .card-item .ant-typography.desc {\n  font-size: 90%;\n  min-height: 26px;\n}\n.pay-wrapper.ant-space {\n  width: 100%;\n  display: flex;\n  align-items: center;\n}\n.pay-wrapper.ant-space .ant-typography {\n  margin-bottom: 0;\n}\n.pay-method {\n  text-align: center;\n  margin: 40px 0;\n}\n.pay-method .ant-space-item {\n  cursor: pointer;\n}\n.pay-method .ant-image {\n  filter: grayscale(100%);\n  filter: gray;\n}\n.pay-method .ant-image.active {\n  filter: grayscale(0);\n  filter: none;\n}\n.action.ant-space {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  margin-top: 20px;\n}\n.action.ant-space .ant-btn-primary {\n  min-width: 330px;\n}\n.action.ant-space .ant-btn-text {\n  font-size: 12px;\n  opacity: 0.5;\n}\n.feature {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n.feature .ant-card {\n  width: 32%;\n  margin-bottom: 10px;\n}\n.feature .ant-card .ant-card-body {\n  padding: 10px;\n}\n\n.container {\n  user-select: none;\n}\n.container .form-wrapper {\n  max-width: 380px;\n  margin: 72px auto;\n}\n.container .warn-upgrade {\n  margin-bottom: 10px;\n}\n.container .warn-upgrade .ant-space {\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n}\n.container .warn-upgrade .ant-statistic .ant-statistic-content {\n  font-size: 16px;\n  color: #d9981b;\n  font-weight: bold;\n}\n.rights {\n  margin: 16px 0;\n}\n.help {\n  display: flex;\n  justify-content: space-between;\n  margin: 0 -17px 0 -9px;\n}\n\n.ant-drawer.popup-toolbar {\n  height: auto;\n  bottom: auto;\n  left: auto;\n}\n.ant-drawer.popup-toolbar .ant-drawer-content-wrapper {\n  height: auto !important;\n  width: auto !important;\n  position: static !important;\n}\n.ant-drawer.popup-toolbar .ant-drawer-content {\n  flex-direction: row-reverse;\n  align-items: start;\n}\n.ant-drawer.popup-toolbar .ant-drawer-header-close-only {\n  padding: 16px;\n  border: 0;\n}\n.ant-drawer.popup-toolbar .ant-drawer-header-close-only .ant-drawer-close {\n  margin-right: 0;\n}\n\n.mobile .ant-drawer.popup-toolbar .ant-drawer-content-wrapper {\n  overflow: auto;\n  max-height: 100vh !important;\n  width: 100vw !important;\n}\n\n"}))},destory(){i&&(i(),i=null)}}}))})();