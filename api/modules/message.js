(()=>{"use strict";var e={669:(e,t)=>{var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case c:case a:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case s:case f:case v:case p:case u:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=f,t.isMemo=function(e){return g(e)===p}},737:(e,t,n)=>{e.exports=n(669)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const r=ReactJsxRuntime,o=React;var i=n.n(o);const a=(0,o.createContext)({});function c(){return(0,o.useContext)(a)}function u(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function s(e){return u(e,"String")}function l(e){return e&&e.nodeType&&1===e.nodeType}const f=classNames;var d=n.n(f);const h=Antd;var p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function v(e){const{type:t,width:n,children:o,placement:i,onCancel:a,className:u,rootClassName:s}=e,l=p(e,["type","width","children","placement","onCancel","className","rootClassName"]),{app:f}=c();return"toolbar"===t?(0,r.jsx)(h.Drawer,Object.assign({styles:{body:{padding:0}}},l,{mask:!1,width:n,onClose:a,className:u,rootClassName:d()("popup-toolbar",s),placement:f.device.phone?"bottom":i,children:o})):"modal"===t?(0,r.jsx)(h.Modal,Object.assign({},l,{onCancel:a,rootClassName:s,width:f.device.phone?"90%":n,className:d()(u,"popup-modal"),children:o})):(0,r.jsx)(h.Drawer,Object.assign({},l,{onClose:a,className:u,width:f.device.phone?"100%":n,rootClassName:d()("popup-drawer",s),placement:f.device.phone?"bottom":i,children:o}))}var m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function g(e){const{id:t,type:n,onCancel:i,onChange:a,onVisible:s,children:f,width:d=378,placement:h="right",destoryWithRender:p=!0}=e,g=m(e,["id","type","onCancel","onChange","onVisible","children","width","placement","destoryWithRender"]),b=(0,o.useRef)("0px"),y=(0,o.useRef)(null),{me:w,app:E,container:_}=c(),[x,O]=(0,o.useState)(!1),[S,j]=(0,o.useState)(8e3);return(0,o.useEffect)((()=>{const e=[];function r(e){if(e){const e=E.field("container");if(l(e)){const t=e.style.getPropertyValue("--offsetright");t&&(b.current=t)}E.fire("display",!0,"0px","offsetright"),_.style.display="none"}else E.fire("display",!0,b.current||"0px","offsetright"),b.current="",_.style.removeProperty("display")}return e.push(E.on("screenshot_change",r)),e.push(E.on("print_change",r)),e.push(E.on(t,((...e)=>{O((t=>{if(a){e.unshift(!t);if(a.apply(E,e))return t}return t||j((e=>{let t=e+10;const n=E.field("zIndex");return u(n,"Number")&&(t=n+10),E.field("zIndex",t),t})),s&&s(!t),!t}))}))),e.push(E.on(`${w.id}_enable`,(()=>{if(!E.device.phone&&!n){const e=E.field("container");if(l(e)){const t=e.style.getPropertyValue("--offsetright");t&&E.fire("display",!0,t,`offset${h}`)}}}))),()=>{e.forEach((e=>{e()}))}}),[]),(0,o.useEffect)((()=>{y.current&&clearTimeout(y.current),y.current=setTimeout((()=>{if(x){if(!E.device.phone&&!n){const e=E.field("container");if(l(e)){const t=e.style.getPropertyValue("--offsetright");t&&(b.current=t)}E.fire("display",!0,`${d}px`,`offset${h}`)}}else E.device.phone||n||E.fire("display",!0,b.current||"0px",`offset${h}`);E.fire("toolbar_state",t,x?"active":"inactive")}),500)}),[d,x]),(0,o.useEffect)((()=>E.on("render_leave",(()=>{p&&(s&&s(!1),O(!1))}))),[p]),(0,r.jsx)(v,Object.assign({type:n,open:x,width:d,zIndex:S,onCancel:e=>{s&&s(!1),O(!1),i&&i(e)},placement:h},g,{children:f}))}const b=dayjs;var y=n.n(b);function w(e){const{app:t,id:n,data:o,onClose:i}=e,a=(0,r.jsx)("div",{className:"main",children:(0,r.jsx)(h.Empty,{image:h.Empty.PRESENTED_IMAGE_SIMPLE,description:t.i18n("click_read_more")})});if(!n||"0"===n)return t.device.phone?(0,r.jsx)(h.Modal,{open:!!n,width:"100%",footer:null,onCancel:i,style:{top:20},children:a}):a;const c=o.items.find((e=>e.id===n));if(!c)return t.device.phone?(0,r.jsx)(h.Modal,{open:!!n,width:"100%",footer:null,onCancel:i,style:{top:20},children:a}):a;const u=(0,r.jsxs)("div",{className:"main",children:[(0,r.jsx)("h2",{className:"title",children:c.title}),(0,r.jsx)("div",{className:"changed",children:y()(1e3*c.create).format("YYYY-MM-DD HH:mm:ss")}),(0,r.jsx)("div",{className:"article",dangerouslySetInnerHTML:{__html:c.body}})]});return t.device.phone?(0,r.jsx)(h.Modal,{open:!!n,width:"100%",footer:null,onCancel:i,style:{top:20},children:u}):u}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(null,arguments)}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function x(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}function O(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),T=Symbol.for("react.fragment");function L(e){return e&&"object"===_(e)&&(e.$$typeof===P||e.$$typeof===C)&&e.type===T}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return i().Children.forEach(e,(function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(N(e)):L(e)&&e.props?n=n.concat(N(e.props.children,t)):n.push(e))})),n}var k={},A=[];function H(e,t){}function D(e,t){}function z(e,t,n){t||k[n]||(e(!1,n),k[n]=!0)}function I(e,t){z(H,e,t)}I.preMessage=function(e){A.push(e)},I.resetWarned=function(){k={}},I.noteOnce=function(e,t){z(D,e,t)};const Y=ReactDOM;var $=n.n(Y);function B(e){return e instanceof HTMLElement||e instanceof SVGElement}function W(e){var t,n=function(e){return e&&"object"===_(e)&&B(e.nativeElement)?e.nativeElement:B(e)?e:null}(e);return n||(e instanceof i().Component?null===(t=$().findDOMNode)||void 0===t?void 0:t.call($(),e):null)}var V=n(737);var F=Number(o.version.split(".")[0]),K=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach((function(t){!function(e,t){"function"==typeof e?e(t):"object"===_(e)&&e&&"current"in e&&(e.current=t)}(t,e)}))}},X=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=function(){return K.apply(void 0,t)},i=t,a=function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))},"value"in(c=o.useRef({})).current&&!a(c.current.condition,i)||(c.current.value=r(),c.current.condition=i),c.current.value;var r,i,a,c},q=function(e){var t,n;if(!e)return!1;if(G(e)&&F>=19)return!0;var r=(0,V.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===V.ForwardRef)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===V.ForwardRef)};function G(e){return(0,o.isValidElement)(e)&&!L(e)}var J=o.createContext(null);var U=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),Q="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Z=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),ee="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Z):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var te=["top","right","bottom","left","width","height","size","weight"],ne="undefined"!=typeof MutationObserver,re=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&c()}function a(){ee(i)}function c(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Q&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ne?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Q&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;te.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),oe=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},ie=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Z},ae=de(0,0,0,0);function ce(e){return parseFloat(e)||0}function ue(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+ce(e["border-"+n+"-width"])}),0)}function se(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return ae;var r=ie(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=ce(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,c=ce(r.width),u=ce(r.height);if("border-box"===r.boxSizing&&(Math.round(c+i)!==t&&(c-=ue(r,"left","right")+i),Math.round(u+a)!==n&&(u-=ue(r,"top","bottom")+a)),!function(e){return e===ie(e).document.documentElement}(e)){var s=Math.round(c+i)-t,l=Math.round(u+a)-n;1!==Math.abs(s)&&(c-=s),1!==Math.abs(l)&&(u-=l)}return de(o.left,o.top,c,u)}var le="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof ie(e).SVGGraphicsElement}:function(e){return e instanceof ie(e).SVGElement&&"function"==typeof e.getBBox};function fe(e){return Q?le(e)?function(e){var t=e.getBBox();return de(0,0,t.width,t.height)}(e):se(e):ae}function de(e,t,n,r){return{x:e,y:t,width:n,height:r}}var he=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=de(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=fe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),pe=function(e,t){var n,r,o,i,a,c,u,s=(r=(n=t).x,o=n.y,i=n.width,a=n.height,c="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(c.prototype),oe(u,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),u);oe(this,{target:e,contentRect:s})},ve=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new U,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof ie(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new he(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof ie(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new pe(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),me="undefined"!=typeof WeakMap?new WeakMap:new U,ge=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=re.getInstance(),r=new ve(t,n,this);me.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){ge.prototype[e]=function(){var t;return(t=me.get(this))[e].apply(t,arguments)}}));const be=void 0!==Z.ResizeObserver?Z.ResizeObserver:ge;var ye=new Map;var we=new be((function(e){e.forEach((function(e){var t,n=e.target;null===(t=ye.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function xe(e,t,n){return t&&_e(e.prototype,t),n&&_e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oe(e,t){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oe(e,t)}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Se(e)}function je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(je=function(){return!!e})()}function Me(e,t){if(t&&("object"==_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}(o,e);var t,n,r=(t=o,n=je(),function(){var e,r=Se(t);if(n){var o=Se(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Me(this,e)});function o(){return Ee(this,o),r.apply(this,arguments)}return xe(o,[{key:"render",value:function(){return this.props.children}}]),o}(o.Component);function Pe(e,t){var n=e.children,r=e.disabled,i=o.useRef(null),a=o.useRef(null),c=o.useContext(J),u="function"==typeof n,s=u?n(i):n,l=o.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!u&&o.isValidElement(s)&&q(s),d=f?function(e){if(e&&G(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null}(s):null,h=X(d,i),p=function(){var e;return W(i.current)||(i.current&&"object"===_(i.current)?W(null===(e=i.current)||void 0===e?void 0:e.nativeElement):null)||W(a.current)};o.useImperativeHandle(t,(function(){return p()}));var v=o.useRef(e);v.current=e;var m=o.useCallback((function(e){var t=v.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),i=o.width,a=o.height,u=e.offsetWidth,s=e.offsetHeight,f=Math.floor(i),d=Math.floor(a);if(l.current.width!==f||l.current.height!==d||l.current.offsetWidth!==u||l.current.offsetHeight!==s){var h={width:f,height:d,offsetWidth:u,offsetHeight:s};l.current=h;var p=u===Math.round(i)?i:u,m=s===Math.round(a)?a:s,g=j(j({},h),{},{offsetWidth:p,offsetHeight:m});null==c||c(g,e,r),n&&Promise.resolve().then((function(){n(g,e)}))}}),[]);return o.useEffect((function(){var e,t,n=p();return n&&!r&&(e=n,t=m,ye.has(e)||(ye.set(e,new Set),we.observe(e)),ye.get(e).add(t)),function(){return function(e,t){ye.has(e)&&(ye.get(e).delete(t),ye.get(e).size||(we.unobserve(e),ye.delete(e)))}(n,m)}}),[i.current,r]),o.createElement(Re,{ref:a},f?o.cloneElement(s,{ref:h}):s)}const Ce=o.forwardRef(Pe);function Te(e,t){var n=e.children;return("function"==typeof n?[n]:N(n)).map((function(n,r){var i=(null==n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return o.createElement(Ce,E({},e,{key:i,ref:0===r?t:void 0}),n)}))}var Le=o.forwardRef(Te);Le.Collection=function(e){var t=e.children,n=e.onBatchResize,r=o.useRef(0),i=o.useRef([]),a=o.useContext(J),c=o.useCallback((function(e,t,o){r.current+=1;var c=r.current;i.current.push({size:e,element:t,data:o}),Promise.resolve().then((function(){c===r.current&&(null==n||n(i.current),i.current=[])})),null==a||a(e,t,o)}),[n,a]);return o.createElement(J.Provider,{value:c},t)};const Ne=Le;function ke(e){var t=o.useRef();t.current=e;var n=o.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}var Ae="undefined"!=typeof window&&window.document&&window.document.createElement?o.useLayoutEffect:o.useEffect,He=function(e,t){var n=o.useRef(!0);Ae((function(){return e(n.current)}),t),Ae((function(){return n.current=!1,function(){n.current=!0}}),[])};const De=He;"undefined"==typeof Reflect?Object.keys:Reflect.ownKeys;var ze=o.forwardRef((function(e,t){var n=e.height,r=e.offsetY,i=e.offsetX,a=e.children,c=e.prefixCls,u=e.onInnerResize,s=e.innerProps,l=e.rtl,f=e.extra,h={},p={display:"flex",flexDirection:"column"};return void 0!==r&&(h={height:n,position:"relative",overflow:"hidden"},p=j(j({},p),{},O(O(O(O(O({transform:"translateY(".concat(r,"px)")},l?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),o.createElement("div",{style:h},o.createElement(Ne,{onResize:function(e){e.offsetHeight&&u&&u()}},o.createElement("div",E({style:p,className:d()(O({},"".concat(c,"-holder-inner"),c)),ref:t},s),a,f)))}));ze.displayName="Filler";const Ie=ze;function Ye(e){var t=e.children,n=e.setRef,r=o.useCallback((function(e){n(e)}),[]);return o.cloneElement(t,{ref:r})}function $e(e,t,n){var r=R(o.useState(e),2),i=r[0],a=r[1],c=R(o.useState(null),2),u=c[0],s=c[1];return o.useEffect((function(){var r=function(e,t,n){var r,o,i=e.length,a=t.length;if(0===i&&0===a)return null;i<a?(r=e,o=t):(r=t,o=e);var c={__EMPTY_ITEM__:!0};function u(e){return void 0!==e?n(e):c}for(var s=null,l=1!==Math.abs(i-a),f=0;f<o.length;f+=1){var d=u(r[f]);if(d!==u(o[f])){s=f,l=l||d!==u(o[f+1]);break}}return null===s?null:{index:s,multiple:l}}(i||[],e||[],t);void 0!==(null==r?void 0:r.index)&&(null==n||n(r.index),s(e[r.index])),a(e)}),[e]),[u]}var Be=function(e){return+setTimeout(e,16)},We=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(Be=function(e){return window.requestAnimationFrame(e)},We=function(e){return window.cancelAnimationFrame(e)});var Ve=0,Fe=new Map;function Ke(e){Fe.delete(e)}var Xe=function(e){var t=Ve+=1;return function n(r){if(0===r)Ke(t),e();else{var o=Be((function(){n(r-1)}));Fe.set(t,o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};Xe.cancel=function(e){var t=Fe.get(e);return Ke(e),We(t)};const qe=Xe;const Ge="object"===("undefined"==typeof navigator?"undefined":_(navigator))&&/Firefox/i.test(navigator.userAgent),Je=function(e,t,n,r){var i=(0,o.useRef)(!1),a=(0,o.useRef)(null);var c=(0,o.useRef)({top:e,bottom:t,left:n,right:r});return c.current.top=e,c.current.bottom=t,c.current.left=n,c.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&c.current.left||t>0&&c.current.right:t<0&&c.current.top||t>0&&c.current.bottom;return n&&r?(clearTimeout(a.current),i.current=!1):r&&!i.current||(clearTimeout(a.current),i.current=!0,a.current=setTimeout((function(){i.current=!1}),50)),!i.current&&r}};function Ue(e,t,n,r,i,a,c){var u=(0,o.useRef)(0),s=(0,o.useRef)(null),l=(0,o.useRef)(null),f=(0,o.useRef)(!1),d=Je(t,n,r,i);var h=(0,o.useRef)(null),p=(0,o.useRef)(null);return[function(t){if(e){qe.cancel(p.current),p.current=qe((function(){h.current=null}),2);var n=t.deltaX,r=t.deltaY,o=t.shiftKey,i=n,v=r;("sx"===h.current||!h.current&&o&&r&&!n)&&(i=r,v=0,h.current="sx");var m=Math.abs(i),g=Math.abs(v);null===h.current&&(h.current=a&&m>g?"x":"y"),"y"===h.current?function(e,t){if(qe.cancel(s.current),!d(!1,t)){var n=e;n._virtualHandled||(n._virtualHandled=!0,u.current+=t,l.current=t,Ge||n.preventDefault(),s.current=qe((function(){var e=f.current?10:1;c(u.current*e,!1),u.current=0})))}}(t,v):function(e,t){c(t,!0),Ge||e.preventDefault()}(t,i)}},function(t){e&&(f.current=t.detail===l.current)}]}const Qe=function(){function e(){Ee(this,e),O(this,"maps",void 0),O(this,"id",0),O(this,"diffKeys",new Set),this.maps=Object.create(null)}return xe(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1,this.diffKeys.add(e)}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),e}();function Ze(e){var t=parseFloat(e);return isNaN(t)?0:t}var et=14/15;function tt(e){return Math.floor(Math.pow(e,.5))}function nt(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}const rt=o.forwardRef((function(e,t){var n=e.prefixCls,r=e.rtl,i=e.scrollOffset,a=e.scrollRange,c=e.onStartMove,u=e.onStopMove,s=e.onScroll,l=e.horizontal,f=e.spinSize,h=e.containerSize,p=e.style,v=e.thumbStyle,m=e.showScrollBar,g=R(o.useState(!1),2),b=g[0],y=g[1],w=R(o.useState(null),2),E=w[0],_=w[1],x=R(o.useState(null),2),S=x[0],M=x[1],P=!r,C=o.useRef(),T=o.useRef(),L=R(o.useState(m),2),N=L[0],k=L[1],A=o.useRef(),H=function(){!0!==m&&!1!==m&&(clearTimeout(A.current),k(!0),A.current=setTimeout((function(){k(!1)}),3e3))},D=a-h||0,z=h-f||0,I=o.useMemo((function(){return 0===i||0===D?0:i/D*z}),[i,D,z]),Y=o.useRef({top:I,dragging:b,pageY:E,startTop:S});Y.current={top:I,dragging:b,pageY:E,startTop:S};var $=function(e){y(!0),_(nt(e,l)),M(Y.current.top),c(),e.stopPropagation(),e.preventDefault()};o.useEffect((function(){var e=function(e){e.preventDefault()},t=C.current,n=T.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",$,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",$)}}),[]);var B=o.useRef();B.current=D;var W=o.useRef();W.current=z,o.useEffect((function(){if(b){var e,t=function(t){var n=Y.current,r=n.dragging,o=n.pageY,i=n.startTop;qe.cancel(e);var a=C.current.getBoundingClientRect(),c=h/(l?a.width:a.height);if(r){var u=(nt(t,l)-o)*c,f=i;!P&&l?f-=u:f+=u;var d=B.current,p=W.current,v=p?f/p:0,m=Math.ceil(v*d);m=Math.max(m,0),m=Math.min(m,d),e=qe((function(){s(m,l)}))}},n=function(){y(!1),u()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),qe.cancel(e)}}}),[b]),o.useEffect((function(){return H(),function(){clearTimeout(A.current)}}),[i]),o.useImperativeHandle(t,(function(){return{delayHidden:H}}));var V="".concat(n,"-scrollbar"),F={position:"absolute",visibility:N?null:"hidden"},K={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return l?(F.height=8,F.left=0,F.right=0,F.bottom=0,K.height="100%",K.width=f,P?K.left=I:K.right=I):(F.width=8,F.top=0,F.bottom=0,P?F.right=0:F.left=0,K.width="100%",K.height=f,K.top=I),o.createElement("div",{ref:C,className:d()(V,O(O(O({},"".concat(V,"-horizontal"),l),"".concat(V,"-vertical"),!l),"".concat(V,"-visible"),N)),style:j(j({},F),p),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:H},o.createElement("div",{ref:T,className:d()("".concat(V,"-thumb"),O({},"".concat(V,"-thumb-moving"),b)),style:j(j({},K),v),onMouseDown:$}))}));function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,20),Math.floor(t)}var it=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],at=[],ct={overflowY:"auto",overflowAnchor:"none"};function ut(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,i=e.className,a=e.height,c=e.itemHeight,u=e.fullHeight,s=void 0===u||u,l=e.style,f=e.data,h=e.children,p=e.itemKey,v=e.virtual,m=e.direction,g=e.scrollWidth,b=e.component,y=void 0===b?"div":b,w=e.onScroll,x=e.onVirtualScroll,S=e.onVisibleChange,M=e.innerProps,P=e.extraRender,C=e.styles,T=e.showScrollBar,L=void 0===T?"optional":T,N=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,it),k=o.useCallback((function(e){return"function"==typeof p?p(e):null==e?void 0:e[p]}),[p]),A=function(e,t,n){var r=R(o.useState(0),2),i=r[0],a=r[1],c=(0,o.useRef)(new Map),u=(0,o.useRef)(new Qe),s=(0,o.useRef)(0);function l(){s.current+=1}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l();var t=function(){var e=!1;c.current.forEach((function(t,n){if(t&&t.offsetParent){var r=t.offsetHeight,o=getComputedStyle(t),i=o.marginTop,a=o.marginBottom,c=r+Ze(i)+Ze(a);u.current.get(n)!==c&&(u.current.set(n,c),e=!0)}})),e&&a((function(e){return e+1}))};if(e)t();else{s.current+=1;var n=s.current;Promise.resolve().then((function(){n===s.current&&t()}))}}return(0,o.useEffect)((function(){return l}),[]),[function(r,o){var i=e(r),a=c.current.get(i);o?(c.current.set(i,o),f()):c.current.delete(i),!a!=!o&&(o?null==t||t(r):null==n||n(r))},f,u.current,i]}(k,null,null),H=R(A,4),D=H[0],z=H[1],I=H[2],$=H[3],B=!(!1===v||!a||!c),W=o.useMemo((function(){return Object.values(I.maps).reduce((function(e,t){return e+t}),0)}),[I.id,I.maps]),V=B&&f&&(Math.max(c*f.length,W)>a||!!g),F="rtl"===m,K=d()(r,O({},"".concat(r,"-rtl"),F),i),X=f||at,q=(0,o.useRef)(),G=(0,o.useRef)(),J=(0,o.useRef)(),U=R((0,o.useState)(0),2),Q=U[0],Z=U[1],ee=R((0,o.useState)(0),2),te=ee[0],ne=ee[1],re=R((0,o.useState)(!1),2),oe=re[0],ie=re[1],ae=function(){ie(!0)},ce=function(){ie(!1)},ue={getKey:k};function se(e){Z((function(t){var n=function(e){var t=e;Number.isNaN(je.current)||(t=Math.min(t,je.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return q.current.scrollTop=n,n}))}var le=(0,o.useRef)({start:0,end:X.length}),fe=(0,o.useRef)(),de=R($e(X,k),1)[0];fe.current=de;var he=o.useMemo((function(){if(!B)return{scrollHeight:void 0,start:0,end:X.length-1,offset:void 0};var e;if(!V)return{scrollHeight:(null===(e=G.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:X.length-1,offset:void 0};for(var t,n,r,o=0,i=X.length,u=0;u<i;u+=1){var s=X[u],l=k(s),f=I.get(l),d=o+(void 0===f?c:f);d>=Q&&void 0===t&&(t=u,n=o),d>Q+a&&void 0===r&&(r=u),o=d}return void 0===t&&(t=0,n=0,r=Math.ceil(a/c)),void 0===r&&(r=X.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,X.length-1),offset:n}}),[V,B,Q,X,$,a]),pe=he.scrollHeight,ve=he.start,me=he.end,ge=he.offset;le.current.start=ve,le.current.end=me,o.useLayoutEffect((function(){var e=I.getRecord();if(1===e.size){var t=Array.from(e)[0],n=X[ve];if(n)if(k(n)===t){var r=I.get(t)-c;se((function(e){return e+r}))}}I.resetRecord()}),[pe]);var be=R(o.useState({width:0,height:a}),2),ye=be[0],we=be[1],Ee=(0,o.useRef)(),_e=(0,o.useRef)(),xe=o.useMemo((function(){return ot(ye.width,g)}),[ye.width,g]),Oe=o.useMemo((function(){return ot(ye.height,pe)}),[ye.height,pe]),Se=pe-a,je=(0,o.useRef)(Se);je.current=Se;var Me=Q<=0,Re=Q>=Se,Pe=te<=0,Ce=te>=g,Te=Je(Me,Re,Pe,Ce),Le=function(){return{x:F?-te:te,y:Q}},Ae=(0,o.useRef)(Le()),He=ke((function(e){if(x){var t=j(j({},Le()),e);Ae.current.x===t.x&&Ae.current.y===t.y||(x(t),Ae.current=t)}}));function ze(e,t){var n=e;t?((0,Y.flushSync)((function(){ne(n)})),He()):se(n)}var Be=function(e){var t=e,n=g?g-ye.width:0;return t=Math.max(t,0),t=Math.min(t,n)},We=ke((function(e,t){t?((0,Y.flushSync)((function(){ne((function(t){return Be(t+(F?-e:e))}))})),He()):se((function(t){return t+e}))})),Ve=R(Ue(B,Me,Re,Pe,Ce,!!g,We),2),Fe=Ve[0],Ke=Ve[1];!function(e,t,n){var r,i=(0,o.useRef)(!1),a=(0,o.useRef)(0),c=(0,o.useRef)(0),u=(0,o.useRef)(null),s=(0,o.useRef)(null),l=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageX),r=Math.ceil(e.touches[0].pageY),o=a.current-t,u=c.current-r,l=Math.abs(o)>Math.abs(u);l?a.current=t:c.current=r;var f=n(l,l?o:u,!1,e);f&&e.preventDefault(),clearInterval(s.current),f&&(s.current=setInterval((function(){l?o*=et:u*=et;var e=Math.floor(l?o:u);(!n(l,e,!0)||Math.abs(e)<=.1)&&clearInterval(s.current)}),16))}},f=function(){i.current=!1,r()},d=function(e){r(),1!==e.touches.length||i.current||(i.current=!0,a.current=Math.ceil(e.touches[0].pageX),c.current=Math.ceil(e.touches[0].pageY),u.current=e.target,u.current.addEventListener("touchmove",l,{passive:!1}),u.current.addEventListener("touchend",f,{passive:!0}))};r=function(){u.current&&(u.current.removeEventListener("touchmove",l),u.current.removeEventListener("touchend",f))},De((function(){return e&&t.current.addEventListener("touchstart",d,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",d),r(),clearInterval(s.current)}}),[e])}(B,q,(function(e,t,n,r){var o=r;return!Te(e,t,n)&&((!o||!o._virtualHandled)&&(o&&(o._virtualHandled=!0),Fe({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0))})),function(e,t,n){o.useEffect((function(){var r=t.current;if(e&&r){var o,i,a=!1,c=function(){qe.cancel(o)},u=function e(){c(),o=qe((function(){n(i),e()}))},s=function(e){if(!e.target.draggable&&0===e.button){var t=e;t._virtualHandled||(t._virtualHandled=!0,a=!0)}},l=function(){a=!1,c()},f=function(e){if(a){var t=nt(e,!1),n=r.getBoundingClientRect(),o=n.top,s=n.bottom;t<=o?(i=-tt(o-t),u()):t>=s?(i=tt(t-s),u()):c()}};return r.addEventListener("mousedown",s),r.ownerDocument.addEventListener("mouseup",l),r.ownerDocument.addEventListener("mousemove",f),function(){r.removeEventListener("mousedown",s),r.ownerDocument.removeEventListener("mouseup",l),r.ownerDocument.removeEventListener("mousemove",f),c()}}}),[e])}(V,q,(function(e){se((function(t){return t+e}))})),De((function(){function e(e){var t=Me&&e.detail<0,n=Re&&e.detail>0;!B||t||n||e.preventDefault()}var t=q.current;return t.addEventListener("wheel",Fe,{passive:!1}),t.addEventListener("DOMMouseScroll",Ke,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",Fe),t.removeEventListener("DOMMouseScroll",Ke),t.removeEventListener("MozMousePixelScroll",e)}}),[B,Me,Re]),De((function(){if(g){var e=Be(te);ne(e),He({x:e})}}),[ye.width,g]);var Xe=function(){var e,t;null===(e=Ee.current)||void 0===e||e.delayHidden(),null===(t=_e.current)||void 0===t||t.delayHidden()},Ge=function(e,t,n,r,i,a,c,u){var s=o.useRef(),l=R(o.useState(null),2),f=l[0],d=l[1];return De((function(){if(f&&f.times<10){if(!e.current)return void d((function(e){return j({},e)}));a();var o=f.targetAlign,u=f.originAlign,s=f.index,l=f.offset,h=e.current.clientHeight,p=!1,v=o,m=null;if(h){for(var g=o||u,b=0,y=0,w=0,E=Math.min(t.length-1,s),_=0;_<=E;_+=1){var x=i(t[_]);y=b;var O=n.get(x);b=w=y+(void 0===O?r:O)}for(var S="top"===g?l:h-l,M=E;M>=0;M-=1){var R=i(t[M]),P=n.get(R);if(void 0===P){p=!0;break}if((S-=P)<=0)break}switch(g){case"top":m=y-l;break;case"bottom":m=w-h+l;break;default:var C=e.current.scrollTop;y<C?v="top":w>C+h&&(v="bottom")}null!==m&&c(m),m!==f.lastTop&&(p=!0)}p&&d(j(j({},f),{},{times:f.times+1,targetAlign:v,lastTop:m}))}}),[f,e.current]),function(e){if(null!=e){if(qe.cancel(s.current),"number"==typeof e)c(e);else if(e&&"object"===_(e)){var n,r=e.align;n="index"in e?e.index:t.findIndex((function(t){return i(t)===e.key}));var o=e.offset;d({times:0,index:n,offset:void 0===o?0:o,originAlign:r})}}else u()}}(q,X,I,c,k,(function(){return z(!0)}),se,Xe);o.useImperativeHandle(t,(function(){return{nativeElement:J.current,getScrollInfo:Le,scrollTo:function(e){var t;(t=e)&&"object"===_(t)&&("left"in t||"top"in t)?(void 0!==e.left&&ne(Be(e.left)),Ge(e.top)):Ge(e)}}})),De((function(){if(S){var e=X.slice(ve,me+1);S(e,X)}}),[ve,me,X]);var ut=function(e,t,n,r){var i=R(o.useMemo((function(){return[new Map,[]]}),[e,n.id,r]),2),a=i[0],c=i[1];return function(o){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,u=a.get(o),s=a.get(i);if(void 0===u||void 0===s)for(var l=e.length,f=c.length;f<l;f+=1){var d,h=e[f],p=t(h);a.set(p,f);var v=null!==(d=n.get(p))&&void 0!==d?d:r;if(c[f]=(c[f-1]||0)+v,p===o&&(u=f),p===i&&(s=f),void 0!==u&&void 0!==s)break}return{top:c[u-1]||0,bottom:c[s]}}}(X,k,I,c),st=null==P?void 0:P({start:ve,end:me,virtual:V,offsetX:te,offsetY:ge,rtl:F,getSize:ut}),lt=function(e,t,n,r,i,a,c,u){var s=u.getKey;return e.slice(t,n+1).map((function(e,n){var u=c(e,t+n,{style:{width:r},offsetX:i}),l=s(e);return o.createElement(Ye,{key:l,setRef:function(t){return a(e,t)}},u)}))}(X,ve,me,g,te,D,h,ue),ft=null;a&&(ft=j(O({},s?"height":"maxHeight",a),ct),B&&(ft.overflowY="hidden",g&&(ft.overflowX="hidden"),oe&&(ft.pointerEvents="none")));var dt={};return F&&(dt.dir="rtl"),o.createElement("div",E({ref:J,style:j(j({},l),{},{position:"relative"}),className:K},dt,N),o.createElement(Ne,{onResize:function(e){we({width:e.offsetWidth,height:e.offsetHeight})}},o.createElement(y,{className:"".concat(r,"-holder"),style:ft,ref:q,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==Q&&se(t),null==w||w(e),He()},onMouseEnter:Xe},o.createElement(Ie,{prefixCls:r,height:pe,offsetX:te,offsetY:ge,scrollWidth:g,onInnerResize:z,ref:G,innerProps:M,rtl:F,extra:st},lt))),V&&pe>a&&o.createElement(rt,{ref:Ee,prefixCls:r,scrollOffset:Q,scrollRange:pe,rtl:F,onScroll:ze,onStartMove:ae,onStopMove:ce,spinSize:Oe,containerSize:ye.height,style:null==C?void 0:C.verticalScrollBar,thumbStyle:null==C?void 0:C.verticalScrollBarThumb,showScrollBar:L}),V&&g>ye.width&&o.createElement(rt,{ref:_e,prefixCls:r,scrollOffset:te,scrollRange:g,rtl:F,onScroll:ze,onStartMove:ae,onStopMove:ce,spinSize:xe,containerSize:ye.width,horizontal:!0,style:null==C?void 0:C.horizontalScrollBar,thumbStyle:null==C?void 0:C.horizontalScrollBarThumb,showScrollBar:L}))}var st=o.forwardRef(ut);st.displayName="List";const lt=st;var ft=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function dt(e){const{empty:t,extra:n,height:o,onClick:i,actions:a,virtual:c,className:u,onLoadMore:s,renderItem:l,dataSource:f=[],vertical:p=!0}=e,v=ft(e,["empty","extra","height","onClick","actions","virtual","className","onLoadMore","renderItem","dataSource","vertical"]);return(0,r.jsx)(h.List,Object.assign({},v,{className:d()("list-wrapper",u),itemLayout:p?"vertical":"horizontal",children:f.length>0?(0,r.jsx)(lt,{itemKey:"id",itemHeight:45,virtual:c,data:f,onScroll:e=>{o&&e.currentTarget.scrollHeight-e.currentTarget.scrollTop+10>=o&&s&&s()},height:c&&o?o:void 0,children:(e,t)=>(0,r.jsxs)(h.List.Item,{"data-id":e.id,extra:n?n(e):void 0,actions:a?a(e):void 0,onClick:t=>{((e,t)=>{e.stopPropagation(),e.preventDefault(),i&&i(t)})(t,e)},className:d()(e.className,{"list-cursor":!!i}),children:[e.title&&(0,r.jsx)(h.List.Item.Meta,{title:e.title,description:e.description||e.desc,avatar:e.avatar?(0,r.jsx)(h.Avatar,{src:e.avatar}):null}),l&&l(e,t)]},e.id)}):(0,r.jsx)(h.Empty,{description:t,image:h.Empty.PRESENTED_IMAGE_SIMPLE})}))}function ht(e){const{app:t,id:n,data:o,start:i,limit:a,loading:c,onPager:u,onClick:s}=e;return(0,r.jsx)(dt,{virtual:!0,height:600,loading:c,onClick:s,className:"sidebar",empty:t.i18n("empty"),footer:(0,r.jsx)(h.Pagination,{simple:!0,current:i,pageSize:a,total:o.total,onChange:u}),dataSource:o.items.map((e=>({...e,className:e.id===n?"active":""}))),renderItem:e=>(0,r.jsx)("div",{className:"changed",children:y()(1e3*e.create).format("YYYY-MM-DD HH:mm:ss")})})}function pt(e){if(s(e))return e;try{return JSON.stringify(e)}catch(t){return e.toString()}}function vt(){const[e,t]=(0,o.useState)(""),{me:n,app:r,data:i,loading:a,start:u,limit:s,onPager:l}=function(e){const{uri:t,query:n,defaultLimit:r=10}=e,{me:i,app:a,container:u}=c(),[s,l]=(0,o.useState)(1),[f,d]=(0,o.useState)(""),[h,p]=(0,o.useState)(r),[v,m]=(0,o.useState)(!1),[g,b]=(0,o.useState)({total:0,items:[]}),y=()=>{m(!0),a.fetch(t,{query:Object.assign(Object.assign({},n),{limit:h,start:s,search:f})}).then(b).catch((e=>{a.error(e&&e.message?e.message:e)})).finally((()=>{m(!1)}))};return(0,o.useEffect)(y,[pt(Object.assign(Object.assign({},n),{limit:h,start:s,search:f}))]),{me:i,app:a,data:g,start:s,limit:h,search:f,loading:v,refetch:y,onPager:(e,t)=>{l(e),p(t)},onSearch:e=>{l(1),d(e)},container:u}}({uri:"message/list"});return(0,o.useEffect)((()=>r.on(`${n.id}_route`,(e=>{e&&t(e)}))),[]),{id:e,app:r,data:i,start:u,limit:s,onPager:l,loading:a,onClose(){t("")},onClick(e){e.id&&t(e.id)}}}function mt(){const e=vt();return(0,r.jsxs)("div",{className:"wrapper",children:[(0,r.jsx)(ht,{...e}),(0,r.jsx)(w,{...e})]})}function gt(){const{me:e,app:t}=c();return(0,o.useEffect)((()=>{t.fire("display")}),[]),location.hash.indexOf("mid=message")>=0?(0,r.jsx)("div",{className:"outside-tab",children:(0,r.jsx)("div",{className:"inside-tab",children:(0,r.jsx)(mt,{})})}):(0,r.jsx)(g,{id:e.id,width:800,type:"modal",footer:null,maskClosable:!1,onChange:(n,r)=>{if(!n)return r?(t.fire(`${e.id}_route`,r),!0):void 0;r?t.fire(`${e.id}_route`,r):t.fire(`${e.id}_route`)},onVisible:e=>{t.fire("scrollable",!e)},styles:{content:{padding:0}},children:(0,r.jsx)(mt,{})})}window.definePlugin("message",(function(e,t,n){let o=null;return{start(){o||(o=n.display.render((({root:o,shadow:i,container:c})=>({app:t,me:e,children:(0,r.jsx)(gt,{}),provider:(0,r.jsx)(a.Provider,{value:{app:t,root:o,shadow:i,container:c,me:e,dependencies:n}})})),{style:".ant-list.list-wrapper .ant-list-header {\n  padding: 10px 15px;\n}\n.ant-list.list-wrapper .ant-list-item {\n  position: relative;\n  padding: 10px 15px 0;\n}\n.ant-list.list-wrapper .ant-list-item .ant-list-item-meta {\n  margin-bottom: 8px;\n}\n.ant-list.list-wrapper .ant-list-item .ant-list-item-meta .ant-list-item-meta-title {\n  font-weight: normal;\n  font-size: 15px;\n  margin-bottom: 2px;\n}\n.ant-list.list-wrapper .ant-list-item .ant-list-item-action {\n  margin: 0 0 10px;\n}\n.ant-list.list-wrapper .ant-list-item .ant-list-item-action li {\n  padding-right: 0;\n}\n\n.list-cursor {\n  cursor: pointer;\n}\n.list-cursor:hover {\n  background: rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.5);\n}\n\n.wrapper {\n  display: flex;\n  min-height: 80vh;\n}\n.changed {\n  opacity: 0.5;\n  font-size: 13px;\n  margin-top: -6px;\n  margin-bottom: 8px;\n}\n.sidebar.ant-list {\n  width: 240px;\n  flex-shrink: 0;\n  background: rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.2);\n  border-right: 1px solid rgb(var(--bg-r), var(--bg-g), var(--bg-b));\n}\n.sidebar.ant-list .ant-list-footer {\n  border-top: 1px solid rgb(var(--bg-r), var(--bg-g), var(--bg-b));\n}\n.sidebar.ant-list .ant-list-footer .ant-pagination {\n  justify-content: center;\n}\n.sidebar.ant-list .ant-list-item.active {\n  background: rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.4);\n}\n.main {\n  flex-shrink: 1;\n  padding: 10px 20px;\n}\n.main h2.title {\n  font-size: 24px;\n}\n.main .article {\n  font-size: 16px;\n}\n.outside-tab {\n  background: var(--canvas);\n  padding: 80px 0;\n}\n.outside-tab .inside-tab {\n  max-width: 1000px;\n  border-radius: 10px;\n  margin: 0 auto;\n  background: var(--bg);\n}\n.mobile .outside-tab {\n  padding: 0;\n}\n.mobile .sidebar {\n  width: 100%;\n  border-right-width: 0;\n}\n.mobile .ant-modal .ant-modal-content {\n  padding: 0;\n}\n\n.ant-drawer.popup-toolbar {\n  height: auto;\n  bottom: auto;\n  left: auto;\n}\n.ant-drawer.popup-toolbar .ant-drawer-content-wrapper {\n  height: auto !important;\n  width: auto !important;\n  position: static !important;\n}\n.ant-drawer.popup-toolbar .ant-drawer-content {\n  flex-direction: row-reverse;\n  align-items: start;\n}\n.ant-drawer.popup-toolbar .ant-drawer-header-close-only {\n  padding: 16px;\n  border: 0;\n}\n.ant-drawer.popup-toolbar .ant-drawer-header-close-only .ant-drawer-close {\n  margin-right: 0;\n}\n\n.mobile .ant-drawer.popup-toolbar .ant-drawer-content-wrapper {\n  overflow: auto;\n  max-height: 100vh !important;\n  width: 100vw !important;\n}\n\n",...t.applyFilter(`shadow_props_${e.id}`,{})}))},destory(){o&&(o(),o=null)}}}))})();