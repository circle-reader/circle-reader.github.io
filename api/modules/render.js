(()=>{"use strict";var n={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},d:(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(n,e)=>Object.prototype.hasOwnProperty.call(n,e)};const e=ReactJsxRuntime,t=React,r=(0,t.createContext)({}),i=Antd;function a(n,e){return Object.prototype.toString.call(n)===`[object ${e}]`}function o(n){return a(n,"Undefined")}function c(n){return a(n,"String")}function s(n,e){return!(!n||!n.tagName)&&n.tagName.toLowerCase()===e}function l(n){return n&&n.nodeType&&1===n.nodeType}function d(n){return a(n,"Number")}function p(n){return a(n,"Function")}function u(n){return a(n,"Boolean")}function g(n=location.href){return n.startsWith("chrome")||n.startsWith("edge")||n.startsWith("opera")||n.startsWith("extension")||n.startsWith("vivaldi")||n.startsWith("whale")||n.startsWith("ms-browser")||n.startsWith("moz-extension")||n.startsWith("safari-web-extension")}const m=AntDesignIcons;function f(){return(0,t.useContext)(r)}const h="https://microsoftedge.microsoft.com/addons/detail/circle-%E9%98%85%E8%AF%BB%E6%A8%A1%E5%BC%8F%EF%BD%9Creader-mode/hjkjecmcifblnghjpcjaofpakjpgfjio";function b(n){const{app:t}=n,{modal:r}=i.App.useApp();return(0,e.jsx)(i.Button,{type:"text",size:"large",className:"like",icon:(0,e.jsx)(m.HeartFilled,{}),onClick:()=>{r.confirm({type:"success",okText:t.i18n("vote"),cancelText:t.i18n("do_later"),content:t.i18n("vote_desc"),onOk:()=>{"edge"!==t.device.browser?"opera"!==t.device.browser?"360"!==t.device.browser?"firefox"!==t.device.browser?"chrome"!==t.device.browser?t.tabs("create",{url:h}):t.tabs("create",{url:"https://chrome.google.com/webstore/detail/circle-reader-mode/dhpfcgilccfkodnhbllpiaabofjbjcbg"}):t.tabs("create",{url:"https://addons.mozilla.org/zh-CN/firefox/addon/circle-reader/"}):t.tabs("create",{url:"https://ext.chrome.360.cn/webstore/detail/dhpfcgilccfkodnhbllpiaabofjbjcbg"}):t.tabs("create",{url:"https://addons.opera.com/en/extensions/details/circle-yue-du-mo-shi"}):t.tabs("create",{url:h})}})}})}function x(){const{app:n}=f(),[r,a]=(0,t.useState)(!1);return(0,t.useEffect)((()=>n.on("user_will_expire",(()=>{a(!0)}))),[]),(0,e.jsx)(i.Modal,{open:r,footer:null,onCancel:()=>{a(!1)},children:(0,e.jsx)(i.Result,{status:"warning",title:n.i18n("expire_soon"),extra:(0,e.jsx)(i.Button,{size:"large",type:"primary",onClick:()=>{a(!1),n.fire("subscribe")},children:n.i18n("renew")})})})}function y(n){const{app:t}=n,{modal:r}=i.App.useApp();return(0,e.jsx)(i.Button,{type:"text",size:"large",className:"unlike",icon:(0,e.jsx)(m.MehFilled,{}),onClick:()=>{r.confirm({type:"info",okText:t.i18n("feedback"),cancelText:t.i18n("do_later"),content:t.i18n("feedback_desc"),onOk:()=>{t.fire("feedback")}})}})}function v(n){return n?d(n)?n:parseInt(n):0}function w(){const{app:n,user:r}=function(){const{me:n,app:e,container:r}=f(),[i,a]=(0,t.useState)(e.user),o=(0,t.useRef)(e.user.is_logged_in),c=n=>{const t=[];return["member","premium"].forEach((e=>{n.roles.includes(e)&&t.push(e)})),(t.length>0?e.fetch("expire/get",{query:{roles:t.join(",")},headers:{"X-Circle-App":"reader","X-Circle-Lang":e.lang,"X-Circle-Version":e.version,"X-Circle-Token":`${n.access_token}*&~!${n.uid}`}}):Promise.resolve({member:0,premium:0})).then((t=>(e.fire("user_refresh",Object.assign(Object.assign({},n),t)),Promise.resolve(!0))))};return(0,t.useEffect)((()=>{const n=[];return n.push(e.on("tab_activated",(()=>{e.syncUser().then((()=>{a(Object.assign({},e.user))}))}))),n.push(e.on("user_refresh",(n=>{e.syncUser(n).then((n=>{a(Object.assign({},n))}))}))),()=>{n.forEach((n=>{n()}))}}),[]),(0,t.useEffect)((()=>{if(o.current===i.is_logged_in)return;o.current=i.is_logged_in;const n=i.roles.filter((n=>["member","premium"].includes(n))),t=n.join("_")||"expired";e.field(t)||(e.field(t,!0),e.fire("expired",n.length<=0,(()=>{e.field(t,"destory")})))}),[i.is_logged_in]),{me:n,app:e,user:i,login:n=>e.syncUser(Object.assign(Object.assign({},e.user),{access_token:""})).then((()=>e.fetch("circle/login",{data:n}).then(c))),logout:()=>(e.fire("user_refresh",{uid:i.uid,roles:[],access_token:""}),Promise.resolve(!0)),register:n=>e.syncUser(Object.assign(Object.assign({},e.user),{access_token:""})).then((()=>e.fetch("circle/register",{data:n}).then(c))),container:r,resetPassowrd:n=>e.fetch("circle/password",{data:n}).then(c),updateProfile:n=>e.fetch("circle/profile",{data:n}).then(c)}}(),a=()=>{n.fire("subscribe")};if((0,t.useEffect)((()=>{n.get("auth_at","apps").then((e=>{!d(e)||e<=0||Date.now()<=e||n.remove("auth_at","apps").finally((()=>{n.fetch("circle/auth",{silence:!0,method:"POST"}).then((e=>{if(e.length<=0)return void n.fire("user_refresh",{...r,member:"0",premium:"0",roles:[]});const t=r.roles.filter((n=>!e.includes(n)));if(t.length>0){const n={...r,roles:r.roles.filter((n=>!t.includes(n)))};return t.forEach((e=>{n[e]=0})),void this.fire("user_refresh",n)}const i=e.filter((n=>!r.roles.includes(n)));i.length>0&&(i.forEach((n=>{r.roles.push(n)})),n.fetch("expire/get",{silence:!0,query:{roles:i.join(",")}}).then((e=>{n.fire("user_refresh",{...r,...e})})))}))}))}))}),[r]),r.roles.includes("premium")){const t=v(r.premium);if(t>0){const r=new Date,o=new Date(1e3*t).getTime()-r.getTime();return o>0&&o<6048e5?(0,e.jsx)(i.Button,{size:"small",type:"primary",className:"hide-printf",style:{opacity:.8},onClick:a,children:n.i18n("expire_soon")}):null}return null}return r.roles.includes("member")?(0,e.jsx)(i.Button,{type:"text",size:"small",className:"hide-printf",style:{opacity:.7},onClick:a,children:n.i18n("upgrade")}):(0,e.jsx)(i.Button,{size:"small",type:"link",className:"hide-printf",style:{opacity:.8},onClick:a,children:n.i18n("subscribe")})}const{Text:_}=i.Typography;function k(){const{app:n}=f(),{value:r,container:a}=function(n){const{id:e,disabled:r,defaultValue:i,fieldToListen:a}=n,{app:c,me:s,container:l}=f(),[d,u]=(0,t.useState)(i),g=()=>{r||c.option(e).then((n=>{!o(n)&&u(n)}))};return(0,t.useEffect)((()=>c.on("tab_activated",(n=>{n&&g()}))),[]),(0,t.useEffect)((()=>{g();let n="";n=a||(e&&"option"!==e?"display"===e?`${s.id}_display_${c.colorScheme.value?c.colorScheme.value+"_":""}option`:`${e}_option`:`${s.id}_option`);const t=[];return t.push(c.on(n,g)),t.push(c.on("color_scheme",g)),()=>{t.forEach((n=>{n()}))}}),[e]),{me:s,app:c,value:d,refetch:g,setValue:u,onChange:(n,t)=>{r||o(n)||c.option(e,n).then((()=>{u(n),p(t)&&t()})).catch((n=>{console.error(n),p(t)&&t(n.message)}))},container:l}}({id:"display",defaultValue:{margin:"80px",padding:"80px",removefooter:!1,paper:!n.device.phone}});return(0,t.useEffect)((()=>{r.paper?!a.classList.contains("paper")&&a.classList.add("paper"):a.classList.contains("paper")&&a.classList.remove("paper")}),[r.paper]),(0,t.useEffect)((()=>{n.fire("display",!0,{margin:c(r.margin)?r.margin:`${r.margin}px`,padding:c(r.padding)?r.padding:`${r.padding}px`})}),[r.padding,r.margin]),r.removefooter?null:(0,e.jsxs)("div",{className:"copyright notranslate",children:[(0,e.jsxs)(i.Space,{size:68,style:{marginBottom:20},children:[(0,e.jsx)(b,{app:n}),(0,e.jsx)(y,{app:n}),(0,e.jsx)(i.Button,{type:"text",size:"large",className:"coffee",icon:(0,e.jsx)(m.CoffeeOutlined,{}),onClick:()=>{n.fire("donate")}})]}),(0,e.jsx)(i.Space,{size:0,children:[{url:n.path("docs/agreement.html"),title:n.i18n("agreement")},{url:n.path("docs/privacy.html"),title:n.i18n("privacy")}].map((n=>(0,e.jsx)(i.Button,{size:"small",type:"text",href:n.url,target:"_blank",children:n.title},n.url)))}),(0,e.jsx)(x,{}),(0,e.jsx)(w,{}),(0,e.jsx)(_,{type:"secondary",children:n.i18n("copyright",g()?"circlereader.com":location.hostname)})]})}const j=classNames;var E=n.n(j);function A(n,e){return Object.prototype.toString.call(n)===`[object ${e}]`}function $(n){return A(n,"String")}function S(n){return A(n,"Number")}function T(n,e,t){n&&$(e)&&!function(n){return A(n,"Undefined")}(t)&&(n.style[e]=S(t)&&!["zIndex","opacity"].includes(e)?`${t}px`:t)}function C(n,e,t){const r=S(t)&&!["zIndex","opacity"].includes(e)?`${t}px`:t;switch(e){case"innerHTML":case"innerText":case"className":case"textContent":n[e]=r;break;case"style":!function(n,e){if(!n)return;let t=0;if(n.forEach){const r=n.length;if(r<=0)return;for(;t<r&&!e(n[t],t);)t++}else{const r=Object.keys(n),i=r.length;if(i<=0)return;for(;t<i&&!e(n[r[t]],r[t]);)t++}}(t,((e,t)=>{T(n,t,e)}));break;default:n.setAttribute(e,r)}}function O(n){const e=n.src;e&&e.startsWith("data")&&n.classList.add("base64");const t=n.width||n.naturalWidth,r=n.height||n.naturalHeight;t<=0||r<=0||(n.classList.remove("tiny","large"),t<200&&r<200?n.classList.add("tiny"):n.classList.add("large"))}function L(n,e){if(!n)return;let t=0;if(n.forEach){const r=n.length;if(r<=0)return;for(;t<r&&!e(n[t],t);)t++}else{const r=Object.keys(n),i=r.length;if(i<=0)return;for(;t<i&&!e(n[r[t]],r[t]);)t++}}function z(n){if(!l(n))return;const e=n.querySelectorAll('[loading="lazy"]');e.length>0&&e.forEach((n=>{n.removeAttribute("loading")})),L(n.querySelectorAll("img"),(n=>{if(n.complete&&O(n),n.addEventListener("load",(function e(){n.removeEventListener("load",e),O(n)})),!n||!n._mirrorElement)return;const e=n._mirrorElement;e.addEventListener("load",(function t(){e.removeEventListener("load",t),C(n,"src",e.src)}))}))}function q(n){if(!n||!l(n)||"separator"===n.getAttribute("role"))return!1;if(s(n,"table")||s(n,"pre"))return!1;if(!s(n,"p")){let e=!0;if(L(n.childNodes,(n=>{if(!l(n))return e=!1,!0})),e){let e=!1;return L(n.childNodes,(n=>{if(s(n,"p"))return e=!0,!0})),e||!!n.querySelector("p")}return!1}return!1}function N(n){const e=n.replace(/正文|_/g,"").trim();return e.length>0?e:n}function P(n){n.getApp(["fullscreen","scrollpage"]).then((e=>{const t=(Array.isArray(e)?e:[]).filter((n=>n&&n.enabled));t.length<=0||Promise.all(t.map((e=>n.get(`${e.id}_option`).then((n=>Promise.resolve({[e.id]:n})))))).then((e=>{const t={fullscreen:"autofullscreen",scrollpage:"autoscroll"};L(e,((e,r)=>{e&&e[t[r]]&&n.fire(r)}))}))})).catch((()=>{}))}function B(n){if(!n)return"";let e="";c(n)?e=n:!function(n){return a(n,"Text")}(n)?l(n)&&(e=n.textContent):e=n.nodeValue;const t=(e||"").trim();return t.length>0?t.replace(/^&nbsp;+|&nbsp;+$/g,""):""}function I(n){const{date:t,word_count:r,read_time:a,author:o}=n,{app:c}=f(),s=Array.isArray(o)?o[0]:o;if(!(t||s||a||r))return null;const l=s&&s.name,d=s&&s.avatar;return(0,e.jsxs)("p",{className:E()("meta",{avatar:!!d}),children:[d&&(0,e.jsx)(i.Avatar,{src:d}),l&&(0,e.jsx)("span",{className:"author",children:l}),t&&(0,e.jsx)("span",{children:t}),r&&(0,e.jsx)("span",{children:c.i18n("word_count",`${r}`)}),a&&(0,e.jsx)("span",{children:c.i18n("read_time",`${a}`)})]})}function R(n){const{data:r}=n,[a,o]=(0,t.useState)(""),[s,d]=(0,t.useState)("");return(0,t.useEffect)((()=>{if(c(r))!r.startsWith("data:")&&o(r);else if(l(r)){const n=function(n){let e="";L(n.attributes,(n=>{const t=n.nodeName;if(["class","role","src","alt"].includes(t))return;if(/thumbnail/i.test(t))return;const r=`${n.nodeValue}`;return(r.startsWith("http")||/src|url|origin/i.test(t))&&!/\s/.test(r)&&r.split("/").length>1&&r.length>10?(e=r,!0):void 0}));const t=e||n.src;if(t&&!t.endsWith("svg"))return t;const r=`${window.getComputedStyle(n).backgroundImage}`.replace(/url\("(.*?)"\)/,"$1");return c(r)&&"none"!==r&&r.split("/").length>1?r:""}(r);!n.startsWith("data:")&&o(n);const e=r.srcset;e&&d(e)}}),[r]),r&&a?(0,e.jsx)("div",{className:"cover",children:(0,e.jsx)(i.Image,{src:a,preview:!1,srcSet:s,onLoad:n=>{const e=n.target;e.naturalWidth/e.naturalHeight>4&&o("")},onError:()=>{o("")}})}):null}function D(n,e,t){const r=n.ownerDocument;if(!r)return;const i=r.querySelector("head > title");if(!i)return;const o=B(i);if(o.length>0)return void(e&&e(o));let c=null;const s=function(n,e,t){if(!l(n))return void e();const r=new MutationObserver((function(n){if(!n||n.length<1)return;const t=n[0].addedNodes;!t||t.length<1||e(t)}));return r.observe(n,t||{childList:!0,subtree:!0}),()=>{r.disconnect()}}(i,(n=>{if(!n)return;const t=n[0];if(!t||!a(t,"Text"))return;const r=B(t);r&&r.length>0&&(c&&clearTimeout(c),s&&s(),e&&e(r))}));c=setTimeout((function(){s&&s(),t&&t()}),3e3)}function W(n){const{url:r,title:i,article:a}=n,[o,s]=(0,t.useState)("");return(0,t.useEffect)((()=>{const n=B(i);if(c(n)&&n.length>0)s(n);else{if(!a)return;let n;l(a)?n=a:Array.isArray(a)&&a.length>0&&a[0]&&l(a[0].content)&&(n=a[0].content),n&&D(n,(n=>{s(n)}),(()=>{s("")}))}}),[i,a]),o?r?(0,e.jsx)("h1",{className:"title",children:(0,e.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:N(o)})}):(0,e.jsx)("h2",{className:"sub-title",children:N(o)}):null}function F(n){const{me:r,app:a,url:o}=n,[c,s]=(0,t.useState)("wait");return(0,e.jsx)(i.Result,{className:"page-empty",status:"error"===c?"error":"warning",subTitle:"error"===c?a.i18n("parser_fail"):"running"===c?a.i18n("parsering"):a.i18n("wait_parser"),extra:(0,e.jsx)(i.Button,{type:"primary",onClick:()=>{s("running"),a.fire("node_from_context_by_url",o,((n,e)=>{if(n||!e)return void s("error");const t=a.field("node")||[];t.push(e),a.field("node",t),a.fire(`${r.id}_refetch`)}))},disabled:"error"===c,loading:"running"===c,children:a.i18n("smart_parser")})})}function M(n){const{data:t}=n,{app:r}=f();return!Array.isArray(t)||t.length<=0?null:(0,e.jsx)("div",{className:"footer",children:(0,e.jsx)(i.Space,{wrap:!0,size:0,children:t.map(((n,t)=>(0,e.jsx)(i.Tag,{onClick:()=>{r.get("engine").then((e=>{const t=e||"https://www.baidu.com/s?wd=";r.tabs("create",{url:`${t}${encodeURIComponent(n+" site:"+location.hostname)}`});const i=t.split(".");i.length<2||r.record(`open-tag-with-${i[1]||"baidu"}`)}))},children:n},`${n}_${t}`)))})})}function U(n){const{data:t}=n;return t?(0,e.jsx)("blockquote",{className:"excerpt",children:(0,e.jsx)("p",{children:t})}):null}function V(n){if(n.id)return n.id;if(n.url)return n.url;const e=btoa(encodeURIComponent(function(n){if(c(n))return n;try{return JSON.stringify(n)}catch(e){return n.toString()}}(n)));return e.substring(e.length-20,e.length-2)}function H(n){const{article:r}=n,i=(0,t.useRef)(null);return(0,t.useEffect)((()=>{const n=i.current;if(!n)return;let e;l(r)?e=function(n){let e=n,t=n.cloneNode(!0);for(;e;){const r=e._mirrorElement;t._mirrorElement=r||e;const i=e.firstElementChild;if(i)e=i,t=t.firstElementChild;else{let r;for(;e!==n&&!(r=e.nextElementSibling);)e=e.parentElement,t=t.parentElement;if(e===n)break;e=r,t=t.nextElementSibling}}return t}(r):(e=document.createElement("div"),e.innerHTML=r);const t=e._mirrorParent;L(e.querySelectorAll("div,p"),(n=>{n.childNodes.length<=0&&n.parentElement.removeChild(n)})),t&&L(e.children,(function(n){n.setAttribute("role","separator")}));let a=n.nextSibling;const o=[];for(;a&&(!l(a)||!a.classList.contains("footer"));)o.push(a),a=a.nextSibling;o.length>0&&L(o,(n=>{n.parentElement.removeChild(n)}));let c=e.firstChild;const s=[];for(;c;)if(q(c)){const n=c.parentElement,e=c.firstChild;let t,r=e;for(;r;)t=r.nextSibling,n?.insertBefore(r,c),r=t;s.push(c),c=e}else c=c.nextSibling;let d;s.length>0&&L(s,(n=>{n.parentElement.removeChild(n)}));let p=e.firstChild;const u=document.createDocumentFragment();for(;p;){if(d=p.nextSibling,u.appendChild(p),!d){const n=p.parentElement;if(!e.contains(n))break;d=n.nextSibling}p=d}!function(n,e){if(1!==n.nodeType||n instanceof DocumentFragment){let t=e.nextSibling;const r=!t;r&&(t=document.createElement("p"),e.parentElement?.appendChild(t)),e.parentElement?.insertBefore(n,t),r&&t?.parentElement?.removeChild(t)}else e.insertAdjacentElement("afterend",n)}(u,n)}),[r]),(0,e.jsx)("p",{ref:i})}function X(n){const{id:t,data:r}=n;return Array.isArray(r)?r.map((n=>(0,e.jsxs)("div",{className:"sub-page",children:[n.title&&(0,e.jsx)(W,{id:t,title:n.title,article:n.content}),(0,e.jsx)(I,{author:n.author,date:n.modified||n.published}),(0,e.jsx)(H,{article:n.content})]},V(n)))):(0,e.jsx)(H,{article:r})}function J(n){const{data:r,style:i}=n,{id:a,url:c,title:s,cover:l,author:d,excerpt:p,content:u,modified:g,published:m,read_time:h,word_count:b,tags:x=[]}=r,{me:y,app:v}=f(),w=(0,t.useRef)(null);return(0,t.useEffect)((()=>{if(!w.current)return;const n=[],e=w.current;if(e.classList.contains("empty"))return void(v.data("done")?v.fire(`${y.id}_page`,e):(v.data("done",!0),v.apply(`${y.id}_done`).then((()=>{setTimeout((()=>{v.fire(`${y.id}_page`,e),P(v)}),200)}))));let t=e.querySelector("mjx-container");t||(t=e.querySelector(".katex")),t||(t=e.querySelector(".ztext-math, .MathJax_SVG, .MJX_Assistive_MathML")),t&&n.push("math"),e.querySelector("pre, code, .crayon-syntax .crayon-code>.crayon-pre")&&n.push("code");const r=e.querySelectorAll("img");r.length>0&&(n.push("image"),L(r,(n=>{n.addEventListener("error",(function(){this.src.endsWith("break.svg")||(this.src=v.getURL("assets/break.svg"))}))})));const i=e.querySelectorAll("a");i.length>0&&L(i,(n=>{n.children.length<=0?n.classList.add("link"):n.querySelector("img")&&n.classList.add("link-with-img")})),(n.length>0?Promise.all(n.map((n=>v.apply(n)))):Promise.resolve()).then((()=>{v.data("done")?(v.fire(`${y.id}_page`,e),setTimeout((()=>{P(v),z(e)}),200)):(v.data("done",!0),v.apply(`${y.id}_done`).then((()=>{setTimeout((()=>{v.fire(`${y.id}_page`,e),P(v),z(e)}),200)})))}))}),[]),(0,e.jsxs)("div",{ref:w,style:i,className:E()("page",{zh:!!u&&(_=B(u),/[\u4e00-\u9fa5]/.test(_))}),children:[!o(s)&&(0,e.jsx)(W,{id:a,url:c,title:s,article:u}),u?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(I,{author:d,read_time:h,word_count:b,date:g||m}),(0,e.jsx)(U,{data:p}),(0,e.jsx)(R,{data:l}),(0,e.jsx)(X,{id:a,data:u}),(0,e.jsx)(M,{data:x})]}):(0,e.jsx)(F,{url:c,me:y,app:v})]});var _}function Y(n,e,t=location.hash.substring(1).split("&")){let r=[];if(t.join("").length<=0)return{hashs:[],hash:r};const i=Array.isArray(n)?n:[n],a=t.filter((n=>{if(i.findIndex((e=>n.indexOf(e)>=0))<0)return!0;r.push(n)}));if(e){const t=`${n}=${e}`;a.push(t),r=[],r.push(t)}return{hashs:a,hash:r}}function G(n){const e=Array.isArray(n)?n:[];try{window.history.replaceState(null,"",`${location.pathname+location.search}${e.length>0?"#"+e.join("&"):""}`)}catch(n){location.hash=e.length>0?e.join("&"):""}}function K(){const{app:n,me:e}=f(),r=n.field("node"),[i,a]=(0,t.useState)(Array.isArray(r)?r:[]);return(0,t.useEffect)((()=>{const t=[];return t.push(n.on(`${e.id}_refetch`,(()=>{const e=n.field("node");Array.isArray(e)&&a(e.map((e=>{if("firefox"===n.device.browser){if(e.url===function(n=location.href){if(/circle=/.test(n)){const[e,t=""]=n.split("#");if(!t)return n;const{hashs:r}=Y(["circle","widget"],void 0,t.split("&"));return`${e}${r.length>0?"#"+r.join("&"):""}`}return n}())return e;l(e.title)&&(e.title=B(e.title)),l(e.content)&&(e.content=e.content.innerHTML)}return e})))}))),t.push(n.on("parse_again",(()=>{n.fire(`${e.id}_refetch`)}))),()=>{t.forEach((n=>{n()}))}}),[]),{me:e,app:n,data:i}}function Q(){const{data:n}=K();return(0,e.jsx)("div",{className:"pages",children:n.map((n=>(0,e.jsx)(J,{data:n},V(n))))})}const Z=dayjs;var nn=n.n(Z);function en(n,e,t=0){if(!e)return Promise.resolve(!0);const r=function(n){if(!c(n))return n;try{return JSON.parse(n)}catch(e){return n}}(e);if(!Array.isArray(r)||r.length<=0)return Promise.resolve(!0);let i=0;return L(r,(e=>{if("type"===e.type){const t=Array.isArray(e.value)?e.value:[e.value];"="===e.operator&&t.includes(n.type)?i++:"<>"!==e.operator||t.includes(n.type)||i++}else if("role"===e.type){const t=Array.isArray(e.value)?e.value:[e.value],r=n.user.roles.filter((n=>t.includes(n)));"="===e.operator?r.length>=t.length&&i++:"<>"===e.operator&&r.length<=0&&i++}else if("installed"===e.type){const n=parseInt(e.value,10),r=c(n)?0:n;">"===e.operator&&r>t&&i++}})),i>=r.length}var tn=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t};function rn(n,e){const t=e||{},r=t.id||"power";n.get(r,t.table).then((e=>{if(e)return;const{onOk:i,onCancel:a,message:o,okText:c,cancelText:s}=t,l=tn(t,["onOk","onCancel","message","okText","cancelText"]);i&&p(i)?a&&p(a)?n.fire("notice",Object.assign({type:"warning",onClose:a,okText:c||n.i18n("ok"),message:o||n.i18n("power"),cancelText:s||n.i18n("cancel")},l),(()=>{!i()&&n.set(r,!0,t.table)}),(()=>{!a()&&n.set(r,!0,t.table)})):n.fire("notice",Object.assign({type:"warning",onClose:a,okText:c||n.i18n("ok"),message:o||n.i18n("power")},l),(()=>{!i()&&n.set(r,!0,t.table)})):n.fire("notice",Object.assign({type:"warning",onClose:a,message:o||n.i18n("power")},l))}))}function an(n){n.get("common").then(((e={})=>{e&&e.protocol?n.get("updated","apps").then((e=>u(e)&&e?n.remove("updated","apps").finally((()=>(n.fire("notice",{duration:0,key:"updated",type:"success",okText:n.i18n("changelog"),message:n.i18n("updated"),description:n.i18n("updated_tooltip",n.version)},(()=>{n.tabs("create",{url:n.path("docs/changelog.html")})})),Promise.resolve(!0)))):n.list({match:{type:"sale"}},{start:1,limit:10},"apps").then((e=>{const t=Array.isArray(e.data)?e.data:[];if(t.length<=0)return Promise.resolve(!1);const r=Date.now(),i=t.find((n=>1e3*n.begin<=r&&1e3*n.end>r));return i?(rn(n,{duration:0,table:"apps",id:`sale_${i.begin}`,okText:n.i18n("detail"),cancelText:n.i18n("cancel"),message:n.i18n("sale_old_user"),onOk:()=>{n.fire("subscribe")},onCancel:()=>{}}),Promise.resolve(!0)):Promise.resolve(!1)})))).then((e=>{e||n.get("installed").then((e=>{if(!d(e))return;if(nn().unix(e).add(1,"day").unix()>nn()().unix())return n.data("new_user_alert",!0),void rn(n,{duration:0,table:"apps",id:"new_user_alert",okText:n.i18n("detail"),cancelText:n.i18n("cancel"),message:n.i18n("seal_new_user"),onOk:()=>{n.fire("subscribe")},onCancel:()=>{}});n.get("new_user_alert","apps").then((e=>{o(e)||n.remove("new_user_alert","apps")})).catch((()=>{}))}))})).finally((()=>{(function(n){return n.cron((()=>{if(n.user.roles.includes("member")||n.user.roles.includes("premium"))if(n.user.roles.includes("premium")&&v(n.user.premium)>0){const e=new Date,t=new Date(v(n.user.premium)).getTime()-e.getTime();if(t>0)return void(t<2592e5&&n.fire("user_will_expire"));n.fire("user_refresh",{...n.user,premium:"0",roles:n.user.roles.filter((n=>"premium"!==n))})}else if(n.user.roles.includes("member")&&v(n.user.member)>0){const e=new Date,t=new Date(v(n.user.member)).getTime()-e.getTime();if(t>0)return void(t<2592e5&&n.fire("user_will_expire"));n.fire("user_refresh",{...n.user,member:"0",roles:n.user.roles.filter((n=>"member"!==n))})}}),24,"expire")})(n).finally((()=>function(n){return n.cron((()=>{n.user.roles.includes("member")||n.user.roles.includes("premium")||n.get("common").then(((e={})=>{e&&e.slogan&&n.fire("config-sync",!0)}))}),72,"sync")}(n))).finally((()=>function(n){return n.cron((()=>{Promise.all([n.get("sale_last_sync_id","apps"),n.get("rule_last_sync_id","apps"),n.get("message_last_sync_id","apps"),n.list({match:{type:"plugin",enabled:!0}},{start:0,limit:0},"apps")]).then((([e,t,r,i])=>{const a={apps:""};return e&&e.nid&&(a.sale=e.nid),t&&t.nid&&(a.rule=t.nid),r&&r.nid&&(a.message=r.nid),Array.isArray(i.data)&&i.data.length>0&&(a.apps=i.data.map((n=>`${n.id}=${n.version}`)).join(",")),n.fetch("service/cron",{query:a,silence:!0}).then((({apps:e,rule:t,message:r,sale:i})=>{Array.isArray(e)&&e.length>0&&n.set(e,"apps"),n.get("installed").then((e=>{if(Array.isArray(t)&&t.length>0){const r=t[t.length-1],i=t.filter((t=>en(n,t.condition,e)));(i.length>0?n.set(i.map((n=>({...n.body,type:"rule"}))),"node"):Promise.resolve()).then((()=>n.set("rule_last_sync_id",{nid:r.id},"apps")))}if(Array.isArray(r)&&r.length>0){const t=r[r.length-1],i=en(n,t.condition,e);n.set("message_last_sync_id",{nid:t.id},"apps").then((()=>{i&&n.fire("notice",{duration:0,key:"message",message:t.title,okText:n.i18n("detail"),description:t.body.replace(/<[^>]*>?/gm,"").slice(0,30)},(()=>{n.fire("message",t.id)}))}))}if(Array.isArray(i)&&i.length>0){const t=i[i.length-1],r=i.map((n=>{const e={...n};return["end","begin","discount"].forEach((t=>{if(n[t]){const r=parseFloat(n[t]);d(r)&&r>0?e[t]=r:e[t]=0}})),e})).filter((t=>!(!d(t.begin)||t.begin<=0)&&!(!d(t.end)||t.end<=0)&&!(!d(t.discount)||t.discount<=0||t.discount>=1)&&!(1e3*t.end<=Date.now())&&en(n,t.condition,e))).map((n=>({id:`sale_${n.id}`,value:{type:"sale",end:n.end,begin:n.begin,discount:n.discount}})));(r.length>0?n.set(r,"apps"):Promise.resolve()).then((()=>{n.set("sale_last_sync_id",{nid:t.id},"apps").then((()=>n.list({match:{type:"sale"}},{start:0,limit:0},"apps"))).then((e=>{const t=Array.isArray(e.data)?e.data:[];if(t.length<=0)return Promise.resolve();const r=[];return L(t,(n=>{1e3*n.end<=Date.now()&&(r.push(n.id),r.push(`sale_${n.begin}`))})),r.length<=0?Promise.resolve():n.remove(r,"apps")})).finally((()=>{const e=Date.now(),t=r.find((n=>1e3*n.value.begin<=e&&1e3*n.value.end>e));t&&(n.data("new_user_alert")?n.set(`sale_${t.value.begin}`,!0,"apps"):rn(n,{duration:0,table:"apps",id:`sale_${t.value.begin}`,okText:n.i18n("detail"),cancelText:n.i18n("cancel"),message:n.i18n("sale_old_user"),onOk:()=>{n.fire("subscribe")},onCancel:()=>{}}))}))}))}}))}))})).catch(n.log)}),168,"week")}(n))).finally((()=>function(n){return n.cron((()=>{n.user.is_logged_in&&n.user.roles.includes("premium")&&n.get("sync_auto").then((e=>{e&&n.get("sync_at","apps").then((e=>{(d(e)?e:0)+7200>Date.now()/1e3||n.getApp("sync").then((e=>{e&&e.enabled&&n.fire("sync__auto")}))}))}))}),12,"config")}(n)))})):n.fire("tour")}))}function on(){const n=window.scrollY,e=document.documentElement.scrollHeight;if(e<=0)return;const t=document.body.scrollHeight;if(t<=0)return;const r=n/e*t;document.body.scrollTop=r}const cn=window.scrollY>2e3?"auto":"smooth";function sn(n,e){if(!l(n))return;const t=a(e,"Object")?e:{behavior:c(e)?e:cn};n.scrollIntoView({block:t.block||"start",inline:t.inline||"nearest",behavior:t.behavior||cn})}function ln(n){const e=n.field("container");if(l(e))return e}function dn(n,e){const t=n.querySelectorAll(".page");t.length<=0||L(t,(n=>{L(n.children,e)}))}function pn(){const n=(0,t.useRef)(null),{app:e,me:r,root:i,shadow:a,container:o}=f();return(0,t.useEffect)((()=>{!function(n){n.get("common").then((e=>{const t=e||{slogan:!1};let r=!!u(t.slogan)&&t.slogan;n.on("common_option",((n,e)=>{"slogan"===e&&(r=n)}));const i=(e,t)=>!t.id||r?e:["screenshot","export_marked","export_text","export_html","export_epub","export_word"].includes(t.id)?`${e} - ${n.i18n("name")}`:e,a=(e,t)=>!t.id||r?e:t.part?["export_marked","export_text"].includes(t.id)?`${e}\n\n>${n.i18n("generated_by")}`:["export_html","export_epub","export_word","export_bear","export_wp"].includes(t.id)?`${e}<p style="text-align:center;margin-top:100px;">${n.i18n("html_generated_by")}</p>`:e:["copy_marked","export_marked","export_text"].includes(t.id)?`${e}\n\n>${n.i18n("generated_by")}`:["copy_html","copy_rich","export_html","export_epub","export_word","export_bear","export_wp"].includes(t.id)?`${e}<p style="text-align:center;margin-top:100px;">${n.i18n("html_generated_by")}</p>`:e;n.addFilter("template",a),n.addFilter("title_template",i),n.addFilter("part_template",a),n.addFilter("title_part_template",i)}))}(e),function(n){const e=window.getSelection.bind(window);window.getSelection=function(){const t=e(),r=n.field("shadow");return n.field("running")&&r&&p(r.getSelection)?r.getSelection():t};const t=document.getElementById.bind(document);document.getElementById=function(e){if(!e)return e;const r=n.field("shadow");return n.field("running")&&r&&p(r.getElementById)?r.getElementById(e):t(e)};const r=document.createRange.bind(document);if(document.createRange=function(){const e=r(),t=n.field("container");return n.field("running")&&l(t)?(e.setStart(t,0),e.setEnd(t,0),e):e},"monkey"===n.type){const e=document.defaultView;Object.defineProperty(document,"defaultView",{configurable:!0,get:()=>n.field("running")?window:e})}}(e)}),[]),(0,t.useEffect)((()=>{e.field({shadow:a,container:o});const n=function(n){e.field("running")&&e.fire("click",n.target,n,o.querySelector(".pages"))};return o.addEventListener("click",n),()=>{e.field(["shadow","container"],"destory"),o.removeEventListener("click",n)}}),[]),(0,t.useEffect)((()=>{const n=document.body,t=document.documentElement,s=function(n){const e=document.createElement("style");return e.textContent=["html.circle-html{scrollbar-width:thin;scrollbar-color:var(--circle-thumb) var(--circle-track);background:#fff !important;max-width:100% !important;margin:0 !important;padding:0 !important;overflow:auto !important;background:#fff !important;max-width:initial !important;}","html.circle-html>body.circle-hidden{width:100%!important;height:100%!important;opacity:0!important;pointer-events:none!important;position:fixed!important;top:0!important;left:0!important;z-index:-1!important;overflow:auto!important}","html.disable-scroll{width:100% !important;height:100% !important;overflow:hidden !important;}","html.shot{scrollbar-width:none;}html.shot::-webkit-scrollbar{width:0px;}","::-webkit-scrollbar{width:var(--circle-track-width);}","::-webkit-scrollbar-track{background: var(--circle-track);}","::-webkit-scrollbar-thumb{border-radius: var(--circle-radius);background: var(--circle-thumb);}","@media print{html.circle-html>body.circle-hidden{display:none;}}"].join(""),n.appendChild(e),e}(i);function d(){if(!e.field("running"))return;const a=function(n){const e=ln(n);if(!e)return;let t,r=2e3;return dn(e,(n=>{const e=n.getBoundingClientRect().top;if(e>=0&&e<r){r=e;const i=n._mirrorElement;l(i)&&(t=i)}})),t}(e);e.fire(`${r.id}_before_leave`,{x:window.scrollX,y:window.scrollY}),o.classList.remove("in"),o.classList.add("out"),setTimeout((()=>{s.disabled=!0,e.field("running",!1),n.classList.remove("circle-hidden"),t.classList.remove("circle-html"),i.style.display="none",o.classList.remove("in","out"),e.action(e.field("force")?"force":"ready");const{hashs:c}=Y("circle");G(c),a&&sn(a,{inline:"start"}),e.fire(`${r.id}_leave`)}),200)}function g(){if(e.field("running"))return;const a=function(n){if(!n.data("repeat_run"))return void n.data("repeat_run",!0);const e=ln(n);if(!e)return;let t,r=2e3;return dn(e,(n=>{const e=n._mirrorElement;if(!l(e))return;const i=e.getBoundingClientRect().top;i>=0&&i<r&&(r=i,t=n)})),t}(e);e.fire(`${r.id}_before_enter`,{x:window.scrollX,y:window.scrollY}),s.disabled=!1,e.field("running",!0),n.classList.add("circle-hidden"),t.classList.add("circle-html"),i.style.display="block",o.classList.add("in"),e.action("enable");const{hashs:c}=Y("circle");c.unshift("circle=on"),G(c),e.fire(`${r.id}_enter`),setTimeout((()=>{a?sn(a,{inline:"start"}):window.scrollTo({left:0,top:0,behavior:"instant"}),document.querySelectorAll("audio, video").forEach((n=>{p(n.pause)&&n.pause()}))}),800)}const m=[];m.push(e.on("exit",d)),m.push(e.on("exitclose",(()=>{"ext"===e.type?e.tabs("query").then((n=>{Array.isArray(n)&&1===n.length&&e.tabs("create",{active:!0}),e.tabs("remove")})):(d(),e.tabs("remove"))}))),m.push(e.on("insert_style",(n=>{if(c(n)){if(n.length>0){const e=document.createElement("style");e.textContent=n,a.appendChild(e)}}else l(n)&&a.appendChild(n)}))),m.push(e.on("imagehide",(()=>{const n="style"+(e.colorScheme.value?"_"+e.colorScheme.value:"");e.get(n).then(((t={imagehide:!1})=>{const r=!t.imagehide;t.imagehide=r,e.set(n,t).then((()=>{e.fire("display",!0,r,"imagehide")}))}))}))),m.push(e.on("scrollable",(n=>{n?document.documentElement.classList.remove("disable-scroll"):document.documentElement.classList.add("disable-scroll")}))),m.push(e.on("render",(function(n){u(n)?n?g():d():e.field("running")?d():g()}))),m.push(e.on("db_update",(({id:n,table:t,plugin:r})=>{e.user.is_logged_in&&e.user.roles.includes("premium")&&c(n)&&"apps"!==t&&(["setting","sync"].includes(r.id)||["cron","updated","sync_at","rule_last_sync_id","message_last_sync_id"].includes(n)||e.get("sync_auto").then((n=>{n&&e.getApp("sync").then((n=>{n&&n.enabled&&e.fire("sync__auto")}))})))})));return u(e.field("running"))||e.field("running",!1),()=>{L(m,(n=>{n()}))}}),[]),(0,t.useEffect)((()=>{function e(){n.current&&clearTimeout(n.current),n.current=setTimeout(on,200)}return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,t.useEffect)((()=>{e.fire("display"),an(e)}),[]),{me:r,app:e}}function un(){const{me:n,app:r}=pn();return(0,t.useEffect)((()=>{const e=[];return e.push(r.on(`${n.id}_enter`,(()=>{g()||setTimeout((()=>{const n=document.head.querySelectorAll("link");if(n.length>0)n.forEach((n=>{n&&n.rel&&n.rel.indexOf("icon")>=0&&n.href&&(n.classList.add("circle"),n.dataset.id=n.href,n.href=r.getURL("assets/128.png"))}));else{const n=document.createElement("link");n.classList.add("circle"),n.rel="shortcut icon",n.type="image/x-icon",n.href=r.getURL("assets/128.png"),document.head.appendChild(n)}const e=document.head.querySelector("title");if(e&&l(e)){const n=e.innerText||"";n.length>0&&(e.dataset.id=n,e.innerText=`${n} - ${r.i18n("name")}`)}}),800)}))),e.push(r.on(`${n.id}_leave`,(()=>{g()||setTimeout((()=>{const n=document.head.querySelectorAll(".circle");n.length>0&&n.forEach((n=>{if(n){const e=n.dataset.id||"";e?(n.classList.remove("circle"),n.href=e):n.parentElement?.removeChild(n)}}));const e=document.head.querySelector("title");if(e&&l(e)){const n=e.dataset.id||"";n.length>0&&(e.innerText=n)}}),0)}))),e.push(r.on("remove_slogan_alert",(()=>{r.get("common").then((n=>{const e=n||{slogan:!1};!!u(e.slogan)&&e.slogan||rn(r,{duration:0,id:"slogan_alert",onOk:()=>{r.fire("setting","option","common")},onCancel:()=>{}})}))}))),()=>{e.forEach((n=>{n()}))}}),[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Q,{}),(0,e.jsx)(k,{})]})}window.definePlugin("render",(function(n,t,i){let a=null;return{start(){a||(a=i.display.render((({root:a,shadow:o,container:c})=>({app:t,me:n,children:(0,e.jsx)(un,{}),provider:(0,e.jsx)(r.Provider,{value:{app:t,root:a,shadow:o,container:c,me:n,dependencies:i}})})),{style:".copyright {\n  line-height: normal;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding-bottom: 20px;\n}\n.copyright .ant-btn.ant-btn-lg.ant-btn-icon-only {\n  width: auto;\n  height: auto;\n  opacity: 0.2;\n  padding: 7px 10px;\n}\n.copyright .ant-btn.ant-btn-lg.ant-btn-icon-only svg {\n  width: 40px;\n  height: 40px;\n}\n.copyright .ant-btn.ant-btn-lg.ant-btn-icon-only:hover {\n  opacity: 1;\n  background: transparent;\n}\n.copyright .ant-btn.ant-btn-lg.ant-btn-icon-only.like:hover {\n  color: #f10606;\n}\n.copyright .ant-btn.ant-btn-lg.ant-btn-icon-only.unlike:hover {\n  color: #e7c207;\n}\n.copyright .ant-btn.ant-btn-lg.ant-btn-icon-only.coffee:hover {\n  color: #ce6a07;\n}\n.copyright .ant-btn.ant-btn-sm {\n  font-size: 12px;\n  opacity: 0.4;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: auto;\n}\n.copyright .ant-btn.ant-btn-sm:hover {\n  opacity: 1;\n}\n.copyright .ant-typography.ant-typography-secondary {\n  font-size: 12px;\n  opacity: 0.5;\n  margin-top: 3px;\n}\n\n.container .ant-app {\n  min-height: 100vh;\n}\n.container a {\n  text-decoration: none;\n}\n.container code,\n.container tt {\n  border-radius: 3px;\n  padding: 0 5px;\n  margin: 0 5px;\n}\n.container pre {\n  padding: 0.6em 0.8em;\n  word-wrap: break-word;\n  border-radius: 3px;\n}\n.container pre code {\n  display: inline;\n  margin: 0;\n  padding: 0;\n  background: 0 0;\n  border: 0;\n}\n.container kbd {\n  margin: 0 0.2em;\n  padding: 0.15em 0.4em 0.1em;\n  font-size: 90%;\n  border-bottom-width: 2px;\n  border-radius: 3px;\n}\n.container blockquote {\n  padding: 0.1em 1em;\n  opacity: 0.85;\n}\n.container blockquote > :first-child {\n  margin-top: 0px;\n}\n.container blockquote > :last-child {\n  margin-bottom: 0px;\n}\n.container blockquote p {\n  margin: 0;\n}\n.container hr {\n  clear: both;\n  margin: 15px 0;\n  height: 0px;\n  overflow: hidden;\n  border: none;\n  background: transparent;\n  padding: 0;\n}\n.container table {\n  width: 100%;\n  max-width: 100%;\n  border-collapse: collapse;\n}\n.container table pre {\n  white-space: pre-wrap;\n}\n.container figure {\n  overflow: auto;\n}\n.container figure > img,\n.container figure > table,\n.container figure > pre {\n  margin: 0 !important;\n}\n.container tr th,\n.container tr td {\n  padding: 6px 13px;\n}\n.container tr th p {\n  margin: 0;\n}\n.container img {\n  object-fit: contain;\n}\n.container img,\n.container video {\n  max-width: 100%;\n  height: auto;\n}\n.container embed {\n  max-width: 100%;\n}\n.container li div,\n.container li p {\n  margin: 0;\n}\n.container mark {\n  padding: 0;\n  margin: 0;\n  color: initial;\n  background-color: initial;\n}\n.container :focus {\n  outline: none;\n}\n.container [role='separator']::after {\n  content: '';\n  display: block;\n  clear: both;\n  margin: 25px 0;\n  height: 2px;\n  overflow: hidden;\n  border: none;\n  opacity: 0.1;\n  background: var(--color);\n  padding: 0;\n}\n.container [role='separator']:last-child::after {\n  display: none;\n}\n.container .line {\n  display: block;\n}\n.container .left {\n  float: left;\n  margin-right: 12px;\n}\n.container .right {\n  float: right;\n  margin-left: 12px;\n}\n.container .both {\n  clear: both;\n}\n.container .full-width {\n  width: 100%;\n  max-width: 100% !important;\n}\n.container .noise {\n  display: none !important;\n}\n.container .block {\n  display: block;\n}\n.container .inline-block {\n  display: inline-block;\n}\n.container .flex {\n  display: flex;\n  flex-wrap: wrap;\n}\n.container .inline-flex {\n  display: inline-flex;\n  flex-wrap: wrap;\n}\n.container .zone-width {\n  min-width: 0;\n}\n\n.container {\n  color: var(--color);\n  background: var(--bg);\n}\n.container code,\n.container tt {\n  border: 1px solid rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.6);\n  background: rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.4);\n}\n.container pre {\n  background: rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.5);\n}\n.container kbd {\n  border: 1px solid rgba(var(--bg-r), var(--bg-g), var(--bg-b), 1);\n}\n.container blockquote {\n  border-left: 4px solid rgba(var(--bg-r), var(--bg-g), var(--bg-b), 1);\n}\n.container hr {\n  border-bottom: 1px solid rgba(var(--bg-r), var(--bg-g), var(--bg-b), 1);\n}\n.container table th:hover,\n.container table tr:hover {\n  background: rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.6);\n}\n.container table tr {\n  border-bottom: 1px solid rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.6);\n}\n.container table thead tr:first-child,\n.container table tbody tr:first-child {\n  background: rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.4);\n}\n.container table thead + tbody tr:first-child {\n  background: transparent;\n}\n.container table tr td {\n  border-inline-end: 1px solid var(--canvas);\n}\n.container h1,\n.container h2,\n.container h3,\n.container h4,\n.container h5,\n.container h6 {\n  color: var(--color);\n}\n.container a {\n  color: var(--link);\n}\n.container a:hover {\n  color: var(--hover);\n}\n.container a:active {\n  color: var(--visited);\n}\n.container a:visited {\n  color: var(--visited);\n}\n.container ::selection {\n  color: var(--select);\n  background-color: var(--selectbg);\n}\n.container .title a {\n  color: var(--title1color);\n}\n.container .title a:hover {\n  color: var(--link);\n}\n.container .footer {\n  color: var(--color);\n}\n.container.solid {\n  background: var(--canvas);\n}\n\n.container {\n  padding: 1px;\n  text-shadow: none;\n  font-variant: tabular-nums;\n  font-feature-settings: 'tnum';\n}\n.container h1 {\n  font-size: var(--title1);\n  color: var(--title1color);\n  font-weight: var(--title1weight);\n}\n.container h2 {\n  font-size: var(--title2);\n  color: var(--title2color);\n  font-weight: var(--title2weight);\n}\n.container h3 {\n  font-size: var(--title3);\n  color: var(--title3color);\n  font-weight: var(--title3weight);\n}\n.container h4 {\n  font-size: var(--title4);\n  color: var(--title4color);\n  font-weight: var(--title4weight);\n}\n.container h5 {\n  font-size: var(--title5);\n  color: var(--title5color);\n  font-weight: var(--title5weight);\n}\n.container h6 {\n  font-size: var(--title6);\n  color: var(--title6color);\n  font-weight: var(--title6weight);\n}\n.container h1,\n.container h2,\n.container h3,\n.container h4,\n.container h5,\n.container h6 {\n  text-indent: 0;\n}\n.container a.link {\n  margin: 0 6px;\n}\n.container a.link-with-img {\n  display: inline-block;\n}\n.container a.link-with-img img {\n  margin: 0 !important;\n}\n.container ol,\n.container ul {\n  text-indent: 0;\n}\n.container pre {\n  white-space: pre-wrap;\n}\n.container pre,\n.container code,\n.container blockquote {\n  text-indent: 0;\n  text-align: left;\n}\n.container p,\n.container blockquote,\n.container ul,\n.container ol,\n.container dl,\n.container table,\n.container pre,\n.container section,\n.container figcaption,\n.container li,\n.container .block {\n  margin: var(--blockspace) 0;\n}\n.container table {\n  width: var(--width);\n  max-width: var(--width);\n  border-top: 1px solid var(--canvas);\n  border-bottom: 1px solid var(--canvas);\n}\n.container .flex p,\n.container .inline-flex p,\n.container .flex blockquote,\n.container .inline-flex blockquote,\n.container .flex ul,\n.container .inline-flex ul,\n.container .flex ol,\n.container .inline-flex ol,\n.container .flex dl,\n.container .inline-flex dl,\n.container .flex table,\n.container .inline-flex table,\n.container .flex pre,\n.container .inline-flex pre,\n.container .flex section,\n.container .inline-flex section,\n.container .flex figcaption,\n.container .inline-flex figcaption,\n.container .flex .block,\n.container .inline-flex .block {\n  margin: 0;\n}\n.container .flex > *,\n.container .inline-flex > * {\n  margin-left: 10px !important;\n  margin-right: 10px !important;\n}\n.container .flex > *:first-child,\n.container .inline-flex > *:first-child {\n  margin-left: 0 !important;\n}\n.container .flex > *:last-child,\n.container .inline-flex > *:last-child {\n  margin-right: 0 !important;\n}\n.container .pages {\n  min-height: 610px;\n  max-width: var(--width);\n  margin: var(--margin) auto;\n}\n.container .pages svg {\n  width: 20px;\n  height: 20px;\n}\n.container .pages .MathJax_SVG svg {\n  width: auto;\n  height: auto;\n}\n.container .page {\n  padding-bottom: 20px;\n  margin-bottom: 20px;\n  word-break: break-word;\n  text-indent: var(--indent);\n  letter-spacing: var(--space);\n  text-align: var(--align);\n}\n.container .page > *:first-child {\n  margin-top: 0;\n}\n.container .page > *:last-child {\n  margin-bottom: 0;\n}\n.container .page:last-child {\n  margin-bottom: 0;\n  border-bottom-width: 0;\n}\n.container .page:before,\n.container .page:after {\n  content: '';\n  display: block;\n  clear: both;\n  height: 0px;\n}\n.container .page img {\n  display: var(--imagehide);\n}\n.container .page img.large {\n  margin-top: var(--blockspace) !important;\n  margin-bottom: var(--blockspace) !important;\n  margin-left: var(--imageleft) !important;\n  margin-right: var(--imageright) !important;\n}\n.container .page img.tiny,\n.container .page img.base64 {\n  width: auto;\n}\n.container .page figure {\n  overflow: auto;\n}\n.container .page figure > img.large,\n.container .page figure > table,\n.container .page figure > pre {\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n}\n.container .page figure > figcaption {\n  text-align: center;\n  font-size: 90%;\n  opacity: 0.8;\n  margin-top: 6px;\n}\n.container .page p > img.large,\n.container .page a img {\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n}\n.container .page .title {\n  text-indent: 0;\n  margin-bottom: 0;\n  text-align: var(--titlealign);\n}\n.container .page .meta {\n  font-size: 80%;\n  text-indent: 0;\n  text-align: var(--titlealign);\n  margin: 0 0 var(--blockspace);\n}\n.container .page .meta > span {\n  opacity: 0.7;\n  position: relative;\n  margin-right: 24px;\n}\n.container .page .meta > span.ant-avatar {\n  margin-right: 2px;\n}\n.container .page .meta > span.ant-avatar img {\n  display: block;\n}\n.container .page .meta > span::after {\n  content: '';\n  position: absolute;\n  right: -12px;\n  top: 47%;\n  display: block;\n  width: 3px;\n  height: 3px;\n  background: var(--color);\n  border-radius: 50%;\n}\n.container .page .meta > span:last-child::after {\n  display: none;\n}\n.container .page .meta.avatar .ant-avatar {\n  float: left;\n  opacity: 1;\n  width: 46px;\n  height: 46px;\n  margin-right: 16px;\n  background: var(--bg);\n  border-radius: 6px;\n  overflow: hidden;\n}\n.container .page .meta.avatar .ant-avatar img {\n  display: block;\n}\n.container .page .meta.avatar .author {\n  opacity: 1;\n  line-height: 1.3;\n  display: block;\n}\n.container .page .meta.avatar .author::after {\n  display: none;\n}\n.container .page .meta::after {\n  content: '';\n  display: block;\n  clear: both;\n}\n.container .page .excerpt {\n  text-indent: 0;\n  border-color: var(--link);\n  background: var(--canvas);\n}\n.container .page .excerpt p {\n  font-size: 90%;\n}\n.container .page .cover {\n  text-indent: 0;\n  margin-bottom: var(--blockspace);\n}\n.container .page .cover .ant-image {\n  width: 100%;\n  background: #f5f5f5;\n}\n.container .page .cover img {\n  margin: 0 !important;\n  width: 100%;\n}\n.container .page .footer {\n  text-indent: 0;\n  margin: calc(var(--blockspace) * 2) 0 0;\n}\n.container .page .footer .ant-tag {\n  cursor: pointer;\n  min-height: 27px;\n  border-radius: 15px;\n  background: var(--bg);\n  padding: 3px 12px 3px 3px;\n  margin: 0 5px 4px 0;\n  display: inline-block;\n}\n.container .page .footer .ant-tag::before {\n  content: '#';\n  margin-right: 4px;\n  background: var(--canvas);\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  font-size: 12px;\n  color: var(--link);\n  line-height: 20px;\n  border-radius: 50px;\n  display: inline-block;\n}\n.container .page .footer .ant-tag:hover {\n  color: var(--select);\n  background-color: var(--selectbg);\n}\n.container .page .page-empty.ant-result {\n  padding: 180px 0;\n}\n.container .page .page-empty.ant-result .ant-result-icon svg {\n  width: auto;\n  height: auto;\n}\n.container .page.zh {\n  font-family: var(--cnfont);\n}\n.container .tex,\n.container .katex-display {\n  text-align: center;\n  margin: 50px 0;\n}\n.container .sub-page::before {\n  content: '';\n  display: block;\n  height: var(--blockspace);\n  border-top: 1px solid var(--color);\n  opacity: 0.1;\n  margin-left: calc(-1 * var(--padding));\n  margin-right: calc(-1 * var(--padding));\n}\n.container .sub-page .sub-title {\n  margin-bottom: -2px;\n}\n@media screen and (max-width: 600px) {\n  .container .pages {\n    margin: 20px 16px;\n  }\n}\n\n.container.paper {\n  background: var(--canvas);\n}\n.container.paper table {\n  margin: var(--blockspace) calc(var(--padding) * -1);\n}\n.container.paper .page {\n  border-radius: 6px;\n  background: var(--bg);\n  padding: var(--padding);\n  box-shadow: 0 0 6px rgba(0, 0, 0, 0.15);\n}\n.container.paper .page .cover {\n  margin: var(--blockspace) calc(var(--padding) * -1);\n}\n.container.paper .page-block {\n  padding-left: var(--padding);\n  padding-right: var(--padding);\n}\n.container.paper .page-block .cover {\n  margin: 0;\n  max-width: 100%;\n}\n@media screen and (max-width: 600px) {\n  .container.paper .page {\n    padding: 20px;\n  }\n  .container.paper .page .cover {\n    max-width: calc(100% + 40px);\n    margin: -10px -20px 0;\n  }\n}\n\n@media print {\n  .container {\n    padding-right: 0 !important;\n  }\n  .container .pages {\n    margin: 0;\n    max-width: 100%;\n  }\n  .container .pages pre,\n  .container .pages img,\n  .container .pages table {\n    break-inside: avoid;\n    page-break-inside: avoid;\n  }\n  .container .page-block {\n    column-count: auto;\n    margin-bottom: 0;\n    padding-bottom: 0;\n    padding-top: 0;\n  }\n  .container .hide-printf {\n    display: none;\n  }\n  .container.paper .page {\n    box-shadow: none;\n  }\n}\n\n.container.shot.paper .page {\n  border-radius: 0;\n  box-shadow: none;\n}\n\n@-webkit-keyframes fadeIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 1600px, 0);\n    transform: translate3d(0, 1600px, 0);\n  }\n\n  100% {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 1600px, 0);\n    transform: translate3d(0, 1600px, 0);\n  }\n\n  100% {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n@-webkit-keyframes fadeOut {\n  0% {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n\n  100% {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 1600px, 0);\n    transform: translate3d(0, 1600px, 0);\n  }\n}\n\n@keyframes fadeOut {\n  0% {\n    opacity: 1;\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n\n  100% {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 1600px, 0);\n    transform: translate3d(0, 1600px, 0);\n  }\n}\n\n.container.in .pages {\n  -webkit-animation-name: fadeIn;\n  animation-name: fadeIn;\n  -webkit-animation-duration: .3s;\n  animation-duration: .3s;\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n\n.container.out .pages {\n  -webkit-animation-name: fadeOut;\n  animation-name: fadeOut;\n  -webkit-animation-duration: .2s;\n  animation-duration: .2s;\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n"}))},destory(){a&&(a(),a=null)}}}))})();