(()=>{"use strict";function e(e=Date.now()){return Math.floor(e/1e3)}function t(){return((e=21)=>{let t="",i=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&i[e]];return t})(10)}function i(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function a(e){return i(e,"String")}const o={copy_to_marked:"copy_marked",rule__remove:"rule_remove",later__add:"export_later",remove_element:"remove"},r=["paper","clipper","setting__about","setting__account","setting__basic","setting__keys","setting__lists","setting__menu","setting__skin","setting__style","setting__stylesheet","setting__toolbar"],n={ImageHideOutline:'<svg viewBox="0 0 1024 1024" focusable="false" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M990.31 823.654L738.084 572.001c51.62-28.248 110.866-44.32 173.925-44.32 4.535 0 8.939 0.591 13.424 0.78V206.295c0-29.566-24.054-53.535-53.688-53.535h-553.93l-80.557-80.366h661.3c59.3 0 107.378 47.966 107.378 107.145v589.133c0 20.22-5.802 38.94-15.626 54.978v0.003zM750.914 259.86c37.07 0 67.112 29.965 67.112 66.976 0 36.96-30.043 66.948-67.112 66.948-37.07 0-67.108-29.989-67.108-66.948 0-37.01 30.037-66.976 67.108-66.976z m204.502 699.38c-15.729 15.697-41.234 15.697-56.963 0L63.28 126.062c-15.728-15.688-15.728-41.129 0-56.823 15.729-15.666 41.23-15.666 56.965 0l835.172 833.2c15.702 15.696 15.702 41.111 0 56.807v-0.005zM93.237 286.635V822.29v-294.61c61.442-32.775 131.4-51.545 205.571-53.023l482.653 481.51H120.079c-59.3 0-107.376-47.993-107.376-107.15v-589.16c0-20.192 5.934-38.885 15.678-55.005l67.191 67.027c-1.369 4.71-2.339 9.612-2.339 14.755h0.004z" /></svg>',LnkOutline:'<svg viewBox="0 0 1024 1024" focusable="false" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M1024 601.6v319.926857s0 102.4-102.4 102.4H102.4c-102.4 0-102.4-102.4-102.4-102.4V102.4S0-0.073143 102.4-0.073143h819.2C1024-0.073143 1024 102.4 1024 102.4l0.073143 277.138286L1024 601.6zM950.857143 658.285714V292.498286 146.285714c0-51.273143-73.142857-73.216-73.142857-73.216H146.285714C95.085714 73.069714 73.142857 146.285714 73.142857 146.285714v731.428572s21.942857 73.142857 73.142857 73.142857h731.428572c51.2 0 73.142857-73.142857 73.142857-73.142857V658.285714z m-573.659429 52.150857s-92.379429 106.934857 136.411429 118.418286v38.546286S182.125714 930.742857 204.8 674.596571C212.992 583.094857 448.877714 373.76 448.877714 373.76L249.051429 203.117714h513.024s56.32-11.849143 56.32 53.394286v462.555429L590.262857 509.952 377.197714 710.436571z"/></svg>',LaterAddOutline:'<svg viewBox="0 0 716.8 562.08" focusable="false" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M691.2,0h-183A204.36,204.36,0,0,0,397.44,32.56l-39,25-39-25A204.16,204.16,0,0,0,208.64,0H25.6A25.57,25.57,0,0,0,0,25.6V480a25.57,25.57,0,0,0,25.6,25.6h183a204.36,204.36,0,0,1,110.72,32.56L354.88,561a6.66,6.66,0,0,0,3.44,1,6,6,0,0,0,3.44-1l35.52-22.88A205.09,205.09,0,0,1,508.16,505.6h183A25.57,25.57,0,0,0,716.8,480V25.6A25.57,25.57,0,0,0,691.2,0ZM208.64,448H57.6V57.6h151A146.85,146.85,0,0,1,288.24,81l39,25,5.52,3.6V479.2A261.81,261.81,0,0,0,208.64,448Zm450.56,0h-151A261.81,261.81,0,0,0,384,479.2V109.6l5.52-3.6,39-25a146.85,146.85,0,0,1,79.6-23.36h151Z" /><path d="M266.32,160H117.68a5.88,5.88,0,0,0-5.68,6v36a5.88,5.88,0,0,0,5.68,6H266.24a5.88,5.88,0,0,0,5.68-6V166a5.76,5.76,0,0,0-5.6-6Zm0,112H117.68a5.88,5.88,0,0,0-5.68,6v36a5.88,5.88,0,0,0,5.68,6H266.24a5.88,5.88,0,0,0,5.68-6V278a5.76,5.76,0,0,0-5.6-6Z" /><path d="M499.2,165.68V233.6H431.6a5.81,5.81,0,0,0-6,5.6v33.6a5.87,5.87,0,0,0,6,5.6h67.6v67.92a5.69,5.69,0,0,0,5.6,5.68h33.6a5.63,5.63,0,0,0,5.6-5.68V278.4h67.6a5.87,5.87,0,0,0,6-5.6V239.2a5.81,5.81,0,0,0-6-5.6H544V165.68a5.63,5.63,0,0,0-5.6-5.68H504.8a5.69,5.69,0,0,0-5.6,5.68Z" /></svg>"',FeedbackOutline:'<svg viewBox="0 0 1024 1024" focusable="false" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M276.12 433.296l140.822-113.311-48.607-36.476-1.12 0.9-88.071-72.114-45.423 34.683 89.221 73.055-95.43 76.787 48.609 36.476zM890.517 22.863h-757.72C63.142 22.863 6.506 79.5 6.506 149.148v599.866c0 69.648 56.637 126.285 126.288 126.285H498.49l148.703 117.038a31.484 31.484 0 0 0 22.322 9.25 31.468 31.468 0 0 0 22.32-9.25c12.336-12.333 12.336-32.311 0-44.64l-157.95-126.291a31.551 31.551 0 0 0-22.321-9.25H132.795c-34.807 0-63.144-28.336-63.144-63.142V149.148c0-34.806 28.337-63.142 63.144-63.142h757.722c34.808 0 63.143 28.336 63.143 63.142v599.866c0 34.807-28.335 63.142-63.143 63.142H764.54c-17.453 0-31.572 14.123-31.572 31.571 0 17.449 14.12 31.571 31.572 31.571h125.976c69.65 0 126.287-56.637 126.287-126.285V149.148c0.001-69.648-56.636-126.285-126.287-126.285z m-94.712 284.146c0-34.873-28.27-63.142-63.144-63.142-34.873 0-63.144 28.269-63.144 63.142 0 34.874 28.27 63.145 63.144 63.145 34.874 0 63.144-28.271 63.144-63.145zM526.195 685.871c197.213 0 262.12-146.27 264.616-153.463 4.993-11.991-2.497-26.378-14.978-31.174-12.481-4.796-27.462 2.396-32.453 14.387-2.496 4.797-52.424 122.292-217.185 122.292-169.753 0-212.192-117.496-214.687-122.292-4.994-11.99-19.972-19.182-32.453-14.387-12.482 4.795-19.972 19.183-14.979 31.174 0 4.794 54.922 153.463 262.12 153.463z"/></svg>',ExportHtmlOutline:'<svg viewBox="0 0 1024 1024" focusable="false" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M354.40128 0c-87.04 0-157.44 70.55872-157.44 157.59872v275.68128H78.72c-21.6576 0-39.36256 17.69984-39.36256 39.36256v236.31872c0 21.6576 17.69984 39.35744 39.36256 39.35744h118.24128v118.08256c0 87.04 70.4 157.59872 157.44 157.59872h472.63744c87.04 0 157.59872-70.55872 157.59872-157.59872V315.0336c0-41.74848-38.9888-81.93024-107.52-149.27872l-29.11744-29.12256L818.87744 107.52C751.5392 38.9888 711.39328 0 669.59872 0H354.4064z m0 78.72h287.20128c28.35456 7.0912 27.99616 42.1376 27.99616 76.8v120.16128c0 21.6576 17.69984 39.35744 39.36256 39.35744h118.07744c39.38816 0 78.87872-0.0256 78.87872 39.36256v512c0 43.32032-35.55328 78.87872-78.87872 78.87872H354.4064c-43.32544 0-78.72-35.5584-78.72-78.87872v-118.08256h393.91744c21.66272 0 39.36256-17.69472 39.36256-39.35744V472.64256c0-21.66272-17.69984-39.36256-39.36256-39.36256H275.68128V157.59872c0-43.32032 35.39456-78.87872 78.72-78.87872zM75.03872 493.59872h22.08256v73.92256H176.7936V493.59872h23.04v175.68256h-23.04V587.6736H97.1264v81.60256h-22.08256V493.59872z m151.68 0h121.92256v20.16256h-49.92v155.52H276.6336v-155.52h-49.92v-20.16256z m148.80256 0h32.64l49.92 143.04256h0.95744l48.96256-143.04256h33.59744v175.68256h-22.07744v-106.56256c0-10.88 0.31744-26.55744 0.95744-47.03744h-0.95744l-52.80256 153.6h-19.2l-52.79744-153.6h-0.96256c1.28 22.4 1.92 38.71744 1.92 48.95744v104.64256h-20.15744V493.59872z m214.07744 0h22.08256v155.52h69.12v20.16256h-91.20256V493.59872z"/></svg>',ExportMarkedOutline:'<svg viewBox="0 0 1024 1024" focusable="false" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M864.86,591.92v-69a29.39,29.39,0,1,0-58.78,0v69.06H760.83a4.19,4.19,0,0,0-3.22,6.86l74.8,89.94a4.19,4.19,0,0,0,6.44,0l74.81-89.94a4.19,4.19,0,0,0-3.22-6.86Zm53.31-268.18a59.54,59.54,0,0,1,59.51,59.6V800.88a59.62,59.62,0,0,1-59.61,59.6H500.54a59.61,59.61,0,0,1-59.6-59.6V383.34a59.61,59.61,0,0,1,59.6-59.6ZM629.34,676.23l38.39-95.88v110.5h51.91V493.48H656.56l-44.63,113-44.76-113H504.09V690.85H556V580.32l38.53,95.91Zm0,0"/><path d="M752.78,947.42H101.46V330.65H318.57a35.51,35.51,0,0,0,35.52-35.53V79H717.25V225.05a35.53,35.53,0,1,0,71,0V79a71,71,0,0,0-71-71H312.45a71,71,0,0,0-50.23,20.82l-211,211A71,71,0,0,0,30.41,290V947.42a71,71,0,0,0,71.05,71.05H752.78a35.53,35.53,0,0,0,0-71.05ZM283,108.41V259.59H131.85Zm0,0"/></svg>',ExportTextOutline:'<svg viewBox="0 0 1024 1024" focusable="false" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M768.0003125 255.9996875h140.11125L768.0003125 115.8884375v140.11125zM959.6 239.6a110.64 110.64 0 0 1 32.4 78.2240625v610.175625c0 35.2003125-28.8 64.0003125-64.0003125 64.0003125H288.0003125c-35.2003125 0-64.0003125-28.8-64.0003125-64.0003125v-48H272v48c0 8.671875 7.3284375 16.0003125 16.0003125 16.0003125h639.999375c8.671875 0 16.0003125-7.3284375 16.0003125-16.0003125V317.825c0-4.7203125-0.65625001-9.328125-1.6640625-13.824375H720.0003125V81.6640625A63.088125 63.088125 0 0 0 706.175 80H288.0003125c-8.671875 0-16.0003125 7.3284375-16.0003125 16.0003125v144h-48v-144C224 60.8 252.8 32 288.0003125 32H706.175c29.34375001 0 57.4875 11.664375 78.2240625 32.4l175.2 175.2zM656 471.9996875v-48h223.9996875v48H656z m0 144v-48h223.9996875v48H656z m0 144v-48h223.9996875v48H656zM32 831.9996875V288.0003125h544.0003125v543.999375H32z m412.38375001-395.3596875v-48H163.5996875v48h112.32v294.703125h56.16v-294.703125h112.32z"/></svg>',ScrollpageOutline:'<svg viewBox="0 0 1024 1024" focusable="false" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M526.56 197.77q-19.08 0-26.11 13.05-8.03 13.05-8.03 29.12v145.57q0 20.07 9.04 31.12 9.03 12.04 25.1 12.04 16.06-1 25.1-13.55 9.04-12.55 9.04-29.61V244.96q0-20.08-9.04-33.64-9.03-13.55-25.1-13.55zM552.66 0h-81.32q-129.5 4.02-216.85 90.35-88.34 86.34-91.35 218.86V715.8q3.01 131.51 89.35 217.85 87.34 87.34 218.85 90.35h81.32q131.51-3.01 218.85-90.35 86.34-86.34 89.35-217.85V309.21q0-132.52-88.34-218.86Q685.18 4.02 552.66 0zM792.6 719.81q-3.02 102.4-70.28 169.66-67.26 68.27-169.66 70.28h-81.32q-102.4-2.01-169.66-70.28-68.27-67.26-70.28-169.66v-410.6q2.01-102.4 70.28-170.67 67.26-67.26 169.66-69.27h81.32q102.4 2.01 169.66 69.27 67.26 68.27 70.28 170.67v410.6z" /></svg>',WhitelistOutline:'<svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M771.2256 804.5056H226.56c-21.4528 0-38.912 16.384-38.912 36.352 0 19.968 17.4592 36.352 38.912 36.352h544.6144c21.4016 0 38.912-16.384 38.912-36.352 0-19.8656-17.5104-36.352-38.912-36.352m0-145.0496H226.56c-21.4528 0-38.912 16.3328-38.912 36.3008 0 19.968 17.4592 36.2496 38.912 36.2496h544.6144c21.4016 0 38.912-16.2816 38.912-36.2496 0-19.968-17.5104-36.3008-38.912-36.3008"></path><path d="M887.9616 913.2544c0 19.968-17.5616 36.352-38.912 36.352H148.6848c-21.504 0-38.8608-16.2816-38.912-36.352V114.3808c0-19.968 17.4592-36.3008 38.912-36.3008h700.3136c21.3504 0 38.912 16.3328 38.912 36.3008v798.8736z m0-907.776H109.824c-42.8032 0-77.824 32.6144-77.824 72.6016v871.4752c0 39.936 35.0208 72.6528 77.824 72.6528h778.1376c42.8032 0 77.824-32.6144 77.824-72.6528V78.08c0-39.936-35.0208-72.6528-77.824-72.6528z"></path><path d="M798.72 161.536a41.0624 41.0624 0 0 0-55.04 0l-283.648 264.8576L331.776 306.688a41.0624 41.0624 0 0 0-55.04 0 34.7648 34.7648 0 0 0 0 51.3536l155.5456 145.152 0.1536 0.256a40.9088 40.9088 0 0 0 55.04 0l0.2048-0.3072L798.72 212.7872a34.6112 34.6112 0 0 0 0-51.2512"></path></svg>',WhitelistSiteOutline:'<svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M523.44 948.7H79.19V75.29h768v368.9c0 22.59 15.06 37.65 37.65 37.65s37.65-15.06 37.65-37.65V75.29C922.49 30.11 892.37 0 847.2 0H79.19C34.03 0 3.91 30.11 3.91 75.29V948.7c0 45.18 30.12 75.29 75.29 75.29h451.77c15.06 0 37.65-15.06 37.65-37.65s-22.59-37.64-45.18-37.64zM681.56 271.06c0-22.59-15.06-37.65-37.65-37.65H259.91c-22.59 0-37.65 15.06-37.65 37.65s15.06 37.65 37.65 37.65h384c22.59-0.01 37.65-15.07 37.65-37.65zM568.62 489.41c0-22.59-22.59-37.65-37.65-37.65H259.91c-22.59 0-37.65 15.06-37.65 37.65s15.06 37.65 37.65 37.65h271.06c15.06 0 37.65-15.06 37.65-37.65zM259.91 677.64c-22.59 0-37.65 15.06-37.65 37.65s15.06 37.65 37.65 37.65h188.28c15.06 0 37.65-15.06 37.65-37.65s-15.11-37.65-37.65-37.65zM775.53 531.35c-135.07 0-244.56 109.49-244.56 244.56s109.49 244.56 244.56 244.56 244.56-109.49 244.56-244.56-109.5-244.56-244.56-244.56z m122 366.57a172.56 172.56 0 1 1 50.54-122 171.43 171.43 0 0 1-50.53 122zM853.99 691.58l-98.92 113-48.32-47.35a36 36 0 0 0-50.39 51.43l75.53 74a36 36 0 0 0 25.19 10.29h1.38a36 36 0 0 0 25.73-12.25l124-141.7a36 36 0 0 0-54.18-47.41z"/></svg>',BlacklistOutline:'<svg viewBox="0 0 747.97 813.89" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M733.12,748.4H291.35c-15,0-27.11,11.31-27.11,25.25s12.14,25.24,27.11,25.24H733.12c15,0,27.11-11.3,27.11-25.24S748.09,748.4,733.12,748.4Z" transform="translate(-138.02 -102.52)"/><path d="M868.87,118.45a60.71,60.71,0,0,0-41.32-15.93H196.45a60.71,60.71,0,0,0-41.32,15.93A52.57,52.57,0,0,0,138,156.92V862a52.56,52.56,0,0,0,17.11,38.47,60.72,60.72,0,0,0,41.32,15.94h631.1a60.72,60.72,0,0,0,41.32-15.94A52.56,52.56,0,0,0,886,862V156.92A52.57,52.57,0,0,0,868.87,118.45Zm-36.64,714c0,18.58-16.05,33.71-36,33.94h-568a37.84,37.84,0,0,1-25.78-9.94,32.78,32.78,0,0,1-10.68-24V186.52a32.8,32.8,0,0,1,10.68-24,37.88,37.88,0,0,1,25.78-9.94h568c19.95.24,36,15.37,36,34Z" transform="translate(-138.02 -102.52)"/><path d="M272.18,674a28.17,28.17,0,0,0,19.17,7.39H733.12c14.79-.24,26.65-11.47,26.65-25.25A24,24,0,0,0,752,638.59a27.66,27.66,0,0,0-18.84-7.26H291.35a27.72,27.72,0,0,0-19.15,7.11,24,24,0,0,0-8,17.69A24.4,24.4,0,0,0,272.18,674Z" transform="translate(-138.02 -102.52)"/><path d="M513.69,565.57A172.17,172.17,0,1,0,342,393.11,172.22,172.22,0,0,0,513.69,565.57ZM395.41,365.36a121.49,121.49,0,0,1,236.55,0v5.7H395.41Zm234.8,53.89v5.25a121.34,121.34,0,0,1-234.8,0l-1.32-5.25Z" transform="translate(-138.02 -102.52)"/></svg>',BlacklistSiteOutline:'<svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M523.44 948.7H79.19V75.29h768v368.9c0 22.59 15.06 37.65 37.65 37.65s37.65-15.06 37.65-37.65V75.29C922.49 30.11 892.37 0 847.2 0H79.19C34.03 0 3.91 30.11 3.91 75.29V948.7c0 45.18 30.12 75.29 75.29 75.29h451.77c15.06 0 37.65-15.06 37.65-37.65s-22.59-37.64-45.18-37.64zM681.56 271.06c0-22.59-15.06-37.65-37.65-37.65H259.91c-22.59 0-37.65 15.06-37.65 37.65s15.06 37.65 37.65 37.65h384c22.59-0.01 37.65-15.07 37.65-37.65zM568.62 489.41c0-22.59-22.59-37.65-37.65-37.65H259.91c-22.59 0-37.65 15.06-37.65 37.65s15.06 37.65 37.65 37.65h271.06c15.06 0 37.65-15.06 37.65-37.65zM259.91 677.64c-22.59 0-37.65 15.06-37.65 37.65s15.06 37.65 37.65 37.65h188.28c15.06 0 37.65-15.06 37.65-37.65s-15.11-37.65-37.65-37.65zM775.53 531.35c-135.07 0-244.56 109.49-244.56 244.56s109.49 244.56 244.56 244.56 244.56-109.49 244.56-244.56-109.5-244.56-244.56-244.56z m-122 122.54a172.67 172.67 0 0 1 215.92-22.8L630.71 869.82a172.67 172.67 0 0 1 22.8-215.92z m244 244a172.67 172.67 0 0 1-215.92 22.8L920.35 682a172.67 172.67 0 0 1-22.8 215.92z"/></svg>'};function l(e){return Array.isArray(e)&&e.length>0}window.definePlugin("migrate",(function(){return(c,s,h)=>{if(s.version)return void(h&&h(s));if(s.wrench)return void(h&&h());const d={apps:[],node:[],option:[]};if(l(s.unrdist)&&s.unrdist.forEach((t=>{l(s.later)||(s.later=[]),s.later.push({type:"text",status:"wait",created:e(),changed:e(),id:t.url,title:t.title,excerpt:t.note||"",archived:!!t.archive,tag:Array.isArray(t.tags)?t.tags:[]})})),l(s.annnotator)&&s.annnotator.forEach((e=>{l(e.value)&&d.node.push({type:"annotator",changed:e.changed,id:`annotator_${e.id}`,value:e.value.map((e=>({id:e.h,text:e.t,style:e.s})))})})),l(s.later)&&s.later.forEach((i=>{const o=[];Array.isArray(i.tag)&&i.tag.length>0&&(i.tag.forEach((i=>{const r=t();o.push(r),d.node.push({kind:"tag",type:"later",priority:0,changed:e(),id:`later_${r}`,title:a(i)?i.trim():i})})),delete i.tag),d.node.push({...i,tags:o,kind:"text",type:"later",url:i.id,id:`later_${t()}`})})),l(s.lists)&&s.lists.forEach((e=>{d.node.push({...e,type:"lists",id:`lists_${e.id}`})})),l(s.rule)&&s.rule.forEach((e=>{d.node.push({...e,type:"rule",id:`rule_${e.id}`})})),l(s.keys)){const t={};s.keys.forEach((e=>{if(!(r.includes(e.id)||e.id.startsWith("setting__")||e.id.startsWith("later__"))&&e.checked){const i=o[e.id]||e.id;t[i]={value:e.value,checked:!0,priority:e.priority||0}}})),Object.keys(t).length>0&&d.option.push({...t,id:"keys",changed:e()})}if(l(s.toolbar)){const t={};s.toolbar.forEach((e=>{if(!(r.includes(e.id)||e.id.startsWith("setting__")||e.id.startsWith("later__"))&&e.checked){const i=o[e.id]||e.id;t[i]={checked:!0,priority:e.priority||0,value:n[e.icon]||e.icon}}})),Object.keys(t).length>0&&d.option.push({...t,id:"toolbar",changed:e()})}if(l(s.menu)){const t={};s.menu.forEach((e=>{if(!(r.includes(e.id)||e.id.startsWith("setting__")||e.id.startsWith("later__"))&&e.checked){const i=o[e.id]||e.id;["setting","later"].includes(i)?t[i]={action:!0,checked:!0,label:e.title,priority:e.priority||0}:t[i]={checked:!0,label:e.title,priority:e.priority||0}}})),Object.keys(t).length>0&&d.option.push({...t,id:"menu",changed:e()})}if(l(s.taxonomy)){let e=2;s.taxonomy.forEach((i=>{e++,d.node.push({...i,type:"later",kind:"taxonomy",priority:e,id:`later_${t()}`,title:a(i.id)?i.id.trim():i.id})})),d.node.forEach((e=>{if(!e||"taxonomy"!==e.kind||!e.pid)return;const t=d.node.find((t=>t.title===e.pid&&"taxonomy"===t.kind));t?e.pid=t.id.replace("later_",""):delete e.pid}))}if(l(s.setting)){[["speak","speak_speak"],["scrollpage_speed","scrollpage_speed"],["annotator","annotator_css"],["theme","theme_preset"],["theme_dark","theme_dark_preset"],["theme_light","theme_light_preset"],["skin","theme"],["skin_dark","theme_dark"],["skin_light","theme_light"],["skin_night","night"],["style","style"],["style_dark","style_dark"],["style_light","style_light"],["style_preset","style_preset"],["style_preset_dark","style_dark_preset"],["style_preset_light","style_light_preset"],["progress","progress_option"],["keys_alert","keys_alert"],["lists_alert","lists_alert"],["menu_alert","menu_alert"],["stylesheet_alert","stylesheet_alert"],["toolbar_alert","toolbar_alert"]].forEach((([e,t])=>{const i=s.setting.find((t=>t.id===e));i&&d.option.push({...i,id:t})}));const t=s.setting.find((e=>"basic"===e.id));if(t){const a={};Object.keys(t).forEach((e=>{const o=t[e];i(o,"Object")&&(a[o.group]||(a[o.group]={}),"text"===o.group?a[o.group][e]={checked:!0,label:o.title,renderPanel:!o.title,priority:o.priority||0,value:n[o.icon]||o.icon}:a[o.group][e]={value:n[o.icon]||o.icon,checked:!!o.checked})})),[["text","floatbox"],["code","code"],["gallery","gallery"]].forEach((([t,i])=>{a[t]&&d.option.push({...a[t],id:i,changed:e()})})),[["autoscroll","scrollpage_option"],["autofullscreen","fullscreen_option"]].forEach((([i,a])=>{d.option.push({id:a,changed:e(),[i]:!!t[i]})}))}const a=s.setting.find((e=>"plugin"===e.id));if(a&&l(a.value)){const t={toolbox:"floatbox",remove_element:"remove",copy_to_marked:"copy_marked"},i=a.value.filter((e=>!["code_toolbox","gallery_toolbox","column_toolbox","plain","clipper","paper"].includes(e))).map((e=>t[e]||e));if(i.length>0){const t={id:"plugins",changed:e()};i.forEach((e=>{t[e]=!0})),d.option.push(t)}}const o=s.setting.find((e=>"layout"===e.id));o&&(d.option.push({changed:e(),id:"toolbar_display",autohide:!!o.autohide,itemspace:o.itemspace||"10px",groupspace:o.groupspace||"10px"}),d.option.push({changed:e(),id:"render_display",padding:o.padding||"80px",margin:o.margin||"80px",removefooter:!!o.removefooter,paper:a&&l(a.value)&&a.value.includes("paper")}),d.option.push({changed:e(),id:"column_display",width:o.columnwidth||"90%",count:o.columncount||2,gap:o.columngap||"60px"}),d.option.push({changed:e(),id:"column_option",horizontal:!!o.horizontalcolumn,navigate:a&&l(a.value)&&a.value.includes("column_toolbox")}),o.notice_placement&&d.option.push({changed:e(),id:"notice_option",placement:o.notice_placement}),o.search_engine&&d.option.push({changed:e(),id:"render_option",search_engine:o.search_engine}),o.focus_opacity&&d.option.push({changed:e(),id:"focus_option",opacity:o.focus_opacity}));const r=s.setting.find((e=>"stylesheet"===e.id));r&&r.value&&d.option.push({css:r.value,id:"stylesheet",changed:e()});const h=s.setting.find((e=>"refer"===e.id));h&&l(h.items)&&d.option.push({from:h.items,id:"refer_option",changed:e()});const p=s.setting.find((e=>"parser"===e.id));if(p){const t=[];Object.keys(p).forEach((e=>{const a=p[e];i(a,"Boolean")&&a&&t.push(e.replace("hide_",""))})),d.option.push({disable_fields:t,id:"parse_option",changed:e()})}const u=s.setting.find((e=>"export_html"===e.id));u&&u.export_html_inline&&d.option.push({inline:!0,id:"export_html_option",changed:e()});const g=s.setting.find((e=>"export_marked"===e.id));g&&g.export_marked_inline&&d.option.push({inline:!0,id:"export_marked_option",changed:e()}),c.device.phone||d.option.push({value:!0,id:"later_sidebar",changed:e()})}if(l(s.service)){s.service.find((e=>"protocol"===e.id))&&d.option.push({id:"common",protocol:!0})}h&&h(d)}}))})();