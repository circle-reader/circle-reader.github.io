(()=>{"use strict";var __webpack_modules__={1:(e,t,n)=>{var r=n(7589),o=n(9620),a=r.WeakMap;e.exports=o(a)&&/native code/.test(String(a))},309:(e,t,n)=>{var r=n(6195);e.exports=function(e){return r(e.length)}},314:(e,t,n)=>{var r=n(4162),o=n(9233),a=n(762).f,i=r("unscopables"),s=Array.prototype;void 0===s[i]&&a(s,i,{configurable:!0,value:o(null)}),e.exports=function(e){s[i][e]=!0}},326:(e,t,n)=>{var r=n(2907),o=n(7618);e.exports=Object.keys||function(e){return r(e,o)}},352:(e,t,n)=>{var r=n(9621),o=n(8080),a=n(1912),i=n(6699),s=n(7684),l=n(7856),c=n(7722),u=n(1150),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return i(!o(a.f,e,t),e[t])}},353:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=c,t.addEvent=function(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&c(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=l(e,t,"px");return{[(0,o.browserPrefixToKey)("transform",o.default)]:n}},t.createSVGTransform=function(e,t){return l(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=l,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=s,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(s(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-r.left)/n,a=(e.clientY+t.scrollTop-r.top)/n;return{x:o,y:a}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=u,t.removeEvent=function(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&u(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var r=n(432),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(5722));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}let i="";function s(e,t){return i||(i=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[i])&&e[i](t)}function l(e,t,n){let{x:r,y:o}=e,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){const e="".concat("string"==typeof t.x?t.x:t.x+n),r="".concat("string"==typeof t.y?t.y:t.y+n);a="translate(".concat(e,", ").concat(r,")")+a}return a}function c(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},392:(e,t,n)=>{var r=n(7589);e.exports=r},432:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},481:(e,t,n)=>{function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.r(t),n.d(t,{clsx:()=>o,default:()=>a});const a=o},510:(e,t,n)=>{n(2962);var r=n(392);e.exports=r.Object.assign},568:(e,t,n)=>{var r,o,a=n(7589),i=n(3780),s=a.process,l=a.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(o=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},626:(e,t,n)=>{var r=n(9269),o=n(1562).includes,a=n(8074),i=n(314);r({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},762:(e,t,n)=>{var r=n(9621),o=n(1150),a=n(4411),i=n(1218),s=n(7856),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";t.f=r?a?function(e,t,n){if(i(e),t=s(t),i(n),"function"==typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=u(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(i(e),t=s(t),i(n),o)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},872:(e,t,n)=>{var r=n(9621),o=n(8409),a=n(8080),i=n(8074),s=n(326),l=n(6340),c=n(1912),u=n(9748),d=n(9128),p=Object.assign,f=Object.defineProperty,h=o([].concat);e.exports=!p||i((function(){if(r&&1!==p({b:1},p(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!==p({},e)[n]||s(p({},t)).join("")!==o}))?function(e,t){for(var n=u(e),o=arguments.length,i=1,p=l.f,f=c.f;o>i;)for(var g,m=d(arguments[i++]),v=p?h(s(m),p(m)):s(m),y=v.length,b=0;y>b;)g=v[b++],r&&!a(f,m,g)||(n[g]=m[g]);return n}:p},983:e=>{e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1096:(e,t,n)=>{n(626);var r=n(9884);e.exports=r("Array","includes")},1150:(e,t,n)=>{var r=n(9621),o=n(8074),a=n(9070);e.exports=!r&&!o((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1218:(e,t,n)=>{var r=n(8583),o=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(o(e)+" is not an object")}},1254:e=>{e.exports=function(e){return null==e}},1298:(e,t,n)=>{const{default:r,DraggableCore:o}=n(5691);e.exports=r,e.exports.default=r,e.exports.DraggableCore=o},1562:(e,t,n)=>{var r=n(7684),o=n(1899),a=n(309),i=function(e){return function(t,n,i){var s=r(t),l=a(s);if(0===l)return!e&&-1;var c,u=o(i,l);if(e&&n!=n){for(;l>u;)if((c=s[u++])!=c)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},1594:e=>{e.exports=React},1899:(e,t,n)=>{var r=n(5536),o=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):a(n,t)}},1912:(e,t)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},2198:(e,t,n)=>{var r=n(9621),o=n(4411),a=n(762),i=n(1218),s=n(7684),l=n(326);t.f=r&&!o?Object.defineProperties:function(e,t){i(e);for(var n,r=s(t),o=l(t),c=o.length,u=0;c>u;)a.f(e,n=o[u++],r[n]);return e}},2622:(e,t,n)=>{var r=n(6974),o=n(7589),a=n(6742),i="__core-js_shared__",s=e.exports=o[i]||a(i,{});(s.versions||(s.versions=[])).push({version:"3.41.0",mode:r?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},2717:(e,t,n)=>{var r=n(9620),o=n(762),a=n(9002),i=n(6742);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&a(n,c,s),s.global)l?e[t]=n:i(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},2907:(e,t,n)=>{var r=n(8409),o=n(7722),a=n(7684),i=n(1562).indexOf,s=n(5324),l=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,u=[];for(n in r)!o(s,n)&&o(r,n)&&l(u,n);for(;t.length>c;)o(r,n=t[c++])&&(~i(u,n)||l(u,n));return u}},2962:(e,t,n)=>{var r=n(9269),o=n(872);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},2973:(e,t,n)=>{n(3731)},3014:(e,t,n)=>{e.exports=n(5792)()},3096:(e,t,n)=>{var r=n(568),o=n(8074),a=n(7589).String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},3156:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;factory=function(){function isUndefined(e){return void 0===e}function EventSupport(){}Array.prototype.push||(Array.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)this[this.length]=arguments[e];return this.length}),Array.prototype.shift||(Array.prototype.shift=function(){if(this.length>0){for(var e=this[0],t=0,n=this.length-1;t<n;t++)this[t]=this[t+1];return this.length=this.length-1,e}}),Array.prototype.splice||(Array.prototype.splice=function(e,t){var n=this.slice(e+t),r=this.slice(e,e+t);this.length=e;for(var o=[],a=0,i=arguments.length;a<i;a++)o[a]=arguments[a];var s=o.length>2?n=o.slice(2).concat(n):n;for(a=0,i=s.length;a<i;a++)this.push(s[a]);return r}),EventSupport.prototype={eventTypes:[],eventListeners:{},setEventTypes:function(e){if(e instanceof Array){this.eventTypes=e,this.eventListeners={};for(var t=0,n=this.eventTypes.length;t<n;t++)this.eventListeners[this.eventTypes[t]]=[]}else handleError("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(e,t){"function"==typeof t?(array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+e+"'"),this.eventListeners[e].push(t)):handleError("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(e,t){"function"==typeof t?(array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+e+"'"),array_remove(this.eventListeners[e],t)):handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(e,t){if(array_contains(this.eventTypes,e))for(var n=this.eventListeners[e],r=0,o=n.length;r<o;r++)n[r](this,e,t);else handleError("log4javascript.EventSupport ["+this+"]: dispatchEvent: no event called '"+e+"'")}};var applicationStartDate=new Date,uniqueId="log4javascript_"+applicationStartDate.getTime()+"_"+Math.floor(1e8*Math.random()),emptyFunction=function(){},newLine="\r\n",pageLoaded=!1;function Log4JavaScript(){}Log4JavaScript.prototype=new EventSupport;var log4javascript=new Log4JavaScript;function toStr(e){return e&&e.toString?e.toString():String(e)}function getExceptionMessage(e){return e.message?e.message:e.description?e.description:toStr(e)}function getUrlFileName(e){var t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return e.substr(t+1)}function getExceptionStringRep(e){if(e){var t="Exception: "+getExceptionMessage(e);try{e.lineNumber&&(t+=" on line number "+e.lineNumber),e.fileName&&(t+=" in file "+getUrlFileName(e.fileName))}catch(e){logLog.warn("Unable to obtain file and line information for error")}return showStackTraces&&e.stack&&(t+=newLine+"Stack trace:"+newLine+e.stack),t}return null}function bool(e){return Boolean(e)}function trim(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function splitIntoLines(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}log4javascript.version="1.4.13",log4javascript.edition="log4javascript";var urlEncode=void 0!==window.encodeURIComponent?function(e){return encodeURIComponent(e)}:function(e){return escape(e).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};function array_remove(e,t){for(var n=-1,r=0,o=e.length;r<o;r++)if(e[r]===t){n=r;break}return n>=0&&(e.splice(n,1),!0)}function array_contains(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return!0;return!1}function extractBooleanFromParam(e,t){return isUndefined(e)?t:bool(e)}function extractStringFromParam(e,t){return isUndefined(e)?t:String(e)}function extractIntFromParam(e,t){if(isUndefined(e))return t;try{var n=parseInt(e,10);return isNaN(n)?t:n}catch(n){return logLog.warn("Invalid int param "+e,n),t}}function extractFunctionFromParam(e,t){return"function"==typeof e?e:t}function isError(e){return e instanceof Error}Function.prototype.apply||(Function.prototype.apply=function(obj,args){var methodName="__apply__";void 0!==obj[methodName]&&(methodName+=String(Math.random()).substr(2)),obj[methodName]=this;for(var argsStrings=[],i=0,len=args.length;i<len;i++)argsStrings[i]="args["+i+"]";var script="obj."+methodName+"("+argsStrings.join(",")+")",returnValue=eval(script);return delete obj[methodName],returnValue}),Function.prototype.call||(Function.prototype.call=function(e){for(var t=[],n=1,r=arguments.length;n<r;n++)t[n-1]=arguments[n];return this.apply(e,t)});var logLog={quietMode:!1,debugMessages:[],setQuietMode:function(e){this.quietMode=bool(e)},numberOfErrors:0,alertAllErrors:!1,setAlertAllErrors:function(e){this.alertAllErrors=e},debug:function(e){this.debugMessages.push(e)},displayDebug:function(){alert(this.debugMessages.join(newLine))},warn:function(e,t){},error:function(e,t){if((1==++this.numberOfErrors||this.alertAllErrors)&&!this.quietMode){var n="log4javascript error: "+e;t&&(n+=newLine+newLine+"Original error: "+getExceptionStringRep(t)),alert(n)}}};function handleError(e,t){logLog.error(e,t),log4javascript.dispatchEvent("error",{message:e,exception:t})}log4javascript.logLog=logLog,log4javascript.setEventTypes(["load","error"]),log4javascript.handleError=handleError;var enabled=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);log4javascript.setEnabled=function(e){enabled=bool(e)},log4javascript.isEnabled=function(){return enabled};var useTimeStampsInMilliseconds=!0;log4javascript.setTimeStampsInMilliseconds=function(e){useTimeStampsInMilliseconds=bool(e)},log4javascript.isTimeStampsInMilliseconds=function(){return useTimeStampsInMilliseconds},log4javascript.evalInScope=function(expr){return eval(expr)};var showStackTraces=!1;log4javascript.setShowStackTraces=function(e){showStackTraces=bool(e)};var Level=function(e,t){this.level=e,this.name=t};function Timer(e,t){this.name=e,this.level=isUndefined(t)?Level.INFO:t,this.start=new Date}Level.prototype={toString:function(){return this.name},equals:function(e){return this.level==e.level},isGreaterOrEqual:function(e){return this.level>=e.level}},Level.ALL=new Level(Number.MIN_VALUE,"ALL"),Level.TRACE=new Level(1e4,"TRACE"),Level.DEBUG=new Level(2e4,"DEBUG"),Level.INFO=new Level(3e4,"INFO"),Level.WARN=new Level(4e4,"WARN"),Level.ERROR=new Level(5e4,"ERROR"),Level.FATAL=new Level(6e4,"FATAL"),Level.OFF=new Level(Number.MAX_VALUE,"OFF"),log4javascript.Level=Level,Timer.prototype.getElapsedTime=function(){return(new Date).getTime()-this.start.getTime()};var anonymousLoggerName="[anonymous]",defaultLoggerName="[default]",nullLoggerName="[null]",rootLoggerName="root";function Logger(e){this.name=e,this.parent=null,this.children=[];var t=[],n=null,r=this.name===rootLoggerName,o=this.name===nullLoggerName,a=null,i=!1;this.addChild=function(e){this.children.push(e),e.parent=this,e.invalidateAppenderCache()};var s=!0;this.getAdditivity=function(){return s},this.setAdditivity=function(e){var t=s!=e;s=e,t&&this.invalidateAppenderCache()},this.addAppender=function(e){o?handleError("Logger.addAppender: you may not add an appender to the null logger"):e instanceof log4javascript.Appender?array_contains(t,e)||(t.push(e),e.setAddedToLogger(this),this.invalidateAppenderCache()):handleError("Logger.addAppender: appender supplied ('"+toStr(e)+"') is not a subclass of Appender")},this.removeAppender=function(e){array_remove(t,e),e.setRemovedFromLogger(this),this.invalidateAppenderCache()},this.removeAllAppenders=function(){var e=t.length;if(e>0){for(var n=0;n<e;n++)t[n].setRemovedFromLogger(this);t.length=0,this.invalidateAppenderCache()}},this.getEffectiveAppenders=function(){if(null===a||i){var e=r||!this.getAdditivity()?[]:this.parent.getEffectiveAppenders();a=e.concat(t),i=!1}return a},this.invalidateAppenderCache=function(){i=!0;for(var e=0,t=this.children.length;e<t;e++)this.children[e].invalidateAppenderCache()},this.log=function(e,t){if(enabled&&e.isGreaterOrEqual(this.getEffectiveLevel())){var n,r=t.length-1,o=t[r];t.length>1&&isError(o)&&(n=o,r--);for(var a=[],i=0;i<=r;i++)a[i]=t[i];var s=new LoggingEvent(this,new Date,e,a,n);this.callAppenders(s)}},this.callAppenders=function(e){for(var t=this.getEffectiveAppenders(),n=0,r=t.length;n<r;n++)t[n].doAppend(e)},this.setLevel=function(e){r&&null===e?handleError("Logger.setLevel: you cannot set the level of the root logger to null"):e instanceof Level?n=e:handleError("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")},this.getLevel=function(){return n},this.getEffectiveLevel=function(){for(var e=this;null!==e;e=e.parent){var t=e.getLevel();if(null!==t)return t}},this.group=function(e,t){if(enabled)for(var n=this.getEffectiveAppenders(),r=0,o=n.length;r<o;r++)n[r].group(e,t)},this.groupEnd=function(){if(enabled)for(var e=this.getEffectiveAppenders(),t=0,n=e.length;t<n;t++)e[t].groupEnd()};var l={};this.time=function(e,t){enabled&&(isUndefined(e)?handleError("Logger.time: a name for the timer must be supplied"):!t||t instanceof Level?l[e]=new Timer(e,t):handleError("Logger.time: level supplied to timer "+e+" is not an instance of log4javascript.Level"))},this.timeEnd=function(e){if(enabled)if(isUndefined(e))handleError("Logger.timeEnd: a name for the timer must be supplied");else if(l[e]){var t=l[e],n=t.getElapsedTime();this.log(t.level,["Timer "+toStr(e)+" completed in "+n+"ms"]),delete l[e]}else logLog.warn("Logger.timeEnd: no timer found with name "+e)},this.assert=function(e){if(enabled&&!e){for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);(t=t.length>0?t:["Assertion Failure"]).push(newLine),t.push(e),this.log(Level.ERROR,t)}},this.toString=function(){return"Logger["+this.name+"]"}}Logger.prototype={trace:function(){this.log(Level.TRACE,arguments)},debug:function(){this.log(Level.DEBUG,arguments)},info:function(){this.log(Level.INFO,arguments)},warn:function(){this.log(Level.WARN,arguments)},error:function(){this.log(Level.ERROR,arguments)},fatal:function(){this.log(Level.FATAL,arguments)},isEnabledFor:function(e){return e.isGreaterOrEqual(this.getEffectiveLevel())},isTraceEnabled:function(){return this.isEnabledFor(Level.TRACE)},isDebugEnabled:function(){return this.isEnabledFor(Level.DEBUG)},isInfoEnabled:function(){return this.isEnabledFor(Level.INFO)},isWarnEnabled:function(){return this.isEnabledFor(Level.WARN)},isErrorEnabled:function(){return this.isEnabledFor(Level.ERROR)},isFatalEnabled:function(){return this.isEnabledFor(Level.FATAL)}},Logger.prototype.trace.isEntryPoint=!0,Logger.prototype.debug.isEntryPoint=!0,Logger.prototype.info.isEntryPoint=!0,Logger.prototype.warn.isEntryPoint=!0,Logger.prototype.error.isEntryPoint=!0,Logger.prototype.fatal.isEntryPoint=!0;var loggers={},loggerNames=[],ROOT_LOGGER_DEFAULT_LEVEL=Level.DEBUG,rootLogger=new Logger(rootLoggerName);rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),log4javascript.getRootLogger=function(){return rootLogger},log4javascript.getLogger=function(e){if("string"!=typeof e&&(e=anonymousLoggerName,logLog.warn("log4javascript.getLogger: non-string logger name "+toStr(e)+" supplied, returning anonymous logger")),e==rootLoggerName&&handleError("log4javascript.getLogger: root logger may not be obtained by name"),!loggers[e]){var t=new Logger(e);loggers[e]=t,loggerNames.push(e);var n,r=e.lastIndexOf(".");if(r>-1){var o=e.substring(0,r);n=log4javascript.getLogger(o)}else n=rootLogger;n.addChild(t)}return loggers[e]};var defaultLogger=null;log4javascript.getDefaultLogger=function(){return defaultLogger||(defaultLogger=createDefaultLogger()),defaultLogger};var nullLogger=null;log4javascript.getNullLogger=function(){return nullLogger||(nullLogger=new Logger(nullLoggerName)).setLevel(Level.OFF),nullLogger},log4javascript.resetConfiguration=function(){rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),loggers={}};var LoggingEvent=function(e,t,n,r,o){this.logger=e,this.timeStamp=t,this.timeStampInMilliseconds=t.getTime(),this.timeStampInSeconds=Math.floor(this.timeStampInMilliseconds/1e3),this.milliseconds=this.timeStamp.getMilliseconds(),this.level=n,this.messages=r,this.exception=o};LoggingEvent.prototype={getThrowableStrRep:function(){return this.exception?getExceptionStringRep(this.exception):""},getCombinedMessages:function(){return 1==this.messages.length?this.messages[0]:this.messages.join(newLine)},toString:function(){return"LoggingEvent["+this.level+"]"}},log4javascript.LoggingEvent=LoggingEvent;var Layout=function(){};Layout.prototype={defaults:{loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url"},loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url",batchHeader:"",batchFooter:"",batchSeparator:"",returnsPostData:!1,overrideTimeStampsSetting:!1,useTimeStampsInMilliseconds:null,format:function(){handleError("Layout.format: layout supplied has no format() method")},ignoresThrowable:function(){handleError("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},getContentType:function(){return"text/plain"},allowBatching:function(){return!0},setTimeStampsInMilliseconds:function(e){this.overrideTimeStampsSetting=!0,this.useTimeStampsInMilliseconds=bool(e)},isTimeStampsInMilliseconds:function(){return this.overrideTimeStampsSetting?this.useTimeStampsInMilliseconds:useTimeStampsInMilliseconds},getTimeStampValue:function(e){return this.isTimeStampsInMilliseconds()?e.timeStampInMilliseconds:e.timeStampInSeconds},getDataValues:function(e,t){var n=[[this.loggerKey,e.logger.name],[this.timeStampKey,this.getTimeStampValue(e)],[this.levelKey,e.level.name],[this.urlKey,window.location.href],[this.messageKey,t?e.getCombinedMessages():e.messages]];if(this.isTimeStampsInMilliseconds()||n.push([this.millisecondsKey,e.milliseconds]),e.exception&&n.push([this.exceptionKey,getExceptionStringRep(e.exception)]),this.hasCustomFields())for(var r=0,o=this.customFields.length;r<o;r++){var a=this.customFields[r].value;"function"==typeof a&&(a=a(this,e)),n.push([this.customFields[r].name,a])}return n},setKeys:function(e,t,n,r,o,a,i){this.loggerKey=extractStringFromParam(e,this.defaults.loggerKey),this.timeStampKey=extractStringFromParam(t,this.defaults.timeStampKey),this.levelKey=extractStringFromParam(n,this.defaults.levelKey),this.messageKey=extractStringFromParam(r,this.defaults.messageKey),this.exceptionKey=extractStringFromParam(o,this.defaults.exceptionKey),this.urlKey=extractStringFromParam(a,this.defaults.urlKey),this.millisecondsKey=extractStringFromParam(i,this.defaults.millisecondsKey)},setCustomField:function(e,t){for(var n=!1,r=0,o=this.customFields.length;r<o;r++)this.customFields[r].name===e&&(this.customFields[r].value=t,n=!0);n||this.customFields.push({name:e,value:t})},hasCustomFields:function(){return this.customFields.length>0},formatWithException:function(e){var t=this.format(e);return e.exception&&this.ignoresThrowable()&&(t+=e.getThrowableStrRep()),t},toString:function(){handleError("Layout.toString: all layouts must override this method")}},log4javascript.Layout=Layout;var Appender=function(){},SimpleDateFormat;function SimpleLayout(){this.customFields=[]}function NullLayout(){this.customFields=[]}function XmlLayout(e){this.combineMessages=extractBooleanFromParam(e,!0),this.customFields=[]}function escapeNewLines(e){return e.replace(/\r\n|\r|\n/g,"\\r\\n")}function JsonLayout(e,t){this.readable=extractBooleanFromParam(e,!1),this.combineMessages=extractBooleanFromParam(t,!0),this.batchHeader=this.readable?"["+newLine:"[",this.batchFooter=this.readable?"]"+newLine:"]",this.batchSeparator=this.readable?","+newLine:",",this.setKeys(),this.colon=this.readable?": ":":",this.tab=this.readable?"\t":"",this.lineBreak=this.readable?newLine:"",this.customFields=[]}function HttpPostDataLayout(){this.setKeys(),this.customFields=[],this.returnsPostData=!0}function formatObjectExpansion(e,t,n){var r=[];return function e(t,n,o){var a,i,s,l,c,u,d;function p(e){for(var t=splitIntoLines(e),n=1,r=t.length;n<r;n++)t[n]=o+t[n];return t.join(newLine)}if(o||(o=""),null===t)return"null";if(void 0===t)return"undefined";if("string"==typeof t)return p(t);if("object"==typeof t&&array_contains(r,t)){try{u=toStr(t)}catch(e){u="Error formatting property. Details: "+getExceptionStringRep(e)}return u+" [already expanded]"}if(t instanceof Array&&n>0){for(r.push(t),u="["+newLine,s=n-1,l=o+"  ",c=[],a=0,i=t.length;a<i;a++)try{d=e(t[a],s,l),c.push(l+d)}catch(e){c.push(l+"Error formatting array member. Details: "+getExceptionStringRep(e))}return u+=c.join(","+newLine)+newLine+o+"]"}if("[object Date]"==Object.prototype.toString.call(t))return t.toString();if("object"==typeof t&&n>0){for(a in r.push(t),u="{"+newLine,s=n-1,l=o+"  ",c=[],t)try{d=e(t[a],s,l),c.push(l+a+": "+d)}catch(e){c.push(l+a+": Error formatting property. Details: "+getExceptionStringRep(e))}return u+=c.join(","+newLine)+newLine+o+"}"}return p(toStr(t))}(e,t,n)}function PatternLayout(e){this.pattern=e||PatternLayout.DEFAULT_CONVERSION_PATTERN,this.customFields=[]}function AlertAppender(){}function BrowserConsoleAppender(){}Appender.prototype=new EventSupport,Appender.prototype.layout=new PatternLayout,Appender.prototype.threshold=Level.ALL,Appender.prototype.loggers=[],Appender.prototype.doAppend=function(e){enabled&&e.level.level>=this.threshold.level&&this.append(e)},Appender.prototype.append=function(e){},Appender.prototype.setLayout=function(e){e instanceof Layout?this.layout=e:handleError("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")},Appender.prototype.getLayout=function(){return this.layout},Appender.prototype.setThreshold=function(e){e instanceof Level?this.threshold=e:handleError("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")},Appender.prototype.getThreshold=function(){return this.threshold},Appender.prototype.setAddedToLogger=function(e){this.loggers.push(e)},Appender.prototype.setRemovedFromLogger=function(e){array_remove(this.loggers,e)},Appender.prototype.group=emptyFunction,Appender.prototype.groupEnd=emptyFunction,Appender.prototype.toString=function(){handleError("Appender.toString: all appenders must override this method")},log4javascript.Appender=Appender,SimpleLayout.prototype=new Layout,SimpleLayout.prototype.format=function(e){return e.level.name+" - "+e.getCombinedMessages()},SimpleLayout.prototype.ignoresThrowable=function(){return!0},SimpleLayout.prototype.toString=function(){return"SimpleLayout"},log4javascript.SimpleLayout=SimpleLayout,NullLayout.prototype=new Layout,NullLayout.prototype.format=function(e){return e.messages},NullLayout.prototype.ignoresThrowable=function(){return!0},NullLayout.prototype.formatWithException=function(e){var t=e.messages,n=e.exception;return n?t.concat([n]):t},NullLayout.prototype.toString=function(){return"NullLayout"},log4javascript.NullLayout=NullLayout,XmlLayout.prototype=new Layout,XmlLayout.prototype.isCombinedMessages=function(){return this.combineMessages},XmlLayout.prototype.getContentType=function(){return"text/xml"},XmlLayout.prototype.escapeCdata=function(e){return e.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")},XmlLayout.prototype.format=function(e){var t,n,r=this;function o(e){return e="string"==typeof e?e:toStr(e),"<log4javascript:message><![CDATA["+r.escapeCdata(e)+"]]></log4javascript:message>"}var a='<log4javascript:event logger="'+e.logger.name+'" timestamp="'+this.getTimeStampValue(e)+'"';if(this.isTimeStampsInMilliseconds()||(a+=' milliseconds="'+e.milliseconds+'"'),a+=' level="'+e.level.name+'">'+newLine,this.combineMessages)a+=o(e.getCombinedMessages());else{for(a+="<log4javascript:messages>"+newLine,t=0,n=e.messages.length;t<n;t++)a+=o(e.messages[t])+newLine;a+="</log4javascript:messages>"+newLine}if(this.hasCustomFields())for(t=0,n=this.customFields.length;t<n;t++)a+='<log4javascript:customfield name="'+this.customFields[t].name+'"><![CDATA['+this.customFields[t].value.toString()+"]]></log4javascript:customfield>"+newLine;return e.exception&&(a+="<log4javascript:exception><![CDATA["+getExceptionStringRep(e.exception)+"]]></log4javascript:exception>"+newLine),a+="</log4javascript:event>"+newLine+newLine},XmlLayout.prototype.ignoresThrowable=function(){return!1},XmlLayout.prototype.toString=function(){return"XmlLayout"},log4javascript.XmlLayout=XmlLayout,JsonLayout.prototype=new Layout,JsonLayout.prototype.isReadable=function(){return this.readable},JsonLayout.prototype.isCombinedMessages=function(){return this.combineMessages},JsonLayout.prototype.format=function(e){var t,n,r=this,o=this.getDataValues(e,this.combineMessages),a="{"+this.lineBreak;function i(e,t,n){var o,a=typeof e;if(e instanceof Date)o=String(e.getTime());else if(n&&e instanceof Array){o="["+r.lineBreak;for(var s=0,l=e.length;s<l;s++){var c=t+r.tab;o+=c+i(e[s],c,!1),s<e.length-1&&(o+=","),o+=r.lineBreak}o+=t+"]"}else o="number"!==a&&"boolean"!==a?'"'+escapeNewLines(toStr(e).replace(/\"/g,'\\"'))+'"':e;return o}for(t=0,n=o.length-1;t<=n;t++)a+=this.tab+'"'+o[t][0]+'"'+this.colon+i(o[t][1],this.tab,!0),t<n&&(a+=","),a+=this.lineBreak;return a+="}"+this.lineBreak},JsonLayout.prototype.ignoresThrowable=function(){return!1},JsonLayout.prototype.toString=function(){return"JsonLayout"},JsonLayout.prototype.getContentType=function(){return"application/json"},log4javascript.JsonLayout=JsonLayout,HttpPostDataLayout.prototype=new Layout,HttpPostDataLayout.prototype.allowBatching=function(){return!1},HttpPostDataLayout.prototype.format=function(e){for(var t=this.getDataValues(e),n=[],r=0,o=t.length;r<o;r++){var a=t[r][1]instanceof Date?String(t[r][1].getTime()):t[r][1];n.push(urlEncode(t[r][0])+"="+urlEncode(a))}return n.join("&")},HttpPostDataLayout.prototype.ignoresThrowable=function(e){return!1},HttpPostDataLayout.prototype.toString=function(){return"HttpPostDataLayout"},log4javascript.HttpPostDataLayout=HttpPostDataLayout,function(){var e=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={G:0,y:3,M:4,w:2,W:2,D:2,d:2,F:2,E:1,a:0,H:2,k:2,K:2,h:2,m:2,s:2,S:2,Z:5},o=864e5,a=6048e5,i=function(e,t,n){var r=new Date(e,t,n,0,0,0);return r.setMilliseconds(0),r};Date.prototype.getDifference=function(e){return this.getTime()-e.getTime()},Date.prototype.isBefore=function(e){return this.getTime()<e.getTime()},Date.prototype.getUTCTime=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())},Date.prototype.getTimeSince=function(e){return this.getUTCTime()-e.getUTCTime()},Date.prototype.getPreviousSunday=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0),t=new Date(e.getTime()-this.getDay()*o);return i(t.getFullYear(),t.getMonth(),t.getDate())},Date.prototype.getWeekInYear=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=1);var t=this.getPreviousSunday(),n=i(this.getFullYear(),0,1),r=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/a);return 7-n.getDay()<e&&r--,r},Date.prototype.getWeekInMonth=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=1);var t=this.getPreviousSunday(),n=i(this.getFullYear(),this.getMonth(),1),r=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/a);return 7-n.getDay()>=e&&r++,r},Date.prototype.getDayInYear=function(){var e=i(this.getFullYear(),0,1);return 1+Math.floor(this.getTimeSince(e)/o)},(SimpleDateFormat=function(e){this.formatString=e}).prototype.setMinimalDaysInFirstWeek=function(e){this.minimalDaysInFirstWeek=e},SimpleDateFormat.prototype.getMinimalDaysInFirstWeek=function(){return isUndefined(this.minimalDaysInFirstWeek)?1:this.minimalDaysInFirstWeek};var s=function(e,t){for(;e.length<t;)e="0"+e;return e},l=function(e,t,n){return t>=4?e:e.substr(0,Math.max(n,t))},c=function(e,t){return s(""+e,t)};SimpleDateFormat.prototype.format=function(o){for(var a,i="",u=this.formatString;a=e.exec(u);){var d=a[1],p=a[2],f=a[3],h=a[4];if(d)i+="''"==d?"'":d.substring(1,d.length-1);else if(f);else if(h)i+=h;else if(p){var g=p.charAt(0),m=p.length,v="";switch(g){case"G":v="AD";break;case"y":v=o.getFullYear();break;case"M":v=o.getMonth();break;case"w":v=o.getWeekInYear(this.getMinimalDaysInFirstWeek());break;case"W":v=o.getWeekInMonth(this.getMinimalDaysInFirstWeek());break;case"D":v=o.getDayInYear();break;case"d":v=o.getDate();break;case"F":v=1+Math.floor((o.getDate()-1)/7);break;case"E":v=n[o.getDay()];break;case"a":v=o.getHours()>=12?"PM":"AM";break;case"H":v=o.getHours();break;case"k":v=o.getHours()||24;break;case"K":v=o.getHours()%12;break;case"h":v=o.getHours()%12||12;break;case"m":v=o.getMinutes();break;case"s":v=o.getSeconds();break;case"S":v=o.getMilliseconds();break;case"Z":v=o.getTimezoneOffset()}switch(r[g]){case 0:i+=l(v,m,2);break;case 1:i+=l(v,m,3);break;case 2:i+=c(v,m);break;case 3:i+=m<=3?(""+v).substr(2,2):c(v,m);break;case 4:i+=m>=3?l(t[v],m,m):c(v+1,m);break;case 5:var y=v>0?"-":"+",b=Math.abs(v),_=""+Math.floor(b/60),x=""+b%60;i+=y+(_=s(_,2))+(x=s(x,2))}}u=u.substr(a.index+a[0].length)}return i}}(),log4javascript.SimpleDateFormat=SimpleDateFormat,PatternLayout.TTCC_CONVERSION_PATTERN="%r %p %c - %m%n",PatternLayout.DEFAULT_CONVERSION_PATTERN="%m%n",PatternLayout.ISO8601_DATEFORMAT="yyyy-MM-dd HH:mm:ss,SSS",PatternLayout.DATETIME_DATEFORMAT="dd MMM yyyy HH:mm:ss,SSS",PatternLayout.ABSOLUTETIME_DATEFORMAT="HH:mm:ss,SSS",PatternLayout.prototype=new Layout,PatternLayout.prototype.format=function(e){for(var t,n=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,r="",o=this.pattern;t=n.exec(o);){var a=t[0],i=t[1],s=t[2],l=t[3],c=t[5],u=t[6];if(u)r+=""+u;else{var d,p="";switch(l){case"a":case"m":var f=0;c&&(f=parseInt(c,10),isNaN(f)&&(handleError("PatternLayout.format: invalid specifier '"+c+"' for conversion character '"+l+"' - should be a number"),f=0));for(var h="a"===l?e.messages[0]:e.messages,g=0,m=h.length;g<m;g++)g>0&&" "!==p.charAt(p.length-1)&&(p+=" "),p+=0===f?h[g]:formatObjectExpansion(h[g],f);break;case"c":var v=e.logger.name;if(c){var y=parseInt(c,10),b=e.logger.name.split(".");p=y>=b.length?v:b.slice(b.length-y).join(".")}else p=v;break;case"d":var _=PatternLayout.ISO8601_DATEFORMAT;c&&("ISO8601"==(_=c)?_=PatternLayout.ISO8601_DATEFORMAT:"ABSOLUTE"==_?_=PatternLayout.ABSOLUTETIME_DATEFORMAT:"DATE"==_&&(_=PatternLayout.DATETIME_DATEFORMAT)),p=new SimpleDateFormat(_).format(e.timeStamp);break;case"f":if(this.hasCustomFields()){var x=0;c&&(x=parseInt(c,10),isNaN(x)?handleError("PatternLayout.format: invalid specifier '"+c+"' for conversion character 'f' - should be a number"):0===x?handleError("PatternLayout.format: invalid specifier '"+c+"' for conversion character 'f' - must be greater than zero"):x>this.customFields.length?handleError("PatternLayout.format: invalid specifier '"+c+"' for conversion character 'f' - there aren't that many custom fields"):x-=1);var w=this.customFields[x].value;"function"==typeof w&&(w=w(this,e)),p=w}break;case"n":p=newLine;break;case"p":p=e.level.name;break;case"r":p=""+e.timeStamp.getDifference(applicationStartDate);break;case"%":p="%";break;default:p=a}if(s){d=parseInt(s.substr(1),10);var E=p.length;d<E&&(p=p.substring(E-d,E))}if(i)if("-"==i.charAt(0))for(d=parseInt(i.substr(1),10);p.length<d;)p+=" ";else for(d=parseInt(i,10);p.length<d;)p=" "+p;r+=p}o=o.substr(t.index+t[0].length)}return r},PatternLayout.prototype.ignoresThrowable=function(){return!0},PatternLayout.prototype.toString=function(){return"PatternLayout"},log4javascript.PatternLayout=PatternLayout,AlertAppender.prototype=new Appender,AlertAppender.prototype.layout=new SimpleLayout,AlertAppender.prototype.append=function(e){alert(this.getLayout().formatWithException(e))},AlertAppender.prototype.toString=function(){return"AlertAppender"},log4javascript.AlertAppender=AlertAppender,BrowserConsoleAppender.prototype=new log4javascript.Appender,BrowserConsoleAppender.prototype.layout=new NullLayout,BrowserConsoleAppender.prototype.threshold=Level.DEBUG,BrowserConsoleAppender.prototype.append=function(e){var t,n=this,r=function(t){var r=n.getLayout().formatWithException(e);return"string"==typeof r?t?r:[r]:t?r.join(" "):r},o=window.console;o&&o.log?"function"==typeof o[t=o.debug&&Level.DEBUG.isGreaterOrEqual(e.level)?"debug":o.info&&Level.INFO.equals(e.level)?"info":o.warn&&Level.WARN.equals(e.level)?"warn":o.error&&e.level.isGreaterOrEqual(Level.ERROR)?"error":"log"].apply?o[t].apply(o,r(!1)):o[t](r(!0)):"undefined"!=typeof opera&&opera.postError&&opera.postError(r(!0))},BrowserConsoleAppender.prototype.group=function(e){window.console&&window.console.group&&window.console.group(e)},BrowserConsoleAppender.prototype.groupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},BrowserConsoleAppender.prototype.toString=function(){return"BrowserConsoleAppender"},log4javascript.BrowserConsoleAppender=BrowserConsoleAppender;var xhrFactory=function(){return new XMLHttpRequest},xmlHttpFactories=[xhrFactory,function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],withCredentialsSupported=!1,getXmlHttp=function(e){for(var t,n=null,r=0,o=xmlHttpFactories.length;r<o;r++){t=xmlHttpFactories[r];try{return n=t(),withCredentialsSupported=t==xhrFactory&&"withCredentials"in n,getXmlHttp=t,n}catch(e){}}e?e():handleError("getXmlHttp: unable to obtain XMLHttpRequest object")},ConsoleAppender;function isHttpRequestSuccessful(e){return isUndefined(e.status)||0===e.status||e.status>=200&&e.status<300||1223==e.status}function AjaxAppender(e,t){var n=this,r=!0;e||(handleError("AjaxAppender: URL must be specified in constructor"),r=!1);var o=this.defaults.timed,a=this.defaults.waitForResponse,i=this.defaults.batchSize,s=this.defaults.timerInterval,l=this.defaults.requestSuccessCallback,c=this.defaults.failCallback,u=this.defaults.postVarName,d=this.defaults.sendAllOnUnload,p=this.defaults.contentType,f=null,h=[],g=[],m=[],v=!1,y=!1;function b(e){return!y||(handleError("AjaxAppender: configuration option '"+e+"' may not be set after the appender has been initialized"),!1)}function _(){var e;if(r&&enabled)if(v=!0,a)g.length>0?C(w(e=g.shift()),_):(v=!1,o&&E());else{for(;e=g.shift();)C(w(e));v=!1,o&&E()}}function x(){var e=!1;if(r&&enabled){for(var t,s=n.getLayout().allowBatching()?i:1,l=[];t=h.shift();)l.push(t),h.length>=s&&(g.push(l),l=[]);l.length>0&&g.push(l),e=g.length>0,a=!1,o=!1,_()}return e}function w(e){for(var t,r=[],o="";t=e.shift();)r.push(n.getLayout().formatWithException(t));return o=1==e.length?r.join(""):n.getLayout().batchHeader+r.join(n.getLayout().batchSeparator)+n.getLayout().batchFooter,p==n.defaults.contentType&&((o=n.getLayout().returnsPostData?o:urlEncode(u)+"="+urlEncode(o)).length>0&&(o+="&"),o+="layout="+urlEncode(n.getLayout().toString())),o}function E(){window.setTimeout(_,s)}function R(){var e="AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled";handleError(e),r=!1,c&&c(e)}function C(n,o){try{var a=getXmlHttp(R);if(r){a.onreadystatechange=function(){if(4==a.readyState){if(isHttpRequestSuccessful(a))l&&l(a),o&&o(a);else{var t="AjaxAppender.append: XMLHttpRequest request to URL "+e+" returned status code "+a.status;handleError(t),c&&c(t)}a.onreadystatechange=emptyFunction,a=null}},a.open("POST",e,!0),t&&withCredentialsSupported&&(a.withCredentials=!0);try{for(var i,s=0;i=m[s++];)a.setRequestHeader(i.name,i.value);a.setRequestHeader("Content-Type",p)}catch(e){var u="AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled";return handleError(u),r=!1,void(c&&c(u))}a.send(n)}}catch(t){var d="AjaxAppender.append: error sending log message to "+e;handleError(d,t),r=!1,c&&c(d+". Details: "+getExceptionStringRep(t))}}this.getSessionId=function(){return f},this.setSessionId=function(e){f=extractStringFromParam(e,null),this.layout.setCustomField("sessionid",f)},this.setLayout=function(e){b("layout")&&(this.layout=e,null!==f&&this.setSessionId(f))},this.isTimed=function(){return o},this.setTimed=function(e){b("timed")&&(o=bool(e))},this.getTimerInterval=function(){return s},this.setTimerInterval=function(e){b("timerInterval")&&(s=extractIntFromParam(e,s))},this.isWaitForResponse=function(){return a},this.setWaitForResponse=function(e){b("waitForResponse")&&(a=bool(e))},this.getBatchSize=function(){return i},this.setBatchSize=function(e){b("batchSize")&&(i=extractIntFromParam(e,i))},this.isSendAllOnUnload=function(){return d},this.setSendAllOnUnload=function(e){b("sendAllOnUnload")&&(d=extractBooleanFromParam(e,d))},this.setRequestSuccessCallback=function(e){l=extractFunctionFromParam(e,l)},this.setFailCallback=function(e){c=extractFunctionFromParam(e,c)},this.getPostVarName=function(){return u},this.setPostVarName=function(e){b("postVarName")&&(u=extractStringFromParam(e,u))},this.getHeaders=function(){return m},this.addHeader=function(e,t){"content-type"==e.toLowerCase()?p=t:m.push({name:e,value:t})},this.sendAll=_,this.sendAllRemaining=x,this.append=function(e){if(r){y||function(){if(y=!0,d){var e=window.onbeforeunload;window.onbeforeunload=function(){e&&e(),x()}}o&&E()}(),h.push(e);var t=this.getLayout().allowBatching()?i:1;if(h.length>=t){for(var n,s=[];n=h.shift();)s.push(n);g.push(s),o||a&&(!a||v)||_()}}}}function setCookie(e,t,n,r){var o;if(r=r?"; path="+r:"",n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),o="; expires="+a.toGMTString()}else o="";document.cookie=escape(e)+"="+escape(t)+o+r}function getCookie(e){for(var t=escape(e)+"=",n=document.cookie.split(";"),r=0,o=n.length;r<o;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return unescape(a.substring(t.length,a.length))}return null}function getBaseUrl(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;t<n;++t)if(-1!=e[t].src.indexOf("log4javascript")){var r=e[t].src.lastIndexOf("/");return-1==r?"":e[t].src.substr(0,r+1)}return null}function isLoaded(e){try{return bool(e.loaded)}catch(e){return!1}}function padWithSpaces(e,t){if(e.length<t){for(var n=[],r=Math.max(0,t-e.length),o=0;o<r;o++)n[o]=" ";e+=n.join("")}return e}function createDefaultLogger(){var e=log4javascript.getLogger(defaultLoggerName),t=new log4javascript.PopUpAppender;return e.addAppender(t),e}if(AjaxAppender.prototype=new Appender,AjaxAppender.prototype.defaults={waitForResponse:!1,timed:!1,timerInterval:1e3,batchSize:1,sendAllOnUnload:!1,requestSuccessCallback:null,failCallback:null,postVarName:"data",contentType:"application/x-www-form-urlencoded"},AjaxAppender.prototype.layout=new HttpPostDataLayout,AjaxAppender.prototype.toString=function(){return"AjaxAppender"},log4javascript.AjaxAppender=AjaxAppender,function(){var e=[],t=1;function n(e,t,n,r,o){this.create(!1,null,e,t,n,r,o,this.defaults.focusPopUp)}function r(e,t,n,r,o,a){this.create(!0,e,t,n,r,o,a,!1)}(ConsoleAppender=function(){}).prototype=new Appender,ConsoleAppender.prototype.create=function(n,r,o,a,i,s,l,c){var u=this,d=!1,p=!1,f=!1,h=!1,g=[],m=!0,v=t++;a=extractBooleanFromParam(a,this.defaults.initiallyMinimized),o=extractBooleanFromParam(o,this.defaults.lazyInit),i=extractBooleanFromParam(i,this.defaults.useDocumentWrite);var y=this.defaults.newestMessageAtTop,b=this.defaults.scrollToLatestMessage;s=s||this.defaults.width,l=l||this.defaults.height;var _,x,w,E,R,C=this.defaults.maxMessages,S=this.defaults.showCommandLine,T=this.defaults.commandLineObjectExpansionDepth,O=this.defaults.showHideButton,N=this.defaults.showCloseButton;this.setLayout(this.defaults.layout);var A=n?"InPageAppender":"PopUpAppender",L=function(e){return!p||(handleError(A+": configuration option '"+e+"' may not be set after the appender has been initialized"),!1)},D=function(){return f&&m&&!h};this.isNewestMessageAtTop=function(){return y},this.setNewestMessageAtTop=function(e){y=bool(e),D()&&E().setNewestAtTop(y)},this.isScrollToLatestMessage=function(){return b},this.setScrollToLatestMessage=function(e){b=bool(e),D()&&E().setScrollToLatest(b)},this.getWidth=function(){return s},this.setWidth=function(e){L("width")&&(s=extractStringFromParam(e,s))},this.getHeight=function(){return l},this.setHeight=function(e){L("height")&&(l=extractStringFromParam(e,l))},this.getMaxMessages=function(){return C},this.setMaxMessages=function(e){C=extractIntFromParam(e,C),D()&&E().setMaxMessages(C)},this.isShowCommandLine=function(){return S},this.setShowCommandLine=function(e){S=bool(e),D()&&E().setShowCommandLine(S)},this.isShowHideButton=function(){return O},this.setShowHideButton=function(e){O=bool(e),D()&&E().setShowHideButton(O)},this.isShowCloseButton=function(){return N},this.setShowCloseButton=function(e){N=bool(e),D()&&E().setShowCloseButton(N)},this.getCommandLineObjectExpansionDepth=function(){return T},this.setCommandLineObjectExpansionDepth=function(e){T=extractIntFromParam(e,T)};var M=a;function j(e,t){this.loggingEvent=e,this.levelName=e.level.name,this.formattedMessage=t}function P(e,t){this.name=e,this.initiallyExpanded=t}function I(){}this.isInitiallyMinimized=function(){return a},this.setInitiallyMinimized=function(e){L("initiallyMinimized")&&(a=bool(e),M=a)},this.isUseDocumentWrite=function(){return i},this.setUseDocumentWrite=function(e){L("useDocumentWrite")&&(i=bool(e))},j.prototype.append=function(){E().log(this.levelName,this.formattedMessage)},P.prototype.append=function(){E().group(this.name,this.initiallyExpanded)},I.prototype.append=function(){E().groupEnd()};var k=function(){w(),d?h&&te&&x():_(),w()&&F()};this.append=function(e){if(m){var t=u.getLayout().formatWithException(e);g.push(new j(e,t)),k()}},this.group=function(e,t){m&&(g.push(new P(e,t)),k())},this.groupEnd=function(){m&&(g.push(new I),k())};var F=function(){for(;g.length>0;)g.shift().append();c&&E().focus()};this.setAddedToLogger=function(e){this.loggers.push(e),enabled&&!o&&_()},this.clear=function(){D()&&E().clearLog(),g.length=0},this.focus=function(){D()&&E().focus()},this.focusCommandLine=function(){D()&&E().focusCommandLine()},this.focusSearch=function(){D()&&E().focusSearch()};var B=window;this.getCommandWindow=function(){return B},this.setCommandWindow=function(e){B=e},this.executeLastCommand=function(){D()&&E().evalLastCommand()};var H=new PatternLayout("%m");this.getCommandLayout=function(){return H},this.setCommandLayout=function(e){H=e},this.evalCommandAndAppend=function(e){var t={appendResult:!0,isError:!1},n="";try{var r,o;!B.eval&&B.execScript&&B.execScript("null");var a={};for(o=0,len=W.length;o<len;o++)a[W[o][0]]=W[o][1];var i=[],s=function(e){i.push([e,B[e]])};s("appender"),B.appender=u,s("commandReturnValue"),B.commandReturnValue=t,s("commandLineFunctionsHash"),B.commandLineFunctionsHash=a;var l=function(e){s(e),B[e]=function(){return this.commandLineFunctionsHash[e](u,arguments,t)}};for(o=0,len=W.length;o<len;o++)l(W[o][0]);for(B===window&&B.execScript?(s("evalExpr"),s("result"),window.evalExpr=e,B.execScript("window.result=eval(window.evalExpr);"),r=window.result):r=B.eval(e),n=isUndefined(r)?r:formatObjectExpansion(r,T),o=0,len=i.length;o<len;o++)B[i[o][0]]=i[o][1]}catch(e){n="Error evaluating command: "+getExceptionStringRep(e),t.isError=!0}if(t.appendResult){var c=">>> "+e;isUndefined(n)||(c+=newLine+n);var d=t.isError?Level.ERROR:Level.INFO,p=new LoggingEvent(null,new Date,d,[c],null),f=this.getLayout();this.setLayout(H),this.append(p),this.setLayout(f)}};var W=e.concat([]);this.addCommandLineFunction=function(e,t){W.push([e,t])};var U="log4javascriptCommandHistory";this.storeCommandHistory=function(e){setCookie(U,e.join(","))};var V=function(e){var t=['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"\x3c!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\x3e",'<meta http-equiv="X-UA-Compatible" content="IE=7" />','<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','\x3c!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\x3e','\x3c!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\x3e','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}","function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}","if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}','GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}","this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}","this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}','LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}','LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}','this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}','logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}","var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}","matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}","var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}","return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}","logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}","displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}","var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}','function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}','function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}","searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}","return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+","preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}","logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}","var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}","setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}","this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}','currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}','addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}","function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}','function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}','if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}','function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}','function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}","function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}","currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}","return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-','($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}","this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}","return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}","return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}","currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}","</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>','<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>','<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />','<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>','<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>','<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>','<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />','<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />','<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];e.open();for(var n=0,r=t.length;n<r;n++)e.writeln(t[n]);e.close()};this.setEventTypes(["load","unload"]);var $=function(){var e=E();e.setAppender(u),e.setNewestAtTop(y),e.setScrollToLatest(b),e.setMaxMessages(C),e.setShowCommandLine(S),e.setShowHideButton(O),e.setShowCloseButton(N),e.setMainWindow(window);var t=getCookie(U);t&&(e.commandHistory=t.split(","),e.currentCommandIndex=e.commandHistory.length),u.dispatchEvent("load",{win:e})};this.unload=function(){logLog.debug("unload "+this+", caller: "+this.unload.caller),h||(logLog.debug("really doing unload "+this),h=!0,f=!1,p=!1,u.dispatchEvent("unload",{}))};var z=function(e,t,n,r){var o=setInterval((function(){try{h&&clearInterval(o),e(E())&&(clearInterval(o),n())}catch(e){clearInterval(o),m=!1,handleError(r,e)}}),t)},G=function(){var e=document.domain!=location.hostname;return i?"":getBaseUrl()+"console.html"+(e?"?log4javascript_domain="+escape(document.domain):"")};if(n){var X=null,Y=[];this.addCssProperty=function(e,t){L("cssProperties")&&Y.push([e,t])};var J,q=!1,K=uniqueId+"_InPageAppender_"+v;this.hide=function(){d&&p&&(D()&&E().$("command").blur(),J.style.display="none",M=!0)},this.show=function(){d&&(p?(J.style.display="block",this.setShowCommandLine(S),M=!1):q||x(!0))},this.isVisible=function(){return!M&&!h},this.close=function(e){h||e&&!confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")||(J.parentNode.removeChild(J),this.unload())},R=function(){var e="InPageAppender.open: unable to create console iframe";function t(){try{a||u.show(),$(),f=!0,F()}catch(t){m=!1,handleError(e,t)}}function n(){try{var n=function(e){return isLoaded(e)};i&&V(E().document),n(E())?t():z(n,100,t,e)}catch(t){m=!1,handleError(e,t)}}M=!1,(J=X.appendChild(document.createElement("div"))).style.width=s,J.style.height=l,J.style.border="solid gray 1px";for(var r=0,o=Y.length;r<o;r++)J.style[Y[r][0]]=Y[r][1];var c=i?"":" src='"+G()+"'";J.innerHTML="<iframe id='"+K+"' name='"+K+"' width='100%' height='100%' frameborder='0'"+c+" scrolling='no'></iframe>",h=!1;var d=function(e){try{return bool(e)&&bool(e.document)}catch(e){return!1}};d(E())?n():z(d,100,n,e),p=!0},x=function(e){if(e||!a){var t=function(){if(r)try{var e=document.getElementById(r);1==e.nodeType&&(X=e),R()}catch(e){handleError("InPageAppender.init: invalid container element '"+r+"' supplied",e)}else(X=document.createElement("div")).style.position="fixed",X.style.left="0",X.style.right="0",X.style.bottom="0",document.body.appendChild(X),u.addCssProperty("borderWidth","1px 0 0 0"),u.addCssProperty("zIndex",1e6),R()};pageLoaded&&r&&r.appendChild?(X=r,R()):pageLoaded?t():log4javascript.addEventListener("load",t),q=!0}},_=function(){x(),d=!0},E=function(){var e=window.frames[K];if(e)return e},w=function(){return!(!m||h)&&(p&&!f&&E()&&isLoaded(E())&&(f=!0),f)}}else{var Q,Z=u.defaults.useOldPopUp,ee=u.defaults.complainAboutPopUpBlocking,te=this.defaults.reopenWhenClosed;this.isUseOldPopUp=function(){return Z},this.setUseOldPopUp=function(e){L("useOldPopUp")&&(Z=bool(e))},this.isComplainAboutPopUpBlocking=function(){return ee},this.setComplainAboutPopUpBlocking=function(e){L("complainAboutPopUpBlocking")&&(ee=bool(e))},this.isFocusPopUp=function(){return c},this.setFocusPopUp=function(e){c=bool(e)},this.isReopenWhenClosed=function(){return te},this.setReopenWhenClosed=function(e){te=bool(e)},this.close=function(){logLog.debug("close "+this);try{Q.close(),this.unload()}catch(e){}},this.hide=function(){logLog.debug("hide "+this),D()&&this.close()},this.show=function(){logLog.debug("show "+this),p||R()},this.isVisible=function(){return w()},R=function(){var e="width="+s+",height="+l+",status,resizable",t="";try{var n=window.frameElement;n&&(t="_"+n.tagName+"_"+(n.name||n.id||""))}catch(e){t="_inaccessibleParentFrame"}var r="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+v+t;Z&&i||(r=r+"_"+uniqueId);var o=function(e){if(h)return!0;try{return bool(e)&&e.closed}catch(e){}return!1},a=function(){h||u.unload()};function c(){E().setCloseIfOpenerCloses(!Z||!i),$(),f=!0,F(),z(o,500,a,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}try{Q=window.open(G(),r,e),h=!1,p=!0,Q&&Q.document?i&&Z&&isLoaded(Q)?(Q.mainPageReloaded(),c()):(i&&V(Q.document),isLoaded(Q)?c():z((function(e){return bool(e)&&isLoaded(e)}),100,c,"PopUpAppender.init: unable to create console window")):(m=!1,logLog.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),ee&&handleError("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging."))}catch(e){handleError("PopUpAppender.init: error creating pop-up",e)}},x=function(){a||R()},_=function(){x(),d=!0},E=function(){return Q},w=function(){if(m&&!isUndefined(Q)&&!h){if(Q.closed||f&&isUndefined(Q.closed))return u.unload(),logLog.debug("PopUpAppender: pop-up closed"),!1;!f&&isLoaded(Q)&&(f=!0)}return m&&f&&!h}}this.getConsoleWindow=E},ConsoleAppender.addGlobalCommandLineFunction=function(t,n){e.push([t,n])},n.prototype=new ConsoleAppender,n.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,focusPopUp:!1,lazyInit:!0,useOldPopUp:!0,complainAboutPopUpBlocking:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"600",height:"400",reopenWhenClosed:!1,maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!0,useDocumentWrite:!0},n.prototype.toString=function(){return"PopUpAppender"},log4javascript.PopUpAppender=n,r.prototype=new ConsoleAppender,r.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,lazyInit:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"100%",height:"220px",maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!1,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},r.prototype.toString=function(){return"InPageAppender"},log4javascript.InPageAppender=r,log4javascript.InlineAppender=r}(),function(){function e(e){var t=0;for(var n in e)t=Math.max(toStr(n).length,t);var r=[];for(n in e){var o,a="  "+padWithSpaces(toStr(n),t+2);try{o=splitIntoLines(toStr(e[n])).join(padWithSpaces(newLine,t+6))}catch(e){o="[Error obtaining property. Details: "+getExceptionMessage(e)+"]"}r.push(a+o)}return r.join(newLine)}var t=1,n=3,r=4,o=9,a=11,i=["script","pre"],s=["br","img","hr","param","link","area","input","col","base","meta"];function l(e,c,u,d,p){var f,h,g,m,v;function y(e){for(var t=e.style.cssText.split(";"),n="",r=0,o=t.length;r<o;r++){var a=t[r].split(":"),i=[];/^\s*$/.test(a[0])||i.push(trim(a[0]).toLowerCase()+":"+trim(a[1])),n=i.join(";")}return n}if("string"!=typeof u&&(u=""),d=!!d,p=!!p,!(c=void 0===c||!!c)||e.nodeType==a){for(f="",h=0,g=e.childNodes.length;h<g;h++)f+=l(e.childNodes[h],!0,u+"  ");return f}switch(e.nodeType){case t:var b=e.tagName.toLowerCase();f=d?newLine+u:"",f+="<";var _=(v=e).prefix?v.prefix:v.outerHTML&&new RegExp("<([^:]+):"+v.tagName+"[^>]*>","i").test(v.outerHTML)?RegExp.$1.toLowerCase():"",x=!!_;for(x&&(f+=_+":"),f+=b,h=0,g=e.attributes.length;h<g;h++){var w=e.attributes[h];w.specified&&null!==w.nodeValue&&"style"!==w.nodeName.toLowerCase()&&"string"==typeof w.nodeValue&&0!==w.nodeName.indexOf("_moz")&&(f+=" "+w.nodeName.toLowerCase()+'="',f+=w.nodeValue.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;"),f+='"')}if(e.style.cssText&&""!==y(e)&&(f+=' style="'+y(e)+'"'),array_contains(s,b)||x&&!e.hasChildNodes())f+="/>";else{f+=">";var E=!(1===e.childNodes.length&&e.childNodes[0].nodeType===n),R=array_contains(i,b);for(h=0,g=e.childNodes.length;h<g;h++)f+=l(e.childNodes[h],!0,u+"  ",E,R);var C="</"+b+">";f+=E?newLine+u+C:C}return f;case n:if((m=e).nodeType==n&&/^[ \t\r\n]*$/.test(m.nodeValue))f="";else{if(p)f=e.nodeValue;else{var S=splitIntoLines(trim(e.nodeValue)),T=[];for(h=0,g=S.length;h<g;h++)T[h]=trim(S[h]);f=T.join(newLine+u)}d&&(f=newLine+u+f)}return f;case r:return"<![CDATA["+e.nodeValue+"]]>"+newLine;case o:for(f="",h=0,g=e.childNodes.length;h<g;h++)f+=l(e.childNodes[h],!0,u);return f;default:return""}}ConsoleAppender.addGlobalCommandLineFunction("$",(function(e,t,n){return document.getElementById(t[0])})),ConsoleAppender.addGlobalCommandLineFunction("dir",(function(t,n,r){for(var o=[],a=0,i=n.length;a<i;a++)o[a]=e(n[a]);return o.join(newLine+newLine)})),ConsoleAppender.addGlobalCommandLineFunction("dirxml",(function(e,t,n){for(var r=[],o=0,a=t.length;o<a;o++)r[o]=l(t[o]);return r.join(newLine+newLine)})),ConsoleAppender.addGlobalCommandLineFunction("cd",(function(e,t,n){var r,o;return 0===t.length||""===t[0]?(r=window,o="Command line set to run in main window"):t[0].window==t[0]?(r=t[0],o="Command line set to run in frame '"+t[0].name+"'"):(r=window.frames[t[0]])?o="Command line set to run in frame '"+t[0]+"'":(n.isError=!0,o="Frame '"+t[0]+"' does not exist",r=e.getCommandWindow()),e.setCommandWindow(r),o})),ConsoleAppender.addGlobalCommandLineFunction("clear",(function(e,t,n){n.appendResult=!1,e.clear()})),ConsoleAppender.addGlobalCommandLineFunction("keys",(function(e,t,n){var r=[];for(var o in t[0])r.push(o);return r})),ConsoleAppender.addGlobalCommandLineFunction("values",(function(e,t,n){var r=[];for(var o in t[0])try{r.push(t[0][o])}catch(e){logLog.warn("values(): Unable to obtain value for key "+o+". Details: "+getExceptionMessage(e))}return r})),ConsoleAppender.addGlobalCommandLineFunction("expansionDepth",(function(e,t,n){var r=parseInt(t[0],10);return isNaN(r)||r<0?(n.isError=!0,t[0]+" is not a valid expansion depth"):(e.setCommandLineObjectExpansionDepth(r),"Object expansion depth set to "+r)}))}(),log4javascript.setDocumentReady=function(){pageLoaded=!0,log4javascript.dispatchEvent("load",{})},window.addEventListener)window.addEventListener("load",log4javascript.setDocumentReady,!1);else if(window.attachEvent)window.attachEvent("onload",log4javascript.setDocumentReady);else{var oldOnload=window.onload;"function"!=typeof window.onload?window.onload=log4javascript.setDocumentReady:window.onload=function(e){oldOnload&&oldOnload(e),log4javascript.setDocumentReady()}}return log4javascript},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},3261:(e,t,n)=>{var r=n(1254),o=TypeError;e.exports=function(e){if(r(e))throw new o("Can't call method on "+e);return e}},3318:(e,t,n)=>{e.exports=n(5802)},3731:(e,t,n)=>{var r=n(4128);e.exports=r},3780:(e,t,n)=>{var r=n(7589).navigator,o=r&&r.userAgent;e.exports=o?String(o):""},3931:(e,t,n)=>{var r=n(4706);e.exports=r},4128:(e,t,n)=>{var r=n(9333);e.exports=r},4162:(e,t,n)=>{var r=n(7589),o=n(9970),a=n(7722),i=n(6345),s=n(3096),l=n(8761),c=r.Symbol,u=o("wks"),d=l?c.for||c:c&&c.withoutSetter||i;e.exports=function(e){return a(u,e)||(u[e]=s&&a(c,e)?c[e]:d("Symbol."+e)),u[e]}},4302:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const o=!(0,r.isNum)(e.lastX),i=a(e);return o?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:i}=e.props;i="string"==typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);const s=a(e);if("string"==typeof i){const{ownerDocument:e}=s,t=e.defaultView;let n;if(n="parent"===i?s.parentNode:e.querySelector(i),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const a=n,l=t.getComputedStyle(s),c=t.getComputedStyle(a);i={left:-s.offsetLeft+(0,r.int)(c.paddingLeft)+(0,r.int)(l.marginLeft),top:-s.offsetTop+(0,r.int)(c.paddingTop)+(0,r.int)(l.marginTop),right:(0,o.innerWidth)(a)-(0,o.outerWidth)(s)-s.offsetLeft+(0,r.int)(c.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,o.innerHeight)(a)-(0,o.outerHeight)(s)-s.offsetTop+(0,r.int)(c.paddingBottom)-(0,r.int)(l.marginBottom)}}(0,r.isNum)(i.right)&&(t=Math.min(t,i.right));(0,r.isNum)(i.bottom)&&(n=Math.min(n,i.bottom));(0,r.isNum)(i.left)&&(t=Math.max(t,i.left));(0,r.isNum)(i.top)&&(n=Math.max(n,i.top));return[t,n]},t.getControlPosition=function(e,t,n){const r="number"==typeof t?(0,o.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;const i=a(n),s=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,o.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]};var r=n(432),o=n(353);function a(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},4357:(e,t,n)=>{var r=n(2907),o=n(7618).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},4378:(e,t,n)=>{var r=n(8140);e.exports=r("document","documentElement")},4411:(e,t,n)=>{var r=n(9621),o=n(8074);e.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4414:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4566:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},4679:(e,t,n)=>{var r=n(9621),o=n(7722),a=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,s=o(a,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&i(a,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},4706:(e,t,n)=>{var r=n(8717);e.exports=r},4743:(e,t,n)=>{var r=n(8080),o=n(9620),a=n(8583),i=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&o(n=e.toString)&&!a(s=r(n,e)))return s;if(o(n=e.valueOf)&&!a(s=r(n,e)))return s;if("string"!==t&&o(n=e.toString)&&!a(s=r(n,e)))return s;throw new i("Can't convert object to primitive value")}},4778:(e,t,n)=>{var r=n(8080),o=n(8583),a=n(9064),i=n(8041),s=n(4743),l=n(4162),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var n,l=i(e,u);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!o(n)||a(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},5206:e=>{e.exports=ReactDOM},5324:e=>{e.exports={}},5536:(e,t,n)=>{var r=n(4566);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},5691:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1594)),o=p(n(3014)),a=p(n(5206)),i=p(n(481)),s=n(353),l=n(4302),c=n(432),u=p(n(9016)),d=p(n(6232));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),g(this,"onDragStart",((e,t)=>{(0,d.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),g(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[o,a]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=o,r.y=a,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)})),g(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:a.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:o,defaultClassName:a,defaultClassNameDragging:c,defaultClassNameDragged:d,position:p,positionOffset:f,scale:g,...m}=this.props;let v={},y=null;const b=!Boolean(p)||this.state.dragging,_=p||o,x={x:(0,l.canDragX)(this)&&b?this.state.x:_.x,y:(0,l.canDragY)(this)&&b?this.state.y:_.y};this.state.isElementSVG?y=(0,s.createSVGTransform)(x,f):v=(0,s.createCSSTransform)(x,f);const w=(0,i.default)(n.props.className||"",a,{[c]:this.state.dragging,[d]:this.state.dragged});return r.createElement(u.default,h({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:w,style:{...n.props.style,...v},transform:y}))}}t.default=m,g(m,"displayName","Draggable"),g(m,"propTypes",{...u.default.propTypes,axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),g(m,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},5722:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const r=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!r)return"";if(t in r)return"";for(let e=0;e<n.length;e++)if(o(t,n[e])in r)return n[e];return""}function o(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=r()},5792:(e,t,n)=>{var r=n(983);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},5802:(e,t)=>{var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case i:case p:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case g:case h:case l:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.isMemo=function(e){return v(e)===h}},6195:(e,t,n)=>{var r=n(5536),o=Math.min;e.exports=function(e){var t=r(e);return t>0?o(t,9007199254740991):0}},6232:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},6340:(e,t)=>{t.f=Object.getOwnPropertySymbols},6345:(e,t,n)=>{var r=n(8409),o=0,a=Math.random(),i=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+a,36)}},6672:(e,t,n)=>{var r=n(9970),o=n(6345),a=r("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},6699:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6737:(e,t,n)=>{var r=n(8074),o=n(9620),a=/#|\.prototype\./,i=function(e,t){var n=l[s(e)];return n===u||n!==c&&(o(t)?r(t):!!t)},s=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},6742:(e,t,n)=>{var r=n(7589),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},6974:e=>{e.exports=!1},7287:(e,t,n)=>{var r=n(8074);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7302:(e,t,n)=>{var r,o,a,i=n(1),s=n(7589),l=n(8583),c=n(8336),u=n(7722),d=n(2622),p=n(6672),f=n(5324),h="Object already initialized",g=s.TypeError,m=s.WeakMap;if(i||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw new g(h);return t.facade=e,v.set(e,t),t},o=function(e){return v.get(e)||{}},a=function(e){return v.has(e)}}else{var y=p("state");f[y]=!0,r=function(e,t){if(u(e,y))throw new g(h);return t.facade=e,c(e,y,t),t},o=function(e){return u(e,y)?e[y]:{}},a=function(e){return u(e,y)}}e.exports={set:r,get:o,has:a,enforce:function(e){return a(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=o(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return n}}}},7320:(e,t,n)=>{var r=n(8140),o=n(8409),a=n(4357),i=n(6340),s=n(1218),l=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=i.f;return n?l(t,n(e)):t}},7589:function(e,t,n){var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},7618:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7684:(e,t,n)=>{var r=n(9128),o=n(3261);e.exports=function(e){return r(o(e))}},7722:(e,t,n)=>{var r=n(8409),o=n(9748),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},7781:(e,t,n)=>{n(3931)},7856:(e,t,n)=>{var r=n(4778),o=n(9064);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},7945:(e,t,n)=>{var r=n(9620),o=n(4414),a=TypeError;e.exports=function(e){if(r(e))return e;throw new a(o(e)+" is not a function")}},8041:(e,t,n)=>{var r=n(7945),o=n(1254);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},8074:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},8080:(e,t,n)=>{var r=n(7287),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},8140:(e,t,n)=>{var r=n(7589),o=n(9620);e.exports=function(e,t){return arguments.length<2?(n=r[e],o(n)?n:void 0):r[e]&&r[e][t];var n}},8265:(e,t,n)=>{var r=n(8409),o=r({}.toString),a=r("".slice);e.exports=function(e){return a(o(e),8,-1)}},8336:(e,t,n)=>{var r=n(9621),o=n(762),a=n(6699);e.exports=r?function(e,t,n){return o.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},8409:(e,t,n)=>{var r=n(7287),o=Function.prototype,a=o.call,i=r&&o.bind.bind(a,a);e.exports=r?i:function(e){return function(){return a.apply(e,arguments)}}},8583:(e,t,n)=>{var r=n(9620);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},8717:(e,t,n)=>{var r=n(1096);e.exports=r},8746:(e,t,n)=>{var r=n(8409);e.exports=r({}.isPrototypeOf)},8761:(e,t,n)=>{var r=n(3096);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8861:(e,t,n)=>{var r=n(8409),o=n(9620),a=n(2622),i=r(Function.toString);o(a.inspectSource)||(a.inspectSource=function(e){return i(e)}),e.exports=a.inspectSource},9002:(e,t,n)=>{var r=n(8409),o=n(8074),a=n(9620),i=n(7722),s=n(9621),l=n(4679).CONFIGURABLE,c=n(8861),u=n(7302),d=u.enforce,p=u.get,f=String,h=Object.defineProperty,g=r("".slice),m=r("".replace),v=r([].join),y=s&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),b=String(String).split("String"),_=e.exports=function(e,t,n){"Symbol("===g(f(t),0,7)&&(t="["+m(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||l&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&i(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return i(r,"source")||(r.source=v(b,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return a(this)&&p(this).source||c(this)}),"toString")},9016:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(1594)),o=u(n(3014)),a=u(n(5206)),i=n(353),s=n(4302),l=n(432),c=u(n(6232));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={start:"touchstart",move:"touchmove",stop:"touchend"},h={start:"mousedown",move:"mousemove",stop:"mouseup"};let g=h;class m extends r.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const r=(0,i.getTouchIdentifier)(e);this.touchIdentifier=r;const o=(0,s.getControlPosition)(e,r,this);if(null==o)return;const{x:a,y:l}=o,u=(0,s.createCoreData)(this,a,l);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",this.props.onStart);!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(n),this.dragging=!0,this.lastX=a,this.lastY=l,(0,i.addEvent)(n,g.move,this.handleDrag),(0,i.addEvent)(n,g.stop,this.handleDragStop))})),p(this,"handleDrag",(e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const o=(0,s.createCoreData)(this,n,r);(0,c.default)("DraggableCore: handleDrag: %j",o);if(!1!==this.props.onDrag(e,o)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}})),p(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const o=(0,s.createCoreData)(this,n,r);if(!1===this.props.onStop(e,o)||!1===this.mounted)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(a.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,c.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(a.ownerDocument,g.move,this.handleDrag),(0,i.removeEvent)(a.ownerDocument,g.stop,this.handleDragStop))})),p(this,"onMouseDown",(e=>(g=h,this.handleDragStart(e)))),p(this,"onMouseUp",(e=>(g=h,this.handleDragStop(e)))),p(this,"onTouchStart",(e=>(g=f,this.handleDragStart(e)))),p(this,"onTouchEnd",(e=>(g=f,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,i.addEvent)(e,f.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,i.removeEvent)(t,h.move,this.handleDrag),(0,i.removeEvent)(t,f.move,this.handleDrag),(0,i.removeEvent)(t,h.stop,this.handleDragStop),(0,i.removeEvent)(t,f.stop,this.handleDragStop),(0,i.removeEvent)(e,f.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:a.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=m,p(m,"displayName","DraggableCore"),p(m,"propTypes",{allowAnyClick:o.default.bool,children:o.default.node.isRequired,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),p(m,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},9064:(e,t,n)=>{var r=n(8140),o=n(9620),a=n(8746),i=n(8761),s=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&a(t.prototype,s(e))}},9070:(e,t,n)=>{var r=n(7589),o=n(8583),a=r.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},9128:(e,t,n)=>{var r=n(8409),o=n(8074),a=n(8265),i=Object,s=r("".split);e.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?s(e,""):i(e)}:i},9233:(e,t,n)=>{var r,o=n(1218),a=n(2198),i=n(7618),s=n(5324),l=n(4378),c=n(9070),u=n(6672),d="prototype",p="script",f=u("IE_PROTO"),h=function(){},g=function(e){return"<"+p+">"+e+"</"+p+">"},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;v="undefined"!=typeof document?document.domain&&r?m(r):(t=c("iframe"),n="java"+p+":",t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):m(r);for(var o=i.length;o--;)delete v[d][i[o]];return v()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h[d]=o(e),n=new h,h[d]=null,n[f]=e):n=v(),void 0===t?n:a.f(n,t)}},9269:(e,t,n)=>{var r=n(7589),o=n(352).f,a=n(8336),i=n(2717),s=n(6742),l=n(9449),c=n(6737);e.exports=function(e,t){var n,u,d,p,f,h=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[h]||s(h,{}):r[h]&&r[h].prototype)for(u in t){if(p=t[u],d=e.dontCallGetSet?(f=o(n,u))&&f.value:n[u],!c(g?u:h+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),i(n,u,p,e)}}},9333:(e,t,n)=>{var r=n(510);e.exports=r},9449:(e,t,n)=>{var r=n(7722),o=n(7320),a=n(352),i=n(762);e.exports=function(e,t,n){for(var s=o(t),l=i.f,c=a.f,u=0;u<s.length;u++){var d=s[u];r(e,d)||n&&r(n,d)||l(e,d,c(t,d))}}},9620:e=>{var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},9621:(e,t,n)=>{var r=n(8074);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},9748:(e,t,n)=>{var r=n(3261),o=Object;e.exports=function(e){return o(r(e))}},9884:(e,t,n)=>{var r=n(7589),o=n(8409);e.exports=function(e,t){return o(r[e].prototype[t])}},9970:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){return r[e]||(r[e]=t||{})}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};const external_ReactJsxRuntime_namespaceObject=ReactJsxRuntime;var external_React_=__webpack_require__(1594),external_React_default=__webpack_require__.n(external_React_);const app_context=(0,external_React_.createContext)({}),external_classNames_namespaceObject=classNames;var external_classNames_default=__webpack_require__.n(external_classNames_namespaceObject),vendorPrefix;function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function slicedToArray_slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function typeof_typeof(e){return typeof_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},typeof_typeof(e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dist_web_typeof(e){return dist_web_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dist_web_typeof(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jsCssMap={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function getVendorPrefix(){if(void 0!==vendorPrefix)return vendorPrefix;vendorPrefix="";var e=document.createElement("p").style;for(var t in jsCssMap)t+"Transform"in e&&(vendorPrefix=t);return vendorPrefix}function getTransitionName(){return getVendorPrefix()?"".concat(getVendorPrefix(),"TransitionProperty"):"transitionProperty"}function getTransformName(){return getVendorPrefix()?"".concat(getVendorPrefix(),"Transform"):"transform"}function setTransitionProperty(e,t){var n=getTransitionName();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function setTransform(e,t){var n=getTransformName();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}function getTransitionProperty(e){return e.style.transitionProperty||e.style[getTransitionName()]}function getTransformXY(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(getTransformName());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var matrix2d=/matrix\((.*)\)/,matrix3d=/matrix3d\((.*)\)/;function setTransformXY(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(getTransformName());if(r&&"none"!==r){var o,a=r.match(matrix2d);if(a)(o=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,o[5]=t.y,setTransform(e,"matrix(".concat(o.join(","),")"));else(o=r.match(matrix3d)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,o[13]=t.y,setTransform(e,"matrix3d(".concat(o.join(","),")"))}else setTransform(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var RE_NUM=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,getComputedStyleX;function forceRelayout(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function css(e,t,n){var r=n;if("object"!==dist_web_typeof(t))return void 0!==r?("number"==typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):getComputedStyleX(e,t);for(var o in t)t.hasOwnProperty(o)&&css(e,o,t[o])}function getClientPosition(e){var t,n,r,o=e.ownerDocument,a=o.body,i=o&&o.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=i.clientLeft||a.clientLeft||0,top:r-=i.clientTop||a.clientTop||0}}function getScroll(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}function getScrollLeft(e){return getScroll(e)}function getScrollTop(e){return getScroll(e,!0)}function getOffset(e){var t=getClientPosition(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=getScrollLeft(r),t.top+=getScrollTop(r),t}function isWindow(e){return null!=e&&e==e.window}function getDocument(e){return isWindow(e)?e.document:9===e.nodeType?e:e.ownerDocument}function _getComputedStyle(e,t,n){var r=n,o="",a=getDocument(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(o=r.getPropertyValue(t)||r[t]),o}var _RE_NUM_NO_PX=new RegExp("^(".concat(RE_NUM,")(?!px)[a-z%]+$"),"i"),RE_POS=/^(top|right|bottom|left)$/,CURRENT_STYLE="currentStyle",RUNTIME_STYLE="runtimeStyle",LEFT="left",PX="px";function _getComputedStyleIE(e,t){var n=e[CURRENT_STYLE]&&e[CURRENT_STYLE][t];if(_RE_NUM_NO_PX.test(n)&&!RE_POS.test(t)){var r=e.style,o=r[LEFT],a=e[RUNTIME_STYLE][LEFT];e[RUNTIME_STYLE][LEFT]=e[CURRENT_STYLE][LEFT],r[LEFT]="fontSize"===t?"1em":n||0,n=r.pixelLeft+PX,r[LEFT]=o,e[RUNTIME_STYLE][LEFT]=a}return""===n?"auto":n}function getOffsetDirection(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function oppositeOffsetDirection(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function setLeftTop(e,t,n){"static"===css(e,"position")&&(e.style.position="relative");var r=-999,o=-999,a=getOffsetDirection("left",n),i=getOffsetDirection("top",n),s=oppositeOffsetDirection(a),l=oppositeOffsetDirection(i);"left"!==a&&(r=999),"top"!==i&&(o=999);var c="",u=getOffset(e);("left"in t||"top"in t)&&(c=getTransitionProperty(e)||"",setTransitionProperty(e,"none")),"left"in t&&(e.style[s]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[l]="",e.style[i]="".concat(o,"px")),forceRelayout(e);var d=getOffset(e),p={};for(var f in t)if(t.hasOwnProperty(f)){var h=getOffsetDirection(f,n),g="left"===f?r:o,m=u[f]-d[f];p[h]=h===f?g+m:g-m}css(e,p),forceRelayout(e),("left"in t||"top"in t)&&setTransitionProperty(e,c);var v={};for(var y in t)if(t.hasOwnProperty(y)){var b=getOffsetDirection(y,n),_=t[y]-u[y];v[b]=y===b?p[b]+_:p[b]-_}css(e,v)}function setTransform$1(e,t){var n=getOffset(e),r=getTransformXY(e),o={x:r.x,y:r.y};"left"in t&&(o.x=r.x+t.left-n.left),"top"in t&&(o.y=r.y+t.top-n.top),setTransformXY(e,o)}function setOffset(e,t,n){if(n.ignoreShake){var r=getOffset(e),o=r.left.toFixed(0),a=r.top.toFixed(0),i=t.left.toFixed(0),s=t.top.toFixed(0);if(o===i&&a===s)return}n.useCssRight||n.useCssBottom?setLeftTop(e,t,n):n.useCssTransform&&getTransformName()in document.body.style?setTransform$1(e,t):setLeftTop(e,t,n)}function dist_web_each(e,t){for(var n=0;n<e.length;n++)t(e[n])}function isBorderBoxFn(e){return"border-box"===getComputedStyleX(e,"boxSizing")}"undefined"!=typeof window&&(getComputedStyleX=window.getComputedStyle?_getComputedStyle:_getComputedStyleIE);var BOX_MODELS=["margin","border","padding"],CONTENT_INDEX=-1,PADDING_INDEX=2,BORDER_INDEX=1,MARGIN_INDEX=0;function swap(e,t,n){var r,o={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(o[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=o[r])}function getPBMWidth(e,t,n){var r,o,a,i=0;for(o=0;o<t.length;o++)if(r=t[o])for(a=0;a<n.length;a++){var s=void 0;s="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],i+=parseFloat(getComputedStyleX(e,s))||0}return i}var domUtils={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function getWH(e,t,n){var r=n;if(isWindow(e))return"width"===t?domUtils.viewportWidth(e):domUtils.viewportHeight(e);if(9===e.nodeType)return"width"===t?domUtils.docWidth(e):domUtils.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),i=isBorderBoxFn(e),s=0;(null==a||a<=0)&&(a=void 0,(null==(s=getComputedStyleX(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=Math.floor(parseFloat(s))||0),void 0===r&&(r=i?BORDER_INDEX:CONTENT_INDEX);var l=void 0!==a||i,c=a||s;return r===CONTENT_INDEX?l?c-getPBMWidth(e,["border","padding"],o):s:l?r===BORDER_INDEX?c:c+(r===PADDING_INDEX?-getPBMWidth(e,["border"],o):getPBMWidth(e,["margin"],o)):s+getPBMWidth(e,BOX_MODELS.slice(r),o)}dist_web_each(["Width","Height"],(function(e){domUtils["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],domUtils["viewport".concat(e)](n))},domUtils["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,o=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||o&&o[n]||a}}));var cssShow={position:"absolute",visibility:"hidden",display:"block"};function getWHIgnoreDisplay(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0];return 0!==o.offsetWidth?r=getWH.apply(void 0,t):swap(o,cssShow,(function(){r=getWH.apply(void 0,t)})),r}function mix(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}dist_web_each(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);domUtils["outer".concat(t)]=function(t,n){return t&&getWHIgnoreDisplay(t,e,n?MARGIN_INDEX:BORDER_INDEX)};var n="width"===e?["Left","Right"]:["Top","Bottom"];domUtils[e]=function(t,r){var o=r;return void 0!==o?t?(isBorderBoxFn(t)&&(o+=getPBMWidth(t,["padding","border"],n)),css(t,e,o)):void 0:t&&getWHIgnoreDisplay(t,e,CONTENT_INDEX)}}));var utils={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument,offset:function(e,t,n){if(void 0===t)return getOffset(e);setOffset(e,t,n||{})},isWindow,each:dist_web_each,css,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix,getWindowScrollLeft:function(e){return getScrollLeft(e)},getWindowScrollTop:function(e){return getScrollTop(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)utils.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};mix(utils,domUtils);var getParent=utils.getParent;function getOffsetParent(e){if(utils.isWindow(e)||9===e.nodeType)return null;var t,n=utils.getDocument(e).body,r=utils.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:getParent(e);for(t=getParent(e);t&&t!==n&&9!==t.nodeType;t=getParent(t))if("static"!==(r=utils.css(t,"position")))return t;return null}var getParent$1=utils.getParent;function isAncestorFixed(e){if(utils.isWindow(e)||9===e.nodeType)return!1;var t=utils.getDocument(e),n=t.body,r=null;for(r=getParent$1(e);r&&r!==n&&r!==t;r=getParent$1(r)){if("fixed"===utils.css(r,"position"))return!0}return!1}function getVisibleRectForElement(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=getOffsetParent(e),o=utils.getDocument(e),a=o.defaultView||o.parentWindow,i=o.body,s=o.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===i||r===s||"visible"===utils.css(r,"overflow")){if(r===i||r===s)break}else{var l=utils.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}r=getOffsetParent(r)}var c=null;utils.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===utils.css(e,"position")&&(e.style.position="fixed"));var u=utils.getWindowScrollLeft(a),d=utils.getWindowScrollTop(a),p=utils.viewportWidth(a),f=utils.viewportHeight(a),h=s.scrollWidth,g=s.scrollHeight,m=window.getComputedStyle(i);if("hidden"===m.overflowX&&(h=a.innerWidth),"hidden"===m.overflowY&&(g=a.innerHeight),e.style&&(e.style.position=c),t||isAncestorFixed(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,d),n.right=Math.min(n.right,u+p),n.bottom=Math.min(n.bottom,d+f);else{var v=Math.max(h,u+p);n.right=Math.min(n.right,v);var y=Math.max(g,d+f);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function adjustForViewport(e,t,n,r){var o=utils.clone(e),a={width:t.width,height:t.height};return r.adjustX&&o.left<n.left&&(o.left=n.left),r.resizeWidth&&o.left>=n.left&&o.left+a.width>n.right&&(a.width-=o.left+a.width-n.right),r.adjustX&&o.left+a.width>n.right&&(o.left=Math.max(n.right-a.width,n.left)),r.adjustY&&o.top<n.top&&(o.top=n.top),r.resizeHeight&&o.top>=n.top&&o.top+a.height>n.bottom&&(a.height-=o.top+a.height-n.bottom),r.adjustY&&o.top+a.height>n.bottom&&(o.top=Math.max(n.bottom-a.height,n.top)),utils.mix(o,a)}function getRegion(e){var t,n,r;if(utils.isWindow(e)||9===e.nodeType){var o=utils.getWindow(e);t={left:utils.getWindowScrollLeft(o),top:utils.getWindowScrollTop(o)},n=utils.viewportWidth(o),r=utils.viewportHeight(o)}else t=utils.offset(e),n=utils.outerWidth(e),r=utils.outerHeight(e);return t.width=n,t.height=r,t}function getAlignOffset(e,t){var n=t.charAt(0),r=t.charAt(1),o=e.width,a=e.height,i=e.left,s=e.top;return"c"===n?s+=a/2:"b"===n&&(s+=a),"c"===r?i+=o/2:"r"===r&&(i+=o),{left:i,top:s}}function getElFuturePos(e,t,n,r,o){var a=getAlignOffset(t,n[1]),i=getAlignOffset(e,n[0]),s=[i.left-a.left,i.top-a.top];return{left:Math.round(e.left-s[0]+r[0]-o[0]),top:Math.round(e.top-s[1]+r[1]-o[1])}}function isFailX(e,t,n){return e.left<n.left||e.left+t.width>n.right}function isFailY(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function isCompleteFailX(e,t,n){return e.left>n.right||e.left+t.width<n.left}function isCompleteFailY(e,t,n){return e.top>n.bottom||e.top+t.height<n.top}function flip(e,t,n){var r=[];return utils.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function flipOffset(e,t){return e[t]=-e[t],e}function convertOffset(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function normalizeOffset(e,t){e[0]=convertOffset(e[0],t.width),e[1]=convertOffset(e[1],t.height)}function doAlign(e,t,n,r){var o=n.points,a=n.offset||[0,0],i=n.targetOffset||[0,0],s=n.overflow,l=n.source||e;a=[].concat(a),i=[].concat(i);var c={},u=0,d=getVisibleRectForElement(l,!(!(s=s||{})||!s.alwaysByViewport)),p=getRegion(l);normalizeOffset(a,p),normalizeOffset(i,t);var f=getElFuturePos(p,t,o,a,i),h=utils.merge(p,f);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&isFailX(f,p,d)){var g=flip(o,/[lr]/gi,{l:"r",r:"l"}),m=flipOffset(a,0),v=flipOffset(i,0);isCompleteFailX(getElFuturePos(p,t,g,m,v),p,d)||(u=1,o=g,a=m,i=v)}if(s.adjustY&&isFailY(f,p,d)){var y=flip(o,/[tb]/gi,{t:"b",b:"t"}),b=flipOffset(a,1),_=flipOffset(i,1);isCompleteFailY(getElFuturePos(p,t,y,b,_),p,d)||(u=1,o=y,a=b,i=_)}u&&(f=getElFuturePos(p,t,o,a,i),utils.mix(h,f));var x=isFailX(f,p,d),w=isFailY(f,p,d);if(x||w){var E=o;x&&(E=flip(o,/[lr]/gi,{l:"r",r:"l"})),w&&(E=flip(o,/[tb]/gi,{t:"b",b:"t"})),o=E,a=n.offset||[0,0],i=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&x,c.adjustY=s.adjustY&&w,(c.adjustX||c.adjustY)&&(h=adjustForViewport(f,p,d,c))}return h.width!==p.width&&utils.css(l,"width",utils.width(l)+h.width-p.width),h.height!==p.height&&utils.css(l,"height",utils.height(l)+h.height-p.height),utils.offset(l,{left:h.left,top:h.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:o,offset:a,targetOffset:i,overflow:c}}function isOutOfVisibleRect(e,t){var n=getVisibleRectForElement(e,t),r=getRegion(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function alignElement(e,t,n){var r=n.target||t;return doAlign(e,getRegion(r),n,!isOutOfVisibleRect(r,n.overflow&&n.overflow.alwaysByViewport))}function alignPoint(e,t,n){var r,o,a=utils.getDocument(e),i=a.defaultView||a.parentWindow,s=utils.getWindowScrollLeft(i),l=utils.getWindowScrollTop(i),c=utils.viewportWidth(i),u=utils.viewportHeight(i),d={left:r="pageX"in t?t.pageX:s+t.clientX,top:o="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},p=r>=0&&r<=s+c&&o>=0&&o<=l+u,f=[n.points[0],"cc"];return doAlign(e,d,_objectSpread2(_objectSpread2({},n),{},{points:f}),p)}alignElement.__getOffsetParent=getOffsetParent,alignElement.__getVisibleRectForElement=getVisibleRectForElement;const dist_web=null;var warned={},preWarningFns=[],preMessage=function(e){preWarningFns.push(e)};function warning(e,t){}function note(e,t){}function resetWarned(){warned={}}function call(e,t,n){t||warned[n]||(e(!1,n),warned[n]=!0)}function warningOnce(e,t){call(warning,e,t)}function noteOnce(e,t){call(note,e,t)}warningOnce.preMessage=preMessage,warningOnce.resetWarned=resetWarned,warningOnce.noteOnce=noteOnce;const es_warning=warningOnce;function isEqual(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=r.has(t);if(es_warning(!i,"Warning: There may be circular references"),i)return!1;if(t===o)return!0;if(n&&a>1)return!1;r.add(t);var s=a+1;if(Array.isArray(t)){if(!Array.isArray(o)||t.length!==o.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],o[l],s))return!1;return!0}if(t&&o&&"object"===typeof_typeof(t)&&"object"===typeof_typeof(o)){var c=Object.keys(t);return c.length===Object.keys(o).length&&c.every((function(n){return e(t[n],o[n],s)}))}return!1}(e,t)}const es_isEqual=isEqual;var external_ReactDOM_=__webpack_require__(5206),external_ReactDOM_default=__webpack_require__.n(external_ReactDOM_);function addEventListenerWrap(e,t,n,r){var o=external_ReactDOM_default().unstable_batchedUpdates?function(e){external_ReactDOM_default().unstable_batchedUpdates(n,e)}:n;return null!=e&&e.addEventListener&&e.addEventListener(t,o,r),{remove:function(){null!=e&&e.removeEventListener&&e.removeEventListener(t,o,r)}}}const isVisible=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),a=o.width,i=o.height;if(a||i)return!0}}return!1};function canUseDom(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var useInternalLayoutEffect=canUseDom()?external_React_.useLayoutEffect:external_React_.useEffect,useLayoutEffect=function(e,t){var n=external_React_.useRef(!0);useInternalLayoutEffect((function(){return e(n.current)}),t),useInternalLayoutEffect((function(){return n.current=!1,function(){n.current=!0}}),[])},useLayoutEffect_useLayoutUpdateEffect=function(e,t){useLayoutEffect((function(t){if(!t)return e()}),t)};const hooks_useLayoutEffect=useLayoutEffect;var react_is=__webpack_require__(3318);function useMemo(e,t,n){var r=external_React_.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}var REACT_ELEMENT_TYPE_18=Symbol.for("react.element"),REACT_ELEMENT_TYPE_19=Symbol.for("react.transitional.element"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment");function isFragment(e){return e&&"object"===typeof_typeof(e)&&(e.$$typeof===REACT_ELEMENT_TYPE_18||e.$$typeof===REACT_ELEMENT_TYPE_19)&&e.type===REACT_FRAGMENT_TYPE}var ReactMajorVersion=Number(external_React_.version.split(".")[0]),fillRef=function(e,t){"function"==typeof e?e(t):"object"===typeof_typeof(e)&&e&&"current"in e&&(e.current=t)},composeRef=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach((function(t){fillRef(t,e)}))}},useComposeRef=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return useMemo((function(){return composeRef.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))},supportRef=function(e){var t,n;if(!e)return!1;if(isReactElement(e)&&ReactMajorVersion>=19)return!0;var r=(0,react_is.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===react_is.ForwardRef)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===react_is.ForwardRef)};function isReactElement(e){return(0,external_React_.isValidElement)(e)&&!isFragment(e)}var supportNodeRef=function(e){return isReactElement(e)&&supportRef(e)},getNodeRef=function(e){if(e&&isReactElement(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};const useBuffer=function(e,t){var n=external_React_default().useRef(!1),r=external_React_default().useRef(null);function o(){window.clearTimeout(r.current)}return[function a(i){if(o(),n.current&&!0!==i)r.current=window.setTimeout((function(){n.current=!1,a()}),t);else{if(!1===e(i))return;n.current=!0,r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,o()}]};var MapShim=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,global$1=void 0!==__webpack_require__.g&&__webpack_require__.g.Math===Math?__webpack_require__.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),requestAnimationFrame$1="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(global$1):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},trailingTimeout=2;function throttle(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&s()}function i(){requestAnimationFrame$1(a)}function s(){var e=Date.now();if(n){if(e-o<trailingTimeout)return;r=!0}else n=!0,r=!1,setTimeout(i,t);o=e}return s}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported="undefined"!=typeof MutationObserver,ResizeObserverController=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){isBrowser&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){isBrowser&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;transitionKeys.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),defineConfigurable=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},getWindowOf=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(e){return parseFloat(e)||0}function getBordersSize(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+toFloat(e["border-"+n+"-width"])}),0)}function getPaddings(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],a=e["padding-"+o];t[o]=toFloat(a)}return t}function getSVGContentRect(e){var t=e.getBBox();return createRectInit(0,0,t.width,t.height)}function getHTMLElementContentRect(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return emptyRect;var r=getWindowOf(e).getComputedStyle(e),o=getPaddings(r),a=o.left+o.right,i=o.top+o.bottom,s=toFloat(r.width),l=toFloat(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=getBordersSize(r,"left","right")+a),Math.round(l+i)!==n&&(l-=getBordersSize(r,"top","bottom")+i)),!isDocumentElement(e)){var c=Math.round(s+a)-t,u=Math.round(l+i)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return createRectInit(o.left,o.top,s,l)}var isSVGGraphicsElement="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof getWindowOf(e).SVGGraphicsElement}:function(e){return e instanceof getWindowOf(e).SVGElement&&"function"==typeof e.getBBox};function isDocumentElement(e){return e===getWindowOf(e).document.documentElement}function getContentRect(e){return isBrowser?isSVGGraphicsElement(e)?getSVGContentRect(e):getHTMLElementContentRect(e):emptyRect}function createReadOnlyRect(e){var t=e.x,n=e.y,r=e.width,o=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(a.prototype);return defineConfigurable(i,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),i}function createRectInit(e,t,n,r){return{x:e,y:t,width:n,height:r}}var ResizeObservation=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=getContentRect(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),ResizeObserverEntry=function(e,t){var n=createReadOnlyRect(t);defineConfigurable(this,{target:e,contentRect:n})},ResizeObserverSPI=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new MapShim,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof getWindowOf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ResizeObservation(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof getWindowOf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new ResizeObserverEntry(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),observers="undefined"!=typeof WeakMap?new WeakMap:new MapShim,ResizeObserver=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ResizeObserverController.getInstance(),r=new ResizeObserverSPI(t,n,this);observers.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){ResizeObserver.prototype[e]=function(){var t;return(t=observers.get(this))[e].apply(t,arguments)}}));var index=void 0!==global$1.ResizeObserver?global$1.ResizeObserver:ResizeObserver;const ResizeObserver_es=index;function contains(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}function isSamePoint(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&(e.clientX===t.clientX&&e.clientY===t.clientY))}function restoreFocus(e,t){e!==document.activeElement&&contains(t,e)&&"function"==typeof e.focus&&e.focus()}function monitorResize(e,t){var n=null,r=null;var o=new ResizeObserver_es((function(e){var o=slicedToArray_slicedToArray(e,1)[0].target;if(document.documentElement.contains(o)){var a=o.getBoundingClientRect(),i=a.width,s=a.height,l=Math.floor(i),c=Math.floor(s);n===l&&r===c||Promise.resolve().then((function(){t({width:l,height:c})})),n=l,r=c}}));return e&&o.observe(e),function(){o.disconnect()}}function getElement(e){return"function"!=typeof e?null:e()}function getPoint(e){return"object"===typeof_typeof(e)&&e?e:null}var Align=function(e,t){var n=e.children,r=e.disabled,o=e.target,a=e.align,i=e.onAlign,s=e.monitorWindowResize,l=e.monitorBufferTime,c=void 0===l?0:l,u=external_React_default().useRef({}),d=external_React_default().useRef(),p=external_React_default().Children.only(n),f=external_React_default().useRef({});f.current.disabled=r,f.current.target=o,f.current.align=a,f.current.onAlign=i;var h=slicedToArray_slicedToArray(useBuffer((function(){var e=f.current,t=e.disabled,n=e.target,r=e.align,o=e.onAlign,a=d.current;if(!t&&n&&a){var i,s=getElement(n),l=getPoint(n);u.current.element=s,u.current.point=l,u.current.align=r;var c=document.activeElement;return s&&isVisible(s)?i=alignElement(a,s,r):l&&(i=alignPoint(a,l,r)),restoreFocus(c,a),o&&i&&o(a,i),!0}return!1}),c),2),g=h[0],m=h[1],v=slicedToArray_slicedToArray(external_React_default().useState(),2),y=v[0],b=v[1],_=slicedToArray_slicedToArray(external_React_default().useState(),2),x=_[0],w=_[1];return hooks_useLayoutEffect((function(){b(getElement(o)),w(getPoint(o))})),external_React_default().useEffect((function(){u.current.element===y&&isSamePoint(u.current.point,x)&&es_isEqual(u.current.align,a)||g()})),external_React_default().useEffect((function(){return monitorResize(d.current,g)}),[d.current]),external_React_default().useEffect((function(){return monitorResize(y,g)}),[y]),external_React_default().useEffect((function(){r?m():g()}),[r]),external_React_default().useEffect((function(){if(s)return addEventListenerWrap(window,"resize",g).remove}),[s]),external_React_default().useEffect((function(){return function(){m()}}),[]),external_React_default().useImperativeHandle(t,(function(){return{forceAlign:function(){return g(!0)}}})),external_React_default().isValidElement(p)&&(p=external_React_default().cloneElement(p,{ref:composeRef(p.ref,d)})),p},RcAlign=external_React_default().forwardRef(Align);RcAlign.displayName="Align";const es_Align=RcAlign,es=es_Align;var __rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function CAlign(e){const{visible:t,children:n,className:r,onMouseEnter:o,onMouseLeave:a,points:i=["bc","cc"],targetOffset:s=[0,0]}=e,l=__rest(e,["visible","children","className","onMouseEnter","onMouseLeave","points","targetOffset"]);return(0,external_ReactJsxRuntime_namespaceObject.jsx)(es,Object.assign({monitorWindowResize:!0,align:{points:i,targetOffset:s,overflow:{adjustX:!0,adjustY:!0,alwaysByViewport:!0}}},l,{children:(0,external_ReactJsxRuntime_namespaceObject.jsx)("div",{onMouseEnter:o,onMouseLeave:a,className:external_classNames_default()("dom-align",r),style:{position:"absolute",display:t?"inline-block":"none"},children:n})}))}function Float(e){const{value:t,points:n,children:r,className:o,onMouseLeave:a,onMouseEnter:i,targetOffset:s=[0,24]}=e,[l,c]=(0,external_React_.useState)({visible:!1,point:{clientX:0,clientY:0,pageX:0,pageY:0}});return(0,external_React_.useEffect)((()=>{t&&c(t)}),[t]),(0,external_ReactJsxRuntime_namespaceObject.jsx)(CAlign,{points:n,target:l.point,className:o,visible:l.visible,targetOffset:s,onMouseEnter:i,onMouseLeave:a,children:r})}function useApp(){return(0,external_React_.useContext)(app_context)}function isType(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function isUndefined(e){return isType(e,"Undefined")}function isString(e){return isType(e,"String")}function isTextNode(e){return isType(e,"Text")}function isTag(e,t){return!(!e||!e.tagName)&&e.tagName.toLowerCase()===t}function isElement(e){return e&&e.nodeType&&1===e.nodeType}function isNumber(e){return isType(e,"Number")}function isFunction(e){return isType(e,"Function")}function isBoolean(e){return isType(e,"Boolean")}function isObject(e){return isType(e,"Object")}function isAsyncFunction(e){return isType(e,"AsyncFunction")}function isChinese(e){return/[\u4e00-\u9fa5]/.test(e)}function isHTML(e){if(!isString(e))return!1;const t=document.createElement("div");t.innerHTML=e;let n=!1;return each(t.childNodes,(e=>{if(1===e.nodeType)return n=!0,!0})),n}function useOption(e){const{id:t,disabled:n,defaultValue:r,fieldToListen:o}=e,{app:a,me:i,container:s}=useApp(),[l,c]=(0,external_React_.useState)(r),u=()=>{n||a.option(t).then((e=>{!isUndefined(e)&&c(e)}))};return(0,external_React_.useEffect)((()=>a.on("tab_activated",(e=>{e&&u()}))),[]),(0,external_React_.useEffect)((()=>{u();let e="";e=o||(t&&"option"!==t?"display"===t?`${i.id}_display_${a.colorScheme.value?a.colorScheme.value+"_":""}option`:`${t}_option`:`${i.id}_option`);const n=[];return n.push(a.on(e,u)),n.push(a.on("color_scheme",u)),()=>{n.forEach((e=>{e()}))}}),[t]),{me:i,app:a,value:l,refetch:u,setValue:c,onChange:(e,r)=>{n||isUndefined(e)||a.option(t,e).then((()=>{c(e),isFunction(r)&&r()})).catch((e=>{console.error(e),isFunction(r)&&r(e.message)}))},container:s}}function wrapper(e){const{children:t}=e,{me:n,app:r,value:o}=useOption({id:"option",defaultValue:{layout:!1,display_idea:!0}});return(0,external_React_.useEffect)((()=>{o.layout&&r.fire("insert_style",`.${n.id}{-webkit-print-color-adjust:exact;print-color-adjust:exact;}`)}),[o.layout]),o.display_idea?t:null}function useContext(e){const{data:t}=e,{me:n,app:r}=useApp(),o=(0,external_React_.useRef)(null),[a,i]=(0,external_React_.useState)({text:"",visible:!1,point:{clientX:0,clientY:0,pageX:0,pageY:0}}),s=()=>{o.current&&clearTimeout(o.current),o.current=null},l=()=>{s(),o.current=setTimeout((()=>{i((e=>({...e,visible:!1})))}),600)};return(0,external_React_.useEffect)((()=>{function e(){r.field("running")&&l()}return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,external_React_.useEffect)((()=>{if(t.length<=0)return;const e=r.field("container");if(!isElement(e))return;const o=e=>{const r=e.target;if(!isElement(r)||!r.classList.contains(n.id))return;const o=r.dataset.id;if(!o)return;s();const a=t.find((e=>e.id===o));if(!a||!a.desc)return;const l=r.getBoundingClientRect(),c=l.right,u=l.top+l.height/2;i({visible:!0,text:a.desc,point:{clientX:c,clientY:u}})},a=e=>{const r=e.target;if(!isElement(r)||!r.classList.contains(n.id))return;const o=r.dataset.id;if(!o)return;const a=t.find((e=>e.id===o));a&&a.desc&&l()};return e.addEventListener("mouseover",o),e.addEventListener("mouseout",a),()=>{e.removeEventListener("mouseover",o),e.removeEventListener("mouseout",a)}}),[t]),{option:a,onMouseFloatEnter(){s()},onMouseFloatLeave(){l()}}}function idea(e){const{option:t,onMouseFloatEnter:n,onMouseFloatLeave:r}=useContext(e),{text:o,visible:a,point:i}=t;return(0,external_ReactJsxRuntime_namespaceObject.jsx)(wrapper,{children:(0,external_ReactJsxRuntime_namespaceObject.jsx)(Float,{targetOffset:[0,20],className:"idea-wrapper",value:{point:i,visible:a},onMouseEnter:n,onMouseLeave:r,children:(0,external_ReactJsxRuntime_namespaceObject.jsx)("div",{className:"idea-text",children:o})})})}const external_Antd_namespaceObject=Antd;function each_each(e,t){if(!e)return;let n=0;if(e.forEach){const r=e.length;if(r<=0)return;for(;n<r&&!t(e[n],n);)n++}else{const r=Object.keys(e),o=r.length;if(o<=0)return;for(;n<o&&!t(e[r[n]],r[n]);)n++}}const external_AntDesignIcons_namespaceObject=AntDesignIcons;function SingleTag(e){const{tag:t,title:n,closable:r,onClose:o,onClick:a,className:i,onDoubleClick:s}=e,l=isChinese(t)?8:20,c=t.length>l,u=(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Tag,{onClose:o,onClick:a,closable:r,className:i,children:(0,external_ReactJsxRuntime_namespaceObject.jsx)("span",{title:n,onDoubleClick:s,children:c?`${t.slice(0,l)}...`:t})},t);return c?(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Tooltip,{title:t,children:u},t):u}function Tags(e){const{value:t=[],onChange:n}=e,{app:r}=useApp(),o=(0,external_React_.useRef)(null),a=(0,external_React_.useRef)(null),[i,s]=(0,external_React_.useState)(!1),[l,c]=(0,external_React_.useState)(""),[u,d]=(0,external_React_.useState)(-1),[p,f]=(0,external_React_.useState)(""),h=()=>{const e=[...t];e[u]=p,n&&n(e),d(-1),f("")},g=()=>{l.length<=0||(l&&t.indexOf(l)<0&&t.push(l),c(""),n&&n([...t]),setTimeout((function(){o&&o.current&&o.current.focus()}),0))};return(0,external_ReactJsxRuntime_namespaceObject.jsxs)(external_ReactJsxRuntime_namespaceObject.Fragment,{children:[t.map(((e,o)=>u===o?(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Input,{size:"small",ref:a,className:"tag-input",value:p,onBlur:h,onPressEnter:h,onChange:e=>f(e.target.value)},e):(0,external_ReactJsxRuntime_namespaceObject.jsx)(SingleTag,{tag:e,closable:!0,className:"edit-tag",onClose:()=>(e=>{const r=t.filter((t=>t!==e));n&&n(r)})(e),title:r.i18n("double_edit_tag"),onDoubleClick:t=>{t.preventDefault(),f(e),d(o),setTimeout((function(){a&&a.current&&a.current.focus()}),0)}},e))),i?(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Input,{ref:o,type:"text",size:"small",value:l,className:"tag-input",onBlur:()=>{s(!1),g()},onPressEnter:g,onChange:e=>c(e.target.value)}):(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Tag,{className:"tag-plus",onClick:()=>{s(!0),setTimeout((function(){o&&o.current&&o.current.focus()}),0)},children:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Tooltip,{title:r.i18n("tag_add"),children:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_AntDesignIcons_namespaceObject.PlusOutlined,{})})})]})}function editPanel_text(e){const{value:t,format:n}=e;return(0,external_ReactJsxRuntime_namespaceObject.jsx)("span",{children:n?n(t):t})}function blockquote(e){const{value:t,style:n}=e;return(0,external_ReactJsxRuntime_namespaceObject.jsx)("div",{className:"edit-text",children:n?(0,external_ReactJsxRuntime_namespaceObject.jsx)("span",{style:n,children:t}):t})}function editPanel(e){const{data:t,columns:n,onCancel:r,onSubmit:o}=e,{me:a,app:i}=useApp(),s=(0,external_React_.useRef)(null),l=()=>{r&&r()},c=()=>{s.current&&s.current.validateFields().then((e=>{s.current&&s.current.resetFields(),e.id=t.id,o&&o(e)})).catch((e=>{i.log(e)}))};return(0,external_React_.useEffect)((()=>{const e=[];return i.removeHook(`${a.id}_close_modal`),e.push(i.on(`${a.id}_close_modal`,l)),i.removeHook(`${a.id}_submit_modal`),e.push(i.on(`${a.id}_submit_modal`,c)),()=>{e.forEach((e=>{e()}))}}),[t]),(0,external_React_.useEffect)((()=>{!t||Object.keys(t).length<=0?s.current&&s.current.resetFields():s.current&&s.current.setFieldsValue(t)}),[t]),(0,external_React_.useEffect)((()=>{if(!n||n.length<=0)return;const e={};n.filter((e=>"datetime-local"===e.htmlType)).forEach((t=>{e[t.id]=Date.now()})),s.current&&s.current.setFieldsValue(e)}),[n]),(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Modal,{width:600,open:!!t,onOk:c,onCancel:l,okText:i.i18n("ok"),cancelText:i.i18n("cancel"),children:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Form,{ref:s,className:"edit-form",children:n.map((e=>(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Form.Item,{name:e.id,label:e.title,hidden:e.hidden,rules:[{required:e.required,message:i.i18n("required")}],children:"tags"===e.type?(0,external_ReactJsxRuntime_namespaceObject.jsx)(Tags,{}):"textarea"===e.type?(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Input.TextArea,{}):"text"===e.type?(0,external_ReactJsxRuntime_namespaceObject.jsx)(editPanel_text,{format:e.format}):"blockquote"===e.type?(0,external_ReactJsxRuntime_namespaceObject.jsx)(blockquote,{style:t&&t.style?t.style:null}):(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Input,{allowClear:!0,type:e.htmlType&&!e.hidden?e.htmlType:"text"})},e.id)))})})}function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(null,arguments)}function toPrimitive(e,t){if("object"!=typeof_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function toPropertyKey(e){var t=toPrimitive(e,"string");return"symbol"==typeof_typeof(t)?t:t+""}function defineProperty_defineProperty(e,t,n){return(t=toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function objectSpread2_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function objectSpread2_objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?objectSpread2_ownKeys(Object(n),!0).forEach((function(t){defineProperty_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):objectSpread2_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function _objectWithoutProperties(e,t){if(null==e)return{};var n,r,o=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function toArray(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return external_React_default().Children.forEach(e,(function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(toArray(e)):isFragment(e)&&e.props?n=n.concat(toArray(e.props.children,t)):n.push(e))})),n}function isDOM(e){return e instanceof HTMLElement||e instanceof SVGElement}function getDOM(e){return e&&"object"===typeof_typeof(e)&&isDOM(e.nativeElement)?e.nativeElement:isDOM(e)?e:null}function findDOMNode(e){var t,n=getDOM(e);return n||(e instanceof external_React_default().Component?null===(t=external_ReactDOM_default().findDOMNode)||void 0===t?void 0:t.call(external_ReactDOM_default(),e):null)}var CollectionContext=external_React_.createContext(null);function Collection(e){var t=e.children,n=e.onBatchResize,r=external_React_.useRef(0),o=external_React_.useRef([]),a=external_React_.useContext(CollectionContext),i=external_React_.useCallback((function(e,t,i){r.current+=1;var s=r.current;o.current.push({size:e,element:t,data:i}),Promise.resolve().then((function(){s===r.current&&(null==n||n(o.current),o.current=[])})),null==a||a(e,t,i)}),[n,a]);return external_React_.createElement(CollectionContext.Provider,{value:i},t)}var elementListeners=new Map;function onResize(e){e.forEach((function(e){var t,n=e.target;null===(t=elementListeners.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}var resizeObserver=new ResizeObserver_es(onResize),_el=null,_rs=null;function observe(e,t){elementListeners.has(e)||(elementListeners.set(e,new Set),resizeObserver.observe(e)),elementListeners.get(e).add(t)}function unobserve(e,t){elementListeners.has(e)&&(elementListeners.get(e).delete(t),elementListeners.get(e).size||(resizeObserver.unobserve(e),elementListeners.delete(e)))}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}var DomWrapper=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"render",value:function(){return this.props.children}}]),n}(external_React_.Component);function SingleObserver(e,t){var n=e.children,r=e.disabled,o=external_React_.useRef(null),a=external_React_.useRef(null),i=external_React_.useContext(CollectionContext),s="function"==typeof n,l=s?n(o):n,c=external_React_.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!s&&external_React_.isValidElement(l)&&supportRef(l),d=u?getNodeRef(l):null,p=useComposeRef(d,o),f=function(){var e;return findDOMNode(o.current)||(o.current&&"object"===typeof_typeof(o.current)?findDOMNode(null===(e=o.current)||void 0===e?void 0:e.nativeElement):null)||findDOMNode(a.current)};external_React_.useImperativeHandle(t,(function(){return f()}));var h=external_React_.useRef(e);h.current=e;var g=external_React_.useCallback((function(e){var t=h.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),a=o.width,s=o.height,l=e.offsetWidth,u=e.offsetHeight,d=Math.floor(a),p=Math.floor(s);if(c.current.width!==d||c.current.height!==p||c.current.offsetWidth!==l||c.current.offsetHeight!==u){var f={width:d,height:p,offsetWidth:l,offsetHeight:u};c.current=f;var g=l===Math.round(a)?a:l,m=u===Math.round(s)?s:u,v=objectSpread2_objectSpread2(objectSpread2_objectSpread2({},f),{},{offsetWidth:g,offsetHeight:m});null==i||i(v,e,r),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return external_React_.useEffect((function(){var e=f();return e&&!r&&observe(e,g),function(){return unobserve(e,g)}}),[o.current,r]),external_React_.createElement(DomWrapper,{ref:a},u?external_React_.cloneElement(l,{ref:p}):l)}var RefSingleObserver=external_React_.forwardRef(SingleObserver);const es_SingleObserver=RefSingleObserver;var INTERNAL_PREFIX_KEY="rc-observer-key";function es_ResizeObserver(e,t){var n=e.children;return("function"==typeof n?[n]:toArray(n)).map((function(n,r){var o=(null==n?void 0:n.key)||"".concat(INTERNAL_PREFIX_KEY,"-").concat(r);return external_React_.createElement(es_SingleObserver,_extends({},e,{key:o,ref:0===r?t:void 0}),n)}))}var RefResizeObserver=external_React_.forwardRef(es_ResizeObserver);RefResizeObserver.Collection=Collection;const rc_resize_observer_es=RefResizeObserver;function useEvent_useEvent(e){var t=external_React_.useRef();t.current=e;var n=external_React_.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}function useSafeState(e){var t=React.useRef(!1),n=React.useState(e),r=_slicedToArray(n,2),o=r[0],a=r[1];return React.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[o,function(e,n){n&&t.current||a(e)}]}function hasValue(e){return void 0!==e}function useMergedState(e,t){var n=t||{},r=n.defaultValue,o=n.value,a=n.onChange,i=n.postState,s=useState((function(){return hasValue(o)?o:hasValue(r)?"function"==typeof r?r():r:"function"==typeof e?e():e})),l=_slicedToArray(s,2),c=l[0],u=l[1],d=void 0!==o?o:c,p=i?i(d):d,f=useEvent(a),h=useState([d]),g=_slicedToArray(h,2),m=g[0],v=g[1];return useLayoutUpdateEffect((function(){var e=m[0];c!==e&&f(c,e)}),[m]),useLayoutUpdateEffect((function(){hasValue(o)||u(o)}),[o]),[p,useEvent((function(e,t){u(e,t),v([d],t)}))]}function internalSet(e,t,n,r){if(!t.length)return n;var o,a=_toArray(t),i=a[0],s=a.slice(1);return o=e||"number"!=typeof i?Array.isArray(e)?_toConsumableArray(e):_objectSpread({},e):[],r&&void 0===n&&1===s.length?delete o[i][s[0]]:o[i]=internalSet(o[i],s,n,r),o}function set(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!get(e,t.slice(0,-1))?e:internalSet(e,t,n,r)}function set_isObject(e){return"object"===_typeof(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function createEmpty(e){return Array.isArray(e)?[]:{}}var keys="undefined"==typeof Reflect?Object.keys:Reflect.ownKeys;function merge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=createEmpty(t[0]);return t.forEach((function(e){!function t(n,o){var a=new Set(o),i=get(e,n),s=Array.isArray(i);if(s||set_isObject(i)){if(!a.has(i)){a.add(i);var l=get(r,n);s?r=set(r,n,[]):l&&"object"===_typeof(l)||(r=set(r,n,createEmpty(i))),keys(i).forEach((function(e){t([].concat(_toConsumableArray(n),[e]),a)}))}}else r=set(r,n,i)}([])})),r}var Filler=external_React_.forwardRef((function(e,t){var n=e.height,r=e.offsetY,o=e.offsetX,a=e.children,i=e.prefixCls,s=e.onInnerResize,l=e.innerProps,c=e.rtl,u=e.extra,d={},p={display:"flex",flexDirection:"column"};return void 0!==r&&(d={height:n,position:"relative",overflow:"hidden"},p=objectSpread2_objectSpread2(objectSpread2_objectSpread2({},p),{},defineProperty_defineProperty(defineProperty_defineProperty(defineProperty_defineProperty(defineProperty_defineProperty(defineProperty_defineProperty({transform:"translateY(".concat(r,"px)")},c?"marginRight":"marginLeft",-o),"position","absolute"),"left",0),"right",0),"top",0))),external_React_.createElement("div",{style:d},external_React_.createElement(rc_resize_observer_es,{onResize:function(e){e.offsetHeight&&s&&s()}},external_React_.createElement("div",_extends({style:p,className:external_classNames_default()(defineProperty_defineProperty({},"".concat(i,"-holder-inner"),i)),ref:t},l),a,u)))}));Filler.displayName="Filler";const es_Filler=Filler;function Item(e){var t=e.children,n=e.setRef,r=external_React_.useCallback((function(e){n(e)}),[]);return external_React_.cloneElement(t,{ref:r})}function useChildren(e,t,n,r,o,a,i,s){var l=s.getKey;return e.slice(t,n+1).map((function(e,n){var s=i(e,t+n,{style:{width:r},offsetX:o}),c=l(e);return external_React_.createElement(Item,{key:c,setRef:function(t){return a(e,t)}},s)}))}function getIndexByStartLoc(e,t,n,r){var o=n-e,a=t-n;if(r<=2*Math.min(o,a)){var i=Math.floor(r/2);return r%2?n+i+1:n-i}return o>a?n-(r-a):n+(r-o)}function findListDiffIndex(e,t,n){var r,o,a=e.length,i=t.length;if(0===a&&0===i)return null;a<i?(r=e,o=t):(r=t,o=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):s}for(var c=null,u=1!==Math.abs(a-i),d=0;d<o.length;d+=1){var p=l(r[d]);if(p!==l(o[d])){c=d,u=u||p!==l(o[d+1]);break}}return null===c?null:{index:c,multiple:u}}function useDiffItem(e,t,n){var r=slicedToArray_slicedToArray(external_React_.useState(e),2),o=r[0],a=r[1],i=slicedToArray_slicedToArray(external_React_.useState(null),2),s=i[0],l=i[1];return external_React_.useEffect((function(){var r=findListDiffIndex(o||[],e||[],t);void 0!==(null==r?void 0:r.index)&&(null==n||n(r.index),l(e[r.index])),a(e)}),[e]),[s]}var raf=function(e){return+setTimeout(e,16)},caf=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(raf=function(e){return window.requestAnimationFrame(e)},caf=function(e){return window.cancelAnimationFrame(e)});var rafUUID=0,rafIds=new Map;function cleanup(e){rafIds.delete(e)}var wrapperRaf=function(e){var t=rafUUID+=1;return function n(r){if(0===r)cleanup(t),e();else{var o=raf((function(){n(r-1)}));rafIds.set(t,o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};wrapperRaf.cancel=function(e){var t=rafIds.get(e);return cleanup(e),caf(t)};const es_raf=wrapperRaf;var isFF="object"===("undefined"==typeof navigator?"undefined":typeof_typeof(navigator))&&/Firefox/i.test(navigator.userAgent);const isFirefox=isFF,useOriginScroll=function(e,t,n,r){var o=(0,external_React_.useRef)(!1),a=(0,external_React_.useRef)(null);var i=(0,external_React_.useRef)({top:e,bottom:t,left:n,right:r});return i.current.top=e,i.current.bottom=t,i.current.left=n,i.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&i.current.left||t>0&&i.current.right:t<0&&i.current.top||t>0&&i.current.bottom;return n&&r?(clearTimeout(a.current),o.current=!1):r&&!o.current||(clearTimeout(a.current),o.current=!0,a.current=setTimeout((function(){o.current=!1}),50)),!o.current&&r}};function useFrameWheel(e,t,n,r,o,a,i){var s=(0,external_React_.useRef)(0),l=(0,external_React_.useRef)(null),c=(0,external_React_.useRef)(null),u=(0,external_React_.useRef)(!1),d=useOriginScroll(t,n,r,o);var p=(0,external_React_.useRef)(null),f=(0,external_React_.useRef)(null);return[function(t){if(e){es_raf.cancel(f.current),f.current=es_raf((function(){p.current=null}),2);var n=t.deltaX,r=t.deltaY,o=t.shiftKey,h=n,g=r;("sx"===p.current||!p.current&&o&&r&&!n)&&(h=r,g=0,p.current="sx");var m=Math.abs(h),v=Math.abs(g);null===p.current&&(p.current=a&&m>v?"x":"y"),"y"===p.current?function(e,t){if(es_raf.cancel(l.current),!d(!1,t)){var n=e;n._virtualHandled||(n._virtualHandled=!0,s.current+=t,c.current=t,isFirefox||n.preventDefault(),l.current=es_raf((function(){var e=u.current?10:1;i(s.current*e,!1),s.current=0})))}}(t,g):function(e,t){i(t,!0),isFirefox||e.preventDefault()}(t,h)}},function(t){e&&(u.current=t.detail===c.current)}]}function useGetSize(e,t,n,r){var o=slicedToArray_slicedToArray(external_React_.useMemo((function(){return[new Map,[]]}),[e,n.id,r]),2),a=o[0],i=o[1];return function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,l=a.get(o),c=a.get(s);if(void 0===l||void 0===c)for(var u=e.length,d=i.length;d<u;d+=1){var p,f=e[d],h=t(f);a.set(h,d);var g=null!==(p=n.get(h))&&void 0!==p?p:r;if(i[d]=(i[d-1]||0)+g,h===o&&(l=d),h===s&&(c=d),void 0!==l&&void 0!==c)break}return{top:i[l-1]||0,bottom:i[c]}}}var CacheMap=function(){function e(){_classCallCheck(this,e),defineProperty_defineProperty(this,"maps",void 0),defineProperty_defineProperty(this,"id",0),defineProperty_defineProperty(this,"diffKeys",new Set),this.maps=Object.create(null)}return _createClass(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1,this.diffKeys.add(e)}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),e}();const utils_CacheMap=CacheMap;function parseNumber(e){var t=parseFloat(e);return isNaN(t)?0:t}function useHeights(e,t,n){var r=slicedToArray_slicedToArray(external_React_.useState(0),2),o=r[0],a=r[1],i=(0,external_React_.useRef)(new Map),s=(0,external_React_.useRef)(new utils_CacheMap),l=(0,external_React_.useRef)(0);function c(){l.current+=1}function u(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c();var t=function(){var e=!1;i.current.forEach((function(t,n){if(t&&t.offsetParent){var r=t.offsetHeight,o=getComputedStyle(t),a=o.marginTop,i=o.marginBottom,l=r+parseNumber(a)+parseNumber(i);s.current.get(n)!==l&&(s.current.set(n,l),e=!0)}})),e&&a((function(e){return e+1}))};if(e)t();else{l.current+=1;var n=l.current;Promise.resolve().then((function(){n===l.current&&t()}))}}return(0,external_React_.useEffect)((function(){return c}),[]),[function(r,o){var a=e(r),s=i.current.get(a);o?(i.current.set(a,o),u()):i.current.delete(a),!s!=!o&&(o?null==t||t(r):null==n||n(r))},u,s.current,o]}var SMOOTH_PTG=14/15;function useMobileTouchMove(e,t,n){var r,o=(0,external_React_.useRef)(!1),a=(0,external_React_.useRef)(0),i=(0,external_React_.useRef)(0),s=(0,external_React_.useRef)(null),l=(0,external_React_.useRef)(null),c=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageX),r=Math.ceil(e.touches[0].pageY),s=a.current-t,c=i.current-r,u=Math.abs(s)>Math.abs(c);u?a.current=t:i.current=r;var d=n(u,u?s:c,!1,e);d&&e.preventDefault(),clearInterval(l.current),d&&(l.current=setInterval((function(){u?s*=SMOOTH_PTG:c*=SMOOTH_PTG;var e=Math.floor(u?s:c);(!n(u,e,!0)||Math.abs(e)<=.1)&&clearInterval(l.current)}),16))}},u=function(){o.current=!1,r()},d=function(e){r(),1!==e.touches.length||o.current||(o.current=!0,a.current=Math.ceil(e.touches[0].pageX),i.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",c,{passive:!1}),s.current.addEventListener("touchend",u,{passive:!0}))};r=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},hooks_useLayoutEffect((function(){return e&&t.current.addEventListener("touchstart",d,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",d),r(),clearInterval(l.current)}}),[e])}function smoothScrollOffset(e){return Math.floor(Math.pow(e,.5))}function getPageXY(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}function useScrollDrag(e,t,n){external_React_.useEffect((function(){var r=t.current;if(e&&r){var o,a,i=!1,s=function(){es_raf.cancel(o)},l=function e(){s(),o=es_raf((function(){n(a),e()}))},c=function(e){if(!e.target.draggable&&0===e.button){var t=e;t._virtualHandled||(t._virtualHandled=!0,i=!0)}},u=function(){i=!1,s()},d=function(e){if(i){var t=getPageXY(e,!1),n=r.getBoundingClientRect(),o=n.top,c=n.bottom;if(t<=o)a=-smoothScrollOffset(o-t),l();else if(t>=c){a=smoothScrollOffset(t-c),l()}else s()}};return r.addEventListener("mousedown",c),r.ownerDocument.addEventListener("mouseup",u),r.ownerDocument.addEventListener("mousemove",d),function(){r.removeEventListener("mousedown",c),r.ownerDocument.removeEventListener("mouseup",u),r.ownerDocument.removeEventListener("mousemove",d),s()}}}),[e])}var MAX_TIMES=10;function useScrollTo(e,t,n,r,o,a,i,s){var l=external_React_.useRef(),c=slicedToArray_slicedToArray(external_React_.useState(null),2),u=c[0],d=c[1];return hooks_useLayoutEffect((function(){if(u&&u.times<MAX_TIMES){if(!e.current)return void d((function(e){return objectSpread2_objectSpread2({},e)}));a();var s=u.targetAlign,l=u.originAlign,c=u.index,p=u.offset,f=e.current.clientHeight,h=!1,g=s,m=null;if(f){for(var v=s||l,y=0,b=0,_=0,x=Math.min(t.length-1,c),w=0;w<=x;w+=1){var E=o(t[w]);b=y;var R=n.get(E);y=_=b+(void 0===R?r:R)}for(var C="top"===v?p:f-p,S=x;S>=0;S-=1){var T=o(t[S]),O=n.get(T);if(void 0===O){h=!0;break}if((C-=O)<=0)break}switch(v){case"top":m=b-p;break;case"bottom":m=_-f+p;break;default:var N=e.current.scrollTop;b<N?g="top":_>N+f&&(g="bottom")}null!==m&&i(m),m!==u.lastTop&&(h=!0)}h&&d(objectSpread2_objectSpread2(objectSpread2_objectSpread2({},u),{},{times:u.times+1,targetAlign:g,lastTop:m}))}else 0}),[u,e.current]),function(e){if(null!=e){if(es_raf.cancel(l.current),"number"==typeof e)i(e);else if(e&&"object"===typeof_typeof(e)){var n,r=e.align;n="index"in e?e.index:t.findIndex((function(t){return o(t)===e.key}));var a=e.offset;d({times:0,index:n,offset:void 0===a?0:a,originAlign:r})}}else s()}}var ScrollBar=external_React_.forwardRef((function(e,t){var n=e.prefixCls,r=e.rtl,o=e.scrollOffset,a=e.scrollRange,i=e.onStartMove,s=e.onStopMove,l=e.onScroll,c=e.horizontal,u=e.spinSize,d=e.containerSize,p=e.style,f=e.thumbStyle,h=e.showScrollBar,g=slicedToArray_slicedToArray(external_React_.useState(!1),2),m=g[0],v=g[1],y=slicedToArray_slicedToArray(external_React_.useState(null),2),b=y[0],_=y[1],x=slicedToArray_slicedToArray(external_React_.useState(null),2),w=x[0],E=x[1],R=!r,C=external_React_.useRef(),S=external_React_.useRef(),T=slicedToArray_slicedToArray(external_React_.useState(h),2),O=T[0],N=T[1],A=external_React_.useRef(),L=function(){!0!==h&&!1!==h&&(clearTimeout(A.current),N(!0),A.current=setTimeout((function(){N(!1)}),3e3))},D=a-d||0,M=d-u||0,j=external_React_.useMemo((function(){return 0===o||0===D?0:o/D*M}),[o,D,M]),P=external_React_.useRef({top:j,dragging:m,pageY:b,startTop:w});P.current={top:j,dragging:m,pageY:b,startTop:w};var I=function(e){v(!0),_(getPageXY(e,c)),E(P.current.top),i(),e.stopPropagation(),e.preventDefault()};external_React_.useEffect((function(){var e=function(e){e.preventDefault()},t=C.current,n=S.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",I,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",I)}}),[]);var k=external_React_.useRef();k.current=D;var F=external_React_.useRef();F.current=M,external_React_.useEffect((function(){if(m){var e,t=function(t){var n=P.current,r=n.dragging,o=n.pageY,a=n.startTop;es_raf.cancel(e);var i=C.current.getBoundingClientRect(),s=d/(c?i.width:i.height);if(r){var u=(getPageXY(t,c)-o)*s,p=a;!R&&c?p-=u:p+=u;var f=k.current,h=F.current,g=h?p/h:0,m=Math.ceil(g*f);m=Math.max(m,0),m=Math.min(m,f),e=es_raf((function(){l(m,c)}))}},n=function(){v(!1),s()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),es_raf.cancel(e)}}}),[m]),external_React_.useEffect((function(){return L(),function(){clearTimeout(A.current)}}),[o]),external_React_.useImperativeHandle(t,(function(){return{delayHidden:L}}));var B="".concat(n,"-scrollbar"),H={position:"absolute",visibility:O?null:"hidden"},W={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return c?(H.height=8,H.left=0,H.right=0,H.bottom=0,W.height="100%",W.width=u,R?W.left=j:W.right=j):(H.width=8,H.top=0,H.bottom=0,R?H.right=0:H.left=0,W.width="100%",W.height=u,W.top=j),external_React_.createElement("div",{ref:C,className:external_classNames_default()(B,defineProperty_defineProperty(defineProperty_defineProperty(defineProperty_defineProperty({},"".concat(B,"-horizontal"),c),"".concat(B,"-vertical"),!c),"".concat(B,"-visible"),O)),style:objectSpread2_objectSpread2(objectSpread2_objectSpread2({},H),p),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:L},external_React_.createElement("div",{ref:S,className:external_classNames_default()("".concat(B,"-thumb"),defineProperty_defineProperty({},"".concat(B,"-thumb-moving"),m)),style:objectSpread2_objectSpread2(objectSpread2_objectSpread2({},W),f),onMouseDown:I}))}));const es_ScrollBar=ScrollBar;var MIN_SIZE=20;function getSpinSize(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,MIN_SIZE),Math.floor(t)}var _excluded=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],EMPTY_DATA=[],ScrollStyle={overflowY:"auto",overflowAnchor:"none"};function RawList(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,o=e.className,a=e.height,i=e.itemHeight,s=e.fullHeight,l=void 0===s||s,c=e.style,u=e.data,d=e.children,p=e.itemKey,f=e.virtual,h=e.direction,g=e.scrollWidth,m=e.component,v=void 0===m?"div":m,y=e.onScroll,b=e.onVirtualScroll,_=e.onVisibleChange,x=e.innerProps,w=e.extraRender,E=e.styles,R=e.showScrollBar,C=void 0===R?"optional":R,S=_objectWithoutProperties(e,_excluded),T=external_React_.useCallback((function(e){return"function"==typeof p?p(e):null==e?void 0:e[p]}),[p]),O=slicedToArray_slicedToArray(useHeights(T,null,null),4),N=O[0],A=O[1],L=O[2],D=O[3],M=!(!1===f||!a||!i),j=external_React_.useMemo((function(){return Object.values(L.maps).reduce((function(e,t){return e+t}),0)}),[L.id,L.maps]),P=M&&u&&(Math.max(i*u.length,j)>a||!!g),I="rtl"===h,k=external_classNames_default()(r,defineProperty_defineProperty({},"".concat(r,"-rtl"),I),o),F=u||EMPTY_DATA,B=(0,external_React_.useRef)(),H=(0,external_React_.useRef)(),W=(0,external_React_.useRef)(),U=slicedToArray_slicedToArray((0,external_React_.useState)(0),2),V=U[0],$=U[1],z=slicedToArray_slicedToArray((0,external_React_.useState)(0),2),G=z[0],X=z[1],Y=slicedToArray_slicedToArray((0,external_React_.useState)(!1),2),J=Y[0],q=Y[1],K=function(){q(!0)},Q=function(){q(!1)},Z={getKey:T};function ee(e){$((function(t){var n=function(e){var t=e;Number.isNaN(ve.current)||(t=Math.min(t,ve.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return B.current.scrollTop=n,n}))}var te=(0,external_React_.useRef)({start:0,end:F.length}),ne=(0,external_React_.useRef)(),re=slicedToArray_slicedToArray(useDiffItem(F,T),1)[0];ne.current=re;var oe=external_React_.useMemo((function(){if(!M)return{scrollHeight:void 0,start:0,end:F.length-1,offset:void 0};var e;if(!P)return{scrollHeight:(null===(e=H.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:F.length-1,offset:void 0};for(var t,n,r,o=0,s=F.length,l=0;l<s;l+=1){var c=F[l],u=T(c),d=L.get(u),p=o+(void 0===d?i:d);p>=V&&void 0===t&&(t=l,n=o),p>V+a&&void 0===r&&(r=l),o=p}return void 0===t&&(t=0,n=0,r=Math.ceil(a/i)),void 0===r&&(r=F.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,F.length-1),offset:n}}),[P,M,V,F,D,a]),ae=oe.scrollHeight,ie=oe.start,se=oe.end,le=oe.offset;te.current.start=ie,te.current.end=se,external_React_.useLayoutEffect((function(){var e=L.getRecord();if(1===e.size){var t=Array.from(e)[0],n=F[ie];if(n)if(T(n)===t){var r=L.get(t)-i;ee((function(e){return e+r}))}}L.resetRecord()}),[ae]);var ce=slicedToArray_slicedToArray(external_React_.useState({width:0,height:a}),2),ue=ce[0],de=ce[1],pe=(0,external_React_.useRef)(),fe=(0,external_React_.useRef)(),he=external_React_.useMemo((function(){return getSpinSize(ue.width,g)}),[ue.width,g]),ge=external_React_.useMemo((function(){return getSpinSize(ue.height,ae)}),[ue.height,ae]),me=ae-a,ve=(0,external_React_.useRef)(me);ve.current=me;var ye=V<=0,be=V>=me,_e=G<=0,xe=G>=g,we=useOriginScroll(ye,be,_e,xe),Ee=function(){return{x:I?-G:G,y:V}},Re=(0,external_React_.useRef)(Ee()),Ce=useEvent_useEvent((function(e){if(b){var t=objectSpread2_objectSpread2(objectSpread2_objectSpread2({},Ee()),e);Re.current.x===t.x&&Re.current.y===t.y||(b(t),Re.current=t)}}));function Se(e,t){var n=e;t?((0,external_ReactDOM_.flushSync)((function(){X(n)})),Ce()):ee(n)}var Te=function(e){var t=e,n=g?g-ue.width:0;return t=Math.max(t,0),t=Math.min(t,n)},Oe=useEvent_useEvent((function(e,t){t?((0,external_ReactDOM_.flushSync)((function(){X((function(t){return Te(t+(I?-e:e))}))})),Ce()):ee((function(t){return t+e}))})),Ne=slicedToArray_slicedToArray(useFrameWheel(M,ye,be,_e,xe,!!g,Oe),2),Ae=Ne[0],Le=Ne[1];useMobileTouchMove(M,B,(function(e,t,n,r){var o=r;return!we(e,t,n)&&((!o||!o._virtualHandled)&&(o&&(o._virtualHandled=!0),Ae({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0))})),useScrollDrag(P,B,(function(e){ee((function(t){return t+e}))})),hooks_useLayoutEffect((function(){function e(e){var t=ye&&e.detail<0,n=be&&e.detail>0;!M||t||n||e.preventDefault()}var t=B.current;return t.addEventListener("wheel",Ae,{passive:!1}),t.addEventListener("DOMMouseScroll",Le,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",Ae),t.removeEventListener("DOMMouseScroll",Le),t.removeEventListener("MozMousePixelScroll",e)}}),[M,ye,be]),hooks_useLayoutEffect((function(){if(g){var e=Te(G);X(e),Ce({x:e})}}),[ue.width,g]);var De=function(){var e,t;null===(e=pe.current)||void 0===e||e.delayHidden(),null===(t=fe.current)||void 0===t||t.delayHidden()},Me=useScrollTo(B,F,L,i,T,(function(){return A(!0)}),ee,De);external_React_.useImperativeHandle(t,(function(){return{nativeElement:W.current,getScrollInfo:Ee,scrollTo:function(e){var t;(t=e)&&"object"===typeof_typeof(t)&&("left"in t||"top"in t)?(void 0!==e.left&&X(Te(e.left)),Me(e.top)):Me(e)}}})),hooks_useLayoutEffect((function(){if(_){var e=F.slice(ie,se+1);_(e,F)}}),[ie,se,F]);var je=useGetSize(F,T,L,i),Pe=null==w?void 0:w({start:ie,end:se,virtual:P,offsetX:G,offsetY:le,rtl:I,getSize:je}),Ie=useChildren(F,ie,se,g,G,N,d,Z),ke=null;a&&(ke=objectSpread2_objectSpread2(defineProperty_defineProperty({},l?"height":"maxHeight",a),ScrollStyle),M&&(ke.overflowY="hidden",g&&(ke.overflowX="hidden"),J&&(ke.pointerEvents="none")));var Fe={};return I&&(Fe.dir="rtl"),external_React_.createElement("div",_extends({ref:W,style:objectSpread2_objectSpread2(objectSpread2_objectSpread2({},c),{},{position:"relative"}),className:k},Fe,S),external_React_.createElement(rc_resize_observer_es,{onResize:function(e){de({width:e.offsetWidth,height:e.offsetHeight})}},external_React_.createElement(v,{className:"".concat(r,"-holder"),style:ke,ref:B,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==V&&ee(t),null==y||y(e),Ce()},onMouseEnter:De},external_React_.createElement(es_Filler,{prefixCls:r,height:ae,offsetX:G,offsetY:le,scrollWidth:g,onInnerResize:A,ref:H,innerProps:x,rtl:I,extra:Pe},Ie))),P&&ae>a&&external_React_.createElement(es_ScrollBar,{ref:pe,prefixCls:r,scrollOffset:V,scrollRange:ae,rtl:I,onScroll:Se,onStartMove:K,onStopMove:Q,spinSize:ge,containerSize:ue.height,style:null==E?void 0:E.verticalScrollBar,thumbStyle:null==E?void 0:E.verticalScrollBarThumb,showScrollBar:C}),P&&g>ue.width&&external_React_.createElement(es_ScrollBar,{ref:fe,prefixCls:r,scrollOffset:G,scrollRange:g,rtl:I,onScroll:Se,onStartMove:K,onStopMove:Q,spinSize:he,containerSize:ue.width,horizontal:!0,style:null==E?void 0:E.horizontalScrollBar,thumbStyle:null==E?void 0:E.horizontalScrollBarThumb,showScrollBar:C}))}var List=external_React_.forwardRef(RawList);List.displayName="List";const es_List=List,rc_virtual_list_es=es_List;var list_rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function CList(e){const{empty:t,extra:n,height:r,onClick:o,actions:a,virtual:i,className:s,onLoadMore:l,renderItem:c,dataSource:u=[],vertical:d=!0}=e,p=list_rest(e,["empty","extra","height","onClick","actions","virtual","className","onLoadMore","renderItem","dataSource","vertical"]);return(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.List,Object.assign({},p,{className:external_classNames_default()("list-wrapper",s),itemLayout:d?"vertical":"horizontal",children:u.length>0?(0,external_ReactJsxRuntime_namespaceObject.jsx)(rc_virtual_list_es,{itemKey:"id",itemHeight:45,virtual:i,data:u,onScroll:e=>{r&&e.currentTarget.scrollHeight-e.currentTarget.scrollTop+10>=r&&l&&l()},height:i&&r?r:void 0,children:(e,t)=>(0,external_ReactJsxRuntime_namespaceObject.jsxs)(external_Antd_namespaceObject.List.Item,{"data-id":e.id,extra:n?n(e):void 0,actions:a?a(e):void 0,onClick:t=>{((e,t)=>{e.stopPropagation(),e.preventDefault(),o&&o(t)})(t,e)},className:external_classNames_default()(e.className,{"list-cursor":!!o}),children:[e.title&&(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.List.Item.Meta,{title:e.title,description:e.description||e.desc,avatar:e.avatar?(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Avatar,{src:e.avatar}):null}),c&&c(e,t)]},e.id)}):(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Empty,{description:t,image:external_Antd_namespaceObject.Empty.PRESENTED_IMAGE_SIMPLE})}))}function getHash(e,t,n=location.hash.substring(1).split("&")){let r=[];if(n.join("").length<=0)return{hashs:[],hash:r};const o=Array.isArray(e)?e:[e],a=n.filter((e=>{if(o.findIndex((t=>e.indexOf(t)>=0))<0)return!0;r.push(e)}));if(t){const n=`${e}=${t}`;a.push(n),r=[],r.push(n)}return{hashs:a,hash:r}}function setHash(e){const t=Array.isArray(e)?e:[];try{window.history.replaceState(null,"",`${location.pathname+location.search}${t.length>0?"#"+t.join("&"):""}`)}catch(e){location.hash=t.length>0?t.join("&"):""}}function url(e=location.href){if(/circle=/.test(e)){const[t,n=""]=e.split("#");if(!n)return e;const{hashs:r}=getHash(["circle","widget"],void 0,n.split("&"));return`${t}${r.length>0?"#"+r.join("&"):""}`}return e}function node_text(e){if(!e)return"";let t="";isString(e)?t=e:isTextNode(e)?t=e.nodeValue:isElement(e)&&(t=e.textContent);const n=(t||"").trim();return n.length>0?n.replace(/^&nbsp;+|&nbsp;+$/g,""):""}function iterator(e){let t=e,n=e.cloneNode(!0);for(;t;){const r=t._mirrorElement;n._mirrorElement=r||t;const o=t.firstElementChild;if(o)t=o,n=n.firstElementChild;else{let r;for(;t!==e&&!(r=t.nextElementSibling);)t=t.parentElement,n=n.parentElement;if(t===e)break;t=r,n=n.nextElementSibling}}return n}function format_node(e,t,n){if(t.querySelectorAll("img").length>0){const r=iterator(t),o=e.field("container");return isElement(o)&&o.style.cssText.indexOf("imagehide: none")>=0?each_each(r.querySelectorAll("img"),(e=>{let t=e;for(;t&&r.contains(t);){const e=t.parentElement;if(!e)break;if(!(e.innerText.trim().length<=0))break;e.removeChild(t),t=e}})):each_each(r.querySelectorAll("img"),(e=>{let t=e;e._mirrorElement&&(isElement(e._mirrorElement._mirrorElement)?t=e._mirrorElement._mirrorElement:isElement(e._mirrorElement)&&(t=e._mirrorElement));const r=[];if(each_each(e.attributes,(e=>{const t=e.nodeName;!["class","src"].includes(t)&&r.push(t)})),each_each(r,(t=>{e.removeAttribute(t)})),!n)return;const o=Math.max(t.width,e.width),a=Math.max(t.height,e.height),i=Math.min(o,410);e.width=i,e.height=a*(i/o),e.src=e.src.replace("https","http")})),r}return t}function pageInfo(e,t,n){const r={};if(t)if(isString(t)&&t.length>0){const e=document.createElement("div");e.innerHTML=t,r.content=e}else isElement(t)&&(r.content=t);else{const t=e.field("container");if(isElement(t)){const e=t.querySelector(".pages");if(isElement(e)){r.content=e;const t=e.querySelector(".page .title");isElement(t)&&(r.title=node_text(t))}}const n=e.field("node");if(Array.isArray(n)&&n.length>0){const e=n[0];Object.keys(e).forEach((t=>{"content"!==t?isElement(e[t])?r[t]=node_text(e[t]):r[t]=e[t]:r.content||(r.content=node_text(e[t]))}))}else r.url=url(),r.content=document.body,r.domain=location.hostname,r.title=document.title.split(" - ").shift(),r.lang=document.documentElement.getAttribute("lang")||"en"}return n&&isElement(r.content)&&(r.content=format_node(e,r.content)),r}function dataFromTemplate(e,t){return t.length<=0?Promise.reject("data_empty"):e.option("option").then((n=>{const r=n&&n.template?n.template:"template_empty",o=pageInfo(e),a=t.map((e=>{const t={node:{text:e.text,idea:e.desc,url:o.url,title:o.title||"",tags:Array.isArray(e.tags)?e.tags.join(","):""}};return r.replace(/\[([^[|^\]]+)\]/g,((e,n)=>{const[r,o,a,i]=n.trim().split(":");if(r&&o){const e=t[r];if(isObject(e)&&!isUndefined(e[o])){const t=`${e[o]}`;if(a&&i){const e=parseFloat(a),n=parseFloat(i);if(isNumber(e)&&e>=0&&isNumber(n)&&n>0&&n>e){const r=t.slice(e,n);return n<t.length?`${r}...`:r}return t}return t}return""}return""}))}));return Promise.resolve(a)}))}var cjs=__webpack_require__(1298),cjs_default=__webpack_require__.n(cjs);function useData(e){const{id:t,table:n="option",disabled:r,defaultValue:o}=e,{app:a,me:i,container:s}=useApp(),[l,c]=(0,external_React_.useState)(o),u=()=>{r||a.get(t,n).then((e=>{!isUndefined(e)&&c(e)}))};return(0,external_React_.useEffect)(u,[t]),{me:i,app:a,value:l,refetch:u,setValue:c,onChange:(e,i)=>{r||isUndefined(e)||(e!==o?a.set(t,e,n).then((()=>{c(e),isFunction(i)&&i()})).catch((e=>{console.error(e),isFunction(i)&&i(e.message)})):a.remove(t,n).then((()=>{c(e),isFunction(i)&&i()})).catch((e=>{console.error(e),isFunction(i)&&i(e.message)})))},container:s}}function PanelBody(e){const{height:t,className:n,children:r}=e,o="number"==typeof t,a="function"==typeof r,i=(0,external_React_.useRef)(null),[s,l]=(0,external_React_.useState)(o?t:600);return(0,external_React_.useEffect)((()=>{a&&i.current&&l(i.current.clientHeight)}),[t]),(0,external_ReactJsxRuntime_namespaceObject.jsx)("div",{ref:i,className:external_classNames_default()("panel-body",n),style:o?{height:t}:void 0,children:a?r(s):r})}function PanelHeader(e){const{title:t,className:n,children:r}=e;return(0,external_ReactJsxRuntime_namespaceObject.jsxs)("div",{className:external_classNames_default()("panel-header",n),children:[(0,external_ReactJsxRuntime_namespaceObject.jsx)("h3",{className:"panel-title",children:t}),r]})}function Panel(e){const{title:t,extra:n,onClose:r,pinText:o,children:a,className:i,closeText:s,adsorbText:l,expandText:c,collapseText:u,width:d=340,height:p=600,rootClassName:f,defaultValue:h,defaultPosition:g,adsorable:m=!0,collapsable:v=!0}=e,y=(0,external_React_.useRef)("0px"),b=(0,external_React_.useRef)(null),{me:_,app:x,value:w,onChange:E,container:R}=useData({id:"panel",defaultValue:isUndefined(h)?{pin:!1,adsorb:!1,collapse:!1}:h}),{value:C,onChange:S}=useData({id:"position",defaultValue:isUndefined(g)?{x:window.innerWidth-d-20,y:20}:g}),T=()=>{let e=!1;const t={x:window.innerWidth-d,y:window.innerHeight-70};C.x>t.x&&(C.x=t.x,e||(e=!0)),C.y>t.y&&(C.y=t.y,e||(e=!0)),e&&S(Object.assign({},C))};return(0,external_React_.useEffect)((()=>{const e=[];function t(e){if(e){const e=x.field("container");if(isElement(e)){const t=e.style.getPropertyValue("--offsetright");t&&(y.current=t)}x.fire("display",!0,"0px","offsetright"),R.style.display="none"}else x.fire("display",!0,y.current||"0px","offsetright"),y.current="",R.style.removeProperty("display")}return e.push(x.on("print_change",t)),e.push(x.on("screenshot_change",t)),e.push(x.on(`${_.id}_enable`,(()=>{if(x.device.phone)return;const e=x.field("container");if(isElement(e)){const t=e.style.getPropertyValue("--offsetright");t&&x.fire("display",!0,t,"offsetright")}}))),()=>{e.forEach((e=>{e()}))}}),[]),(0,external_React_.useEffect)((()=>(document.addEventListener("resize",T),T(),()=>{document.removeEventListener("resize",T)})),[C,d]),(0,external_React_.useEffect)((()=>{b.current&&clearTimeout(b.current),b.current=setTimeout((()=>{if(!x.device.phone)if(w.adsorb&&w.collapse){const e=x.field("container");if(isElement(e)){const t=e.style.getPropertyValue("--offsetright");t&&(y.current=t)}x.fire("display",!0,`${d}px`,"offsetright")}else x.fire("display",!0,y.current||"0px","offsetright")}),500)}),[w,d]),(0,external_ReactJsxRuntime_namespaceObject.jsx)(cjs_default(),{onDrag:(e,t)=>{S({x:t.x,y:t.y})},cancel:".panel-cancel",handle:".panel-draggable",axis:w.adsorb?"y":"both",defaultClassName:"panel-drag",defaultClassNameDragged:"panel-dragged",defaultClassNameDragging:"panel-dragging",disabled:w.adsorb&&w.collapse||w.pin,position:w.adsorb?{x:0,y:w.collapse?0:C.y}:C,bounds:{left:0,right:window.innerWidth-d,top:0,bottom:window.innerHeight-100},children:(0,external_ReactJsxRuntime_namespaceObject.jsxs)("div",{style:{width:!w.collapse&&w.adsorb?"auto":d},className:external_classNames_default()("panel-wrapper",f,{"panel-adsorb":w.adsorb&&!w.collapse,"pabel-render":w.adsorb&&w.collapse}),children:[(0,external_ReactJsxRuntime_namespaceObject.jsx)(PanelHeader,{title:t,className:external_classNames_default()({"panel-draggable":(!w.adsorb||w.adsorb&&!w.collapse)&&!w.pin}),children:(0,external_ReactJsxRuntime_namespaceObject.jsxs)(external_Antd_namespaceObject.Space,{size:4,className:"panel-action panel-cancel",children:[(w.collapse||!w.adsorb)&&n,(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Button,{type:"text",onClick:()=>{E(Object.assign(Object.assign({},w),{pin:!w.pin}))},icon:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_AntDesignIcons_namespaceObject.PushpinOutlined,{}),title:o||x.i18n("pin"),className:external_classNames_default()({"panel-pin":w.pin})}),v&&!w.pin&&w.adsorb&&(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Button,{type:"text",onClick:()=>{E(Object.assign(Object.assign({},w),{collapse:!w.collapse}))},title:w.collapse?c||x.i18n("expand"):u||x.i18n("collapse"),icon:w.collapse?(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_AntDesignIcons_namespaceObject.FullscreenExitOutlined,{}):(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_AntDesignIcons_namespaceObject.FullscreenOutlined,{})}),m&&!w.pin&&(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Button,{type:"text",onClick:()=>{const e=!w.adsorb;e||S({x:window.innerWidth-d-20,y:(window.innerHeight-p)/2}),E(Object.assign(Object.assign({},w),{adsorb:e}))},title:l||x.i18n("adsorb"),icon:w.adsorb?(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_AntDesignIcons_namespaceObject.LeftOutlined,{}):(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_AntDesignIcons_namespaceObject.VerticalLeftOutlined,{})}),r&&(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Button,{type:"text",onClick:r,icon:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_AntDesignIcons_namespaceObject.CloseOutlined,{}),title:s||x.i18n("close")})]})}),(w.collapse||!w.adsorb)&&(0,external_ReactJsxRuntime_namespaceObject.jsx)(PanelBody,{className:i,height:w.adsorb?"auto":p,children:a})]})})}function sort(e){return Array.isArray(e)?e.sort(((e,t)=>(e.priority||0)-(t.priority||0))):[]}function ActionsWrapper(e){const{children:t,limit:n=3}=e,r=[];external_React_default().Children.forEach(t,(e=>{Array.isArray(e)?e.forEach((e=>{r.push(e)})):r.push(e)}));const o=[],a=[];return external_React_default().Children.forEach(r,((e,t)=>{t<n?o.push(e):a.push(e)})),a.length>0?(0,external_ReactJsxRuntime_namespaceObject.jsxs)(external_Antd_namespaceObject.Space,{wrap:!0,size:4,onClick:e=>{e&&(e.stopPropagation(),e.preventDefault())},children:[(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Popover,{trigger:"click",content:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Space,{children:a}),children:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Button,{size:"small",icon:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_AntDesignIcons_namespaceObject.MoreOutlined,{})})}),o]},"actions"):(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Space,{wrap:!0,size:4,onClick:e=>{e&&(e.stopPropagation(),e.preventDefault())},children:o},"actions")}function Wrapper(e){const{actions:t,value:n,children:r,onExport:o}=e,{app:a}=useApp();return(0,external_ReactJsxRuntime_namespaceObject.jsx)(Panel,{defaultValue:{pin:!1,adsorb:!0,collapse:!1},title:`${a.i18n("title")}${n.length>0?"("+n.length+")":""}`,extra:(0,external_ReactJsxRuntime_namespaceObject.jsx)(ActionsWrapper,{children:[...sort(t),{id:"setting",label:a.i18n("setting"),value:"SettingOutlined"},{id:"docs",label:a.i18n("docs"),value:"QuestionCircleOutlined"}].map((e=>{const t=e.value&&external_AntDesignIcons_namespaceObject[e.value]?external_AntDesignIcons_namespaceObject[e.value]:null;return(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Tooltip,{title:e.label,children:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Button,{type:"text",onClick:()=>o(e.id),icon:t?(0,external_ReactJsxRuntime_namespaceObject.jsx)(t,{}):(0,external_ReactJsxRuntime_namespaceObject.jsx)("span",{role:"img",tabIndex:-1,className:"anticon",dangerouslySetInnerHTML:{__html:e.value}})})},e.id)}))}),children:r})}function Actions(e){const{app:t,data:n,onEdit:r,onRemove:o,onExport:a,actions:i}=e;return(0,external_ReactJsxRuntime_namespaceObject.jsxs)(ActionsWrapper,{limit:10,children:[(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Popconfirm,{okText:t.i18n("ok"),title:t.i18n("remove"),cancelText:t.i18n("cancel"),onConfirm:()=>o(n),children:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Button,{size:"small",icon:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_AntDesignIcons_namespaceObject.DeleteOutlined,{})})}),(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Tooltip,{title:t.i18n("edit"),children:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Button,{size:"small",icon:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_AntDesignIcons_namespaceObject.EditOutlined,{}),onClick:()=>r(n)})}),sort(i).map((e=>{const t=e.value&&external_AntDesignIcons_namespaceObject[e.value]?external_AntDesignIcons_namespaceObject[e.value]:null;return(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Tooltip,{title:e.label,children:(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.Button,{size:"small",onClick:()=>a(e.id,n),icon:t?(0,external_ReactJsxRuntime_namespaceObject.jsx)(t,{style:e.style}):(0,external_ReactJsxRuntime_namespaceObject.jsx)("span",{role:"img",tabIndex:-1,className:"anticon",dangerouslySetInnerHTML:{__html:e.value}})})},e.id)}))]})}const{Paragraph}=external_Antd_namespaceObject.Typography;function panel(e){const{edit:t,value:n,onEdit:r,onClick:o,onSubmit:a,onRemove:i,onEditCancel:s}=e,{me:l,app:c,value:u}=useOption({defaultValue:[]}),d=(e,t)=>{"setting"===e?c.fire("setting","option",l.id):"docs"===e?c.tabs("create",{url:c.path("docs/annotator.html")}):dataFromTemplate(c,t?[t]:n).then((t=>{c.fire(e,t.join("\n\n"))})).catch((e=>{c.error(e)})),c.record(`${l.id}_${e}`)},p=[];return each_each(u,((e,t)=>{e.checked&&p.push({id:t,...e})})),(0,external_ReactJsxRuntime_namespaceObject.jsxs)(external_ReactJsxRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJsxRuntime_namespaceObject.jsx)(editPanel,{data:t,onSubmit:a,onCancel:s,columns:[{id:"id",hidden:!0},{id:"style",hidden:!0},{id:"text",type:"blockquote",title:c.i18n("text")},{id:"tags",type:"tags",title:c.i18n("tags")},{id:"desc",type:"textarea",title:c.i18n("idea")}]}),n.length>0&&(0,external_ReactJsxRuntime_namespaceObject.jsx)(Wrapper,{...e,actions:p,onExport:d,children:e=>(0,external_ReactJsxRuntime_namespaceObject.jsx)(CList,{height:e,onClick:o,empty:c.i18n("no_data"),dataSource:n.map((e=>({...e,title:(0,external_ReactJsxRuntime_namespaceObject.jsx)("span",{className:"title-prefix",style:e.style,children:e.text})}))),actions:e=>[(0,external_ReactJsxRuntime_namespaceObject.jsx)(Actions,{app:c,data:e,onEdit:r,actions:p,onRemove:i,onExport:d},"actions")],renderItem:e=>Array.isArray(e.tags)&&e.tags.length>0&&(0,external_ReactJsxRuntime_namespaceObject.jsx)(Paragraph,{className:"tags-wrapper",children:e.tags.map((e=>(0,external_ReactJsxRuntime_namespaceObject.jsx)(SingleTag,{tag:e},e)))})})})]})}function equal(e,t){if(!isObject(e))return e===t;const n=Object.keys(t);if(Object.keys(e).length!=n.length)return!1;let r=!0;return each_each(e,((e,n)=>{if(isObject(e)){if(JSON.stringify(e)!==JSON.stringify(t[n]))return r=!1,!0}else if(e!==t[n])return r=!1,!0})),r}function hex2rgb(e){if(isString(e)&&7===e.length&&e.startsWith("#")){const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>"#"+t+t+n+n+r+r)).substring(1).match(/.{2}/g).map((e=>parseInt(e,16)));return{r:t[0],g:t[1],b:t[2]}}return{r:255,g:255,b:255}}function mergeStyle(e,t){let n={};const{r,g:o,b:a}=hex2rgb(t);return each_each(e,((e,t)=>{n[t]=e.replace(/(rgba{0,1})\((\$|(\d+(,\s){0,1}){3})/g,((e,t)=>e.trim().endsWith(",")?`${t}(${r}, ${o}, ${a}, `:`${t}(${r}, ${o}, ${a}`))})),n}function panel_style(e){const{value:t,onChange:n}=e;return(0,external_ReactJsxRuntime_namespaceObject.jsx)("div",{className:"items",children:[{borderBottom:"3px solid rgb($)"},{background:"linear-gradient(transparent 40%,rgba($, 0) 40%,rgb($) 50%,transparent 70%)"},{background:"linear-gradient(transparent 40%,rgba($, 0) 40%,rgb($) 90%,transparent 95%)"},{background:"linear-gradient(to right,rgba($, .1),rgba($, 0.7) 4%,rgba($, 0.3))"},{background:"rgba($, 0.3)",textShadow:"3px 0px 3px rgb($),-3px 0px 3px rgb($),6px 0px 6px rgb($),-6px 0px 6px rgb($)"},{background:"linear-gradient(transparent 50%,rgba($, .5) 50%)"},{textShadow:"-12px 12px 9.8px rgba($, 0.7),21px -18.1px 7.3px #fff,-18.1px -27.3px 30px #fff",background:"linear-gradient(104deg,rgba($, 0) 0.9%,rgba($, 1.25) 2.4%,rgba($, 0.5) 5.8%,rgba($, 0.1) 93%,rgba($, 0.7) 96%,rgba($, 0) 98%),linear-gradient(183deg,rgba($, 0) 0%,rgba($, 0.3) 7.9%,rgba($, 0) 15%)"}].map(((e,r)=>{const o=mergeStyle(e,t.color);return(0,external_ReactJsxRuntime_namespaceObject.jsx)("div",{style:o,onClick:()=>(e=>{n&&n({...t,style:e})})(o),className:external_classNames_default()("item",{active:equal(e,t.style)}),children:"A"},r)}))})}function useAllow(e){const{me:t,app:n,root:r,shadow:o,container:a}=useApp();let i=!1;if(e){const t=Array.isArray(e)?e:[e];n.user.roles.includes("premium")?(t.includes("premium")||t.includes("member"))&&(i=!0):n.user.roles.includes("member")&&t.includes("member")&&(i=!0)}else i=!0;return{me:t,app:n,root:r,allow:i,shadow:o,container:a,onAllow:()=>!!i||(n.fire("subscribe"),!1)}}function colorPicker(e){const{value:t,className:n,disabled:r,onChange:o,...a}=e,i=(0,external_React_.useRef)(null),[s,l]=(0,external_React_.useState)(t);return(0,external_React_.useEffect)((()=>{l(t)}),[t]),(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_Antd_namespaceObject.ColorPicker,{...a,format:"hex",disabled:r,onChange:e=>{l(e),i.current&&clearTimeout(i.current),i.current=setTimeout((function(){o&&o(e)}),600)},className:external_classNames_default()("colorpicker",n,{disabled:r}),value:s&&/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(s)?s:"#000000"})}function custom(e){const{value:t,active:n,onChange:r}=e,{me:o,app:a,allow:i}=useAllow("member");return(0,external_ReactJsxRuntime_namespaceObject.jsxs)("div",{className:external_classNames_default()("item custom",{active:n}),style:{color:t.startsWith("#")?t:`rgb(${t})`},onClick:()=>{i||a.fire("subscribe")},children:[(0,external_ReactJsxRuntime_namespaceObject.jsx)(colorPicker,{value:t,disabled:!i,onChange:e=>{r(isString(e)?e:e.toHexString())},onOpenChange:e=>{e&&a.fire(`${o.id}_delay_destory`)}}),(0,external_ReactJsxRuntime_namespaceObject.jsx)(external_AntDesignIcons_namespaceObject.EditOutlined,{}),!i&&(0,external_ReactJsxRuntime_namespaceObject.jsx)("div",{className:"icon",children:"ð"})]})}function color(e){const{value:t,onChange:n}=e,r=["#ff9b9a","#ffde70","#fde200","#86ca25","#7db3f9"],o=e=>{n({color:e,style:mergeStyle(t.style,e)})};return(0,external_ReactJsxRuntime_namespaceObject.jsxs)("div",{className:"items",children:[r.map((e=>(0,external_ReactJsxRuntime_namespaceObject.jsx)("div",{style:{color:e},onClick:()=>o(e),className:external_classNames_default()("item",{active:e===t.color}),children:"A"},e))),(0,external_ReactJsxRuntime_namespaceObject.jsx)(custom,{value:t.color,onChange:o,active:!r.includes(t.color)},"custom")]})}function toolbar_panel(e){const{style:t,handleStyle:n}=e,{app:r}=useApp();return(0,external_ReactJsxRuntime_namespaceObject.jsxs)("div",{className:"toolbar",children:[(0,external_ReactJsxRuntime_namespaceObject.jsx)("div",{children:r.i18n("color")}),(0,external_ReactJsxRuntime_namespaceObject.jsx)(color,{value:t,onChange:n}),(0,external_ReactJsxRuntime_namespaceObject.jsx)("div",{children:r.i18n("style")}),(0,external_ReactJsxRuntime_namespaceObject.jsx)(panel_style,{value:t,onChange:n})]})}function toolbar(e){const{option:t,onMouseFloatLeave:n,onMouseFloatEnter:r}=e;return(0,external_ReactJsxRuntime_namespaceObject.jsx)(Float,{value:t,onMouseEnter:r,onMouseLeave:n,children:(0,external_ReactJsxRuntime_namespaceObject.jsx)(toolbar_panel,{...e})})}function utils_id(e){if(e.field("later")){const t=e.field("node");return Array.isArray(t)&&t.length>0&&t[0].url?t[0].url:url()}return url()}function utils_ranges(){const e=window.getSelection(),t=[];if(!e||e.rangeCount<=0)return t;for(let n=0;n<e.rangeCount;n++){const r=e.getRangeAt(n);!r.collapsed&&t.push(r)}return t}var includes=__webpack_require__(7781),object_assign=__webpack_require__(2973),UNDEF="undefined",version="%%build:version%%",api_isBrowser=typeof window!=UNDEF&&typeof document!=UNDEF;api_isBrowser||console.log("Rangy can only run in a browser");var features={implementsDomRange:!0,implementsTextRange:!1,htmlParsingConforms:!0,crashyTextNodes:!1,implementsWinGetSelection:!0,implementsDocSelection:!1,selectionHasAnchorAndFocus:!0,selectionHasExtend:!0,selectionHasRangeCount:!0,selectionSupportsMultipleRanges:window.navigator.userAgent.indexOf("Firefox")>-1,implementsControlRange:!1,collapsedNonEditableSelectionsSupported:!0},config={preferTextRange:!1,checkSelectionRanges:!0};function onDocReady(e){if(api_isBrowser)if("complete"==document.readyState)e();else{var t=function(){document.removeEventListener("DOMContentLoaded",t,!1),e()};document.addEventListener("DOMContentLoaded",t,!1)}}function isHostMethod(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function isHostObject(e,t){return!("object"!=typeof e[t]||!e[t])}function isHostProperty(e,t){return void 0!==e[t]}function createMultiplePropertyTest(e){return function(t,n){for(var r=n.length;r--;)if(!e(t,n[r]))return!1;return!0}}var areHostMethods=createMultiplePropertyTest(isHostMethod),areHostObjects=createMultiplePropertyTest(isHostObject),areHostProperties=createMultiplePropertyTest(isHostProperty);function getBody(e){return isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]}var Module=function(){function e(e,t){this.name=e,this.dependencies=t}return e.prototype.fail=function(e){throw console.log("Module '"+this.name+"' failed to load: "+e),new Error(e)},e.prototype.warn=function(e){console.log("Module "+this.name+": "+e)},e.prototype.createError=function(e){return new Error("Error in Rangy "+this.name+" module: "+e)},e}();function DOMException(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}DOMException.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},DOMException.prototype.toString=function(){return this.message};var log4javascript=__webpack_require__(3156),dom_module=new Module("DomUtil",[]),log=log4javascript.getLogger("rangy.dom"),dom_UNDEF="undefined",_getComputedStyleProperty;function isHtmlNamespace(e){var t;return typeof e.namespaceURI==dom_UNDEF||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function parentElement(e){var t=e.parentNode;return 1==t.nodeType?t:null}function getNodeIndex(e){for(var t=0;e=e.previousSibling;)++t;return t}function getNodeLength(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function getCommonAncestor(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(r.includes(n))return n;return null}function isAncestorOf(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function isOrIsAncestorOf(e,t){return isAncestorOf(e,t,!0)}function getClosestAncestorIn(e,t,n){for(var r,o=n?e:e.parentNode;o;){if((r=o.parentNode)===t)return o;o=r}return null}function isCharacterDataNode(e){var t=e.nodeType;return 3==t||4==t||8==t}function isTextOrCommentNode(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function insertAfter(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function splitDataNode(e,t,n){log.debug("splitDataNode called at index "+t+" in node "+inspectNode(e));var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),insertAfter(r,e),n)for(var o,a=0;o=n[a++];)o.node==e&&o.offset>t?(o.node=r,o.offset-=t):o.node==e.parentNode&&o.offset>getNodeIndex(e)&&++o.offset;return r}function dom_getDocument(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=dom_UNDEF)return e.ownerDocument;if(typeof e.document!=dom_UNDEF)return e.document;if(e.parentNode)return dom_getDocument(e.parentNode);throw dom_module.createError("getDocument: no document found for node")}function getWindow(e){var t=dom_getDocument(e);if(typeof t.defaultView!=dom_UNDEF)return t.defaultView;if(typeof t.parentWindow!=dom_UNDEF)return t.parentWindow;throw dom_module.createError("Cannot get a window object for node")}function getIframeDocument(e){if(typeof e.contentDocument!=dom_UNDEF)return e.contentDocument;if(typeof e.contentWindow!=dom_UNDEF)return e.contentWindow.document;throw dom_module.createError("getIframeDocument: No Document object found for iframe element")}function getIframeWindow(e){if(typeof e.contentWindow!=dom_UNDEF)return e.contentWindow;if(typeof e.contentDocument!=dom_UNDEF)return e.contentDocument.defaultView;throw dom_module.createError("getIframeWindow: No Window object found for iframe element")}function dom_isWindow(e){return e&&isHostMethod(e,"setTimeout")&&isHostObject(e,"document")}function isIframe(e){return 1==e.nodeType&&"iframe"==e.tagName.toLowerCase()}function dom_getContentDocument(e,t,n){var r;if(e?isHostProperty(e,"nodeType")?r=isIframe(e)?getIframeDocument(e):dom_getDocument(e):dom_isWindow(e)&&(r=e.document):r=document,!r)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return r}function getRootContainer(e){for(var t;t=e.parentNode;)e=t;return e}function comparePoints(e,t,n,r){var o,a,i,s,l;if(e==n)return log.debug("case 1"),t===r?0:t<r?-1:1;if(o=getClosestAncestorIn(n,e,!0))return log.debug("case 2",inspectNode(o),getNodeIndex(o)),t<=getNodeIndex(o)?-1:1;if(o=getClosestAncestorIn(e,n,!0))return log.debug("case 3"),getNodeIndex(o)<r?-1:1;if(!(a=getCommonAncestor(e,n)))throw new Error("comparePoints error: nodes have no common ancestor");if(log.debug("case 4"),(i=e===a?a:getClosestAncestorIn(e,a,!0))===(s=n===a?a:getClosestAncestorIn(n,a,!0)))throw log.warn("comparePoints got to case 4 and childA and childB are the same!",e,t,n,r),dom_module.createError("comparePoints got to case 4 and childA and childB are the same!");for(l=a.firstChild;l;){if(l===i)return-1;if(l===s)return 1;l=l.nextSibling}}function inspectNode(e){if(!e)return"[No node]";if(isCharacterDataNode(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+getNodeIndex(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function fragmentFromNodeChildren(e){for(var t,n=dom_getDocument(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||dom_module.fail("document missing a Node creation method"),isHostMethod(document,"getElementsByTagName")||dom_module.fail("document missing getElementsByTagName method"),typeof window.getComputedStyle!=dom_UNDEF?_getComputedStyleProperty=function(e,t){return getWindow(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=dom_UNDEF?_getComputedStyleProperty=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:dom_module.fail("No means of obtaining computed style properties found");var getComputedStyleProperty=_getComputedStyleProperty;function createTestElement(e,t,n){var r=getBody(e),o=e.createElement("div");o.contentEditable=""+!!n,t&&(o.innerHTML=t);var a=r.firstChild;return a?r.insertBefore(o,a):r.appendChild(o),o}function removeNode(e){return e.parentNode.removeChild(e)}var NodeIterator=function(){function e(e){this.root=e,this._next=e}return e.prototype.hasNext=function(){return!!this._next},e.prototype.next=function(){var t,n,r=e._current=this._next;if(e._current)if(t=r.firstChild)this._next=t;else{for(n=null;r!==this.root&&!(n=r.nextSibling);)r=r.parentNode;this._next=n}return e._current},e.prototype.detach=function(){e._current=this._next=this.root=null},e._current=null,e}();function createIterator(e){return new NodeIterator(e)}var DomPosition=function(){function e(e,t){this.node=e,this.offset=t}return e.prototype.equals=function(e){return!!e&&this.node===e.node&&this.offset==e.offset},e.prototype.inspect=function(){return"[DomPosition("+inspectNode(this.node)+":"+this.offset+")]"},e.prototype.toString=function(){return this.inspect()},e}(),extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},extendStatics(e,t)};function __extends(e,t){function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var __assign=function(){return __assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},__assign.apply(this,arguments)};function tslib_es6_rest(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function __decorate(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function __param(e,t){return function(n,r){t(n,r,e)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function __generator(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function __createBinding(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function __exportStar(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof __await?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(e){u(a[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function __asyncDelegator(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:__await(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}function __classPrivateFieldGet(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function __classPrivateFieldSet(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}function isNonTextPartiallySelected(e,t){return 3!=e.nodeType&&(isOrIsAncestorOf(e,t.startContainer)||isOrIsAncestorOf(e,t.endContainer))}var beforeAfterNodeTypes=[1,3,4,5,7,8,10],rootContainerNodeTypes=[2,9,11],readonlyNodeTypes=[5,6,10,12],insertableNodeTypes=[1,3,4,5,7,8,10,11],surroundNodeTypes=[1,3,4,5,7,8];function createAncestorFinder(e){return function(t,n){for(var r,o=n?t:t.parentNode;o;){if(r=o.nodeType,e.includes(r))return o;o=o.parentNode}return null}}var getDocumentOrFragmentContainer=createAncestorFinder([9,11]),getReadonlyAncestor=createAncestorFinder(readonlyNodeTypes),getDocTypeNotationEntityAncestor=createAncestorFinder([6,10,12]),getElementAncestor=createAncestorFinder([1]);function assertNoDocTypeNotationEntityAncestor(e,t){if(getDocTypeNotationEntityAncestor(e,t))throw new DOMException("INVALID_NODE_TYPE_ERR")}function assertValidNodeType(e,t){if(!t.includes(e.nodeType))throw new DOMException("INVALID_NODE_TYPE_ERR")}function assertValidOffset(e,t){if(t<0||t>(isCharacterDataNode(e)?e.length:e.childNodes.length))throw new DOMException("INDEX_SIZE_ERR")}function assertSameDocumentOrFragment(e,t){if(getDocumentOrFragmentContainer(e,!0)!==getDocumentOrFragmentContainer(t,!0))throw new DOMException("WRONG_DOCUMENT_ERR")}function assertNodeNotReadOnly(e){if(getReadonlyAncestor(e,!0))throw new DOMException("NO_MODIFICATION_ALLOWED_ERR")}function assertNode(e,t){if(!e)throw new DOMException(t)}function isValidOffset(e,t){return t<=(isCharacterDataNode(e)?e.length:e.childNodes.length)}function isRangeValid(e){return!!e.startContainer&&!!e.endContainer&&getRootContainer(e.startContainer)==getRootContainer(e.endContainer)&&isValidOffset(e.startContainer,e.startOffset)&&isValidOffset(e.endContainer,e.endOffset)}function assertRangeValid(e){if(!isRangeValid(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}function getRangeDocument(e){return e.document||dom_getDocument(e.startContainer)}function updateCollapsedAndCommonAncestor(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:getCommonAncestor(e.startContainer,e.endContainer)}function updateBoundaries(e,t,n,r,o){e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=o,e.document=dom_getDocument(t),updateCollapsedAndCommonAncestor(e)}var rangeProperties=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],RangeBase=function(){},DomRangeBase=function(e){function t(t){var n=e.call(this)||this;return updateBoundaries(n,t,0,t,0),n}return __extends(t,e),t}(RangeBase),RangeIterator_log=log4javascript.getLogger("RangeIterator"),RangeIterator=function(){function e(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,this._current=null,this._next=null,this._first=null,this._last=null,this.isSingleCharacterDataNode=!1,RangeIterator_log.info("New RangeIterator ",inspectNode(e.startContainer),e.startOffset,inspectNode(e.endContainer),e.endOffset),!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||isCharacterDataNode(this.sc)?getClosestAncestorIn(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||isCharacterDataNode(this.ec)?getClosestAncestorIn(this.ec,n,!0):this.ec.childNodes[this.eo-1]),RangeIterator_log.info("RangeIterator first and last",inspectNode(this._first),inspectNode(this._last))}}return e.prototype.reset=function(){this._current=null,this._next=this._first},e.prototype.hasNext=function(){return!!this._next},e.prototype.detach=function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null},e.prototype.next=function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},e.prototype.remove=function(){var e,t,n=this._current;!isCharacterDataNode(n)||n!==this.sc&&n!==this.ec?n.parentNode?removeNode(n):RangeIterator_log.warn("Node to be removed has no parent node. Is this the child of an attribute node in Firefox 2?"):(e=n===this.sc?this.so:0)!=(t=n===this.ec?this.eo:n.length)&&n.deleteData(e,t-e)},e.prototype.isPartiallySelectedSubtree=function(){return isNonTextPartiallySelected(this._current,this.range)},e.prototype.getSubtreeIterator=function(){var t;if(this.isSingleCharacterDataNode)(t=this.range.cloneRange()).collapse(!1);else{t=new DomRange(getRangeDocument(this.range));var n=this._current,r=n,o=0,a=n,i=getNodeLength(n);isOrIsAncestorOf(n,this.sc)&&(r=this.sc,o=this.so),isOrIsAncestorOf(n,this.ec)&&(a=this.ec,i=this.eo),updateBoundaries(t,r,o,a,i)}return new e(t,this.clonePartiallySelectedTextNodes)},e}();function cloneSubtree(e){for(var t,n,r,o=getRangeDocument(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),RangeIterator_log.debug("cloneSubtree got node "+inspectNode(n)+" from iterator. partiallySelected: "+t),n=n.cloneNode(!t),t&&(r=e.getSubtreeIterator(),n.appendChild(cloneSubtree(r)),r.detach()),10==n.nodeType)throw new DOMException("HIERARCHY_REQUEST_ERR");o.appendChild(n)}return o}function iterateSubtree(e,t,n){var r,o,a,i;for(void 0===n&&(n={stop:!1});a=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(a))return void(n.stop=!0);if(iterateSubtree(i=e.getSubtreeIterator(),t,n),i.detach(),n.stop)return}else for(r=createIterator(a);o=r.next();)if(!1===t(o))return void(n.stop=!0)}function deleteSubtree(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(deleteSubtree(t=e.getSubtreeIterator()),t.detach()):e.remove()}function extractSubtree(e){RangeIterator_log.debug("extract on iterator",e);for(var t,n,r=getRangeDocument(e.range).createDocumentFragment();t=e.next();){if(RangeIterator_log.debug("extractSubtree got node "+inspectNode(t)+" from iterator. partiallySelected: "+e.isPartiallySelectedSubtree()),e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(extractSubtree(n)),n.detach()):e.remove(),10==t.nodeType)throw new DOMException("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}var part1_log=log4javascript.getLogger("DomRangeBase");function getRangeRoot(e){return getRootContainer(e.startContainer)}function insertNodeAtPosition(e,t,n){var r=11==e.nodeType?e.firstChild:e;return isCharacterDataNode(t)?n==t.length?insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:splitDataNode(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),r}function rangesIntersect(e,t,n){if(assertRangeValid(e),assertRangeValid(t),getRangeDocument(t)!=getRangeDocument(e))throw new DOMException("WRONG_DOCUMENT_ERR");var r=comparePoints(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=comparePoints(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?r<=0&&o>=0:r<0&&o>0}function getNodesInRange(e,t,n){var r,o=!(!t||!t.length),a=!!n;o&&(r=new RegExp("^("+t.join("|")+")$"));var i=[];return iterateSubtree(new RangeIterator(e,!1),(function(t){if((!o||r.test(t.nodeType.toString()))&&(!a||n(t))){var s=e.startContainer;if(t!=s||!isCharacterDataNode(s)||e.startOffset!=s.length){var l=e.endContainer;t==l&&isCharacterDataNode(l)&&0==e.endOffset||i.push(t)}}})),i}function rangeInspect(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+inspectNode(e.startContainer)+":"+e.startOffset+", "+inspectNode(e.endContainer)+":"+e.endOffset+")]"}function rangeToHtml(e){assertRangeValid(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}var s2s=0,s2e=1,e2e=2,e2s=3,n_b=0,n_a=1,n_b_a=2,n_i=3,comparisonConstants={START_TO_START:s2s,START_TO_END:s2e,END_TO_END:e2e,END_TO_START:e2s,NODE_BEFORE:n_b,NODE_AFTER:n_a,NODE_BEFORE_AND_AFTER:n_b_a,NODE_INSIDE:n_i};function copyComparisonConstants(e){Object.assign(e,comparisonConstants),Object.assign(e.prototype,comparisonConstants)}function createDomRangeP1(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.compareBoundaryPoints=function(e,t){assertRangeValid(this),assertSameDocumentOrFragment(this.startContainer,t.startContainer);var n=e==e2s||e==s2s?"start":"end",r=e==s2e||e==s2s?"start":"end";return comparePoints(this[n+"Container"],this[n+"Offset"],t[r+"Container"],t[r+"Offset"])},t.prototype.insertNode=function(e){if(assertRangeValid(this),assertValidNodeType(e,insertableNodeTypes),assertNodeNotReadOnly(this.startContainer),isOrIsAncestorOf(e,this.startContainer))throw new DOMException("HIERARCHY_REQUEST_ERR");var t=insertNodeAtPosition(e,this.startContainer,this.startOffset);this.setStartBefore(t)},t.prototype.cloneContents=function(){var e,t;if(assertRangeValid(this),this.collapsed)return getRangeDocument(this).createDocumentFragment();if(this.startContainer===this.endContainer&&isCharacterDataNode(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=getRangeDocument(this).createDocumentFragment()).appendChild(e),t;var n=new RangeIterator(this,!0);return e=cloneSubtree(n),n.detach(),e},t.prototype.canSurroundContents=function(){assertRangeValid(this),assertNodeNotReadOnly(this.startContainer),assertNodeNotReadOnly(this.endContainer);var e=new RangeIterator(this,!0),t=e._first&&isNonTextPartiallySelected(e._first,this)||e._last&&isNonTextPartiallySelected(e._last,this);return e.detach(),!t},t.prototype.surroundContents=function(e){if(assertValidNodeType(e,surroundNodeTypes),!this.canSurroundContents())throw new DOMException("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);insertNodeAtPosition(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},t.prototype.cloneRange=function(){assertRangeValid(this);for(var e=new DomRange(getRangeDocument(this)),t=0,n=rangeProperties;t<n.length;t++){var r=n[t];e[r]=this[r]}return e},t.prototype.toString=function(){assertRangeValid(this);var e=this.startContainer;if(e===this.endContainer&&isCharacterDataNode(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new RangeIterator(this,!0);return part1_log.info("toString iterator: "+inspectNode(n._first)+", "+inspectNode(n._last)),iterateSubtree(n,(function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)})),n.detach(),t.join("")},t.prototype.compareNode=function(e){assertRangeValid(this);var t=e.parentNode,n=getNodeIndex(e);if(!t)throw new DOMException("NOT_FOUND_ERR");var r=this.comparePoint(t,n),o=this.comparePoint(t,n+1);return r<0?o>0?n_b_a:n_b:o>0?n_a:n_i},t.prototype.comparePoint=function(e,t){return assertRangeValid(this),assertNode(e,"HIERARCHY_REQUEST_ERR"),assertSameDocumentOrFragment(e,this.startContainer),comparePoints(e,t,this.startContainer,this.startOffset)<0?-1:comparePoints(e,t,this.endContainer,this.endOffset)>0?1:0},t.prototype.createContextualFragment=function(e){var t=this.startContainer,n=dom_getDocument(t);if(!t)throw new DOMException("INVALID_STATE_ERR");var r=null;return 1==t.nodeType?r=t:isCharacterDataNode(t)&&(r=parentElement(t)),(r=null===r||"HTML"==r.nodeName&&isHtmlNamespace(dom_getDocument(r).documentElement)&&isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1)).innerHTML=e,fragmentFromNodeChildren(r)},t.prototype.toHtml=function(){return rangeToHtml(this)},t.prototype.intersectsNode=function(e,t){if(assertRangeValid(this),getRootContainer(e)!=getRangeRoot(this))return!1;var n=e.parentNode,r=getNodeIndex(e);if(!n)return!0;var o=comparePoints(n,r,this.endContainer,this.endOffset),a=comparePoints(n,r+1,this.startContainer,this.startOffset);return t?o<=0&&a>=0:o<0&&a>0},t.prototype.isPointInRange=function(e,t){return assertRangeValid(this),assertNode(e,"HIERARCHY_REQUEST_ERR"),assertSameDocumentOrFragment(e,this.startContainer),comparePoints(e,t,this.startContainer,this.startOffset)>=0&&comparePoints(e,t,this.endContainer,this.endOffset)<=0},t.prototype.intersectsRange=function(e){return rangesIntersect(this,e,!1)},t.prototype.intersectsOrTouchesRange=function(e){return rangesIntersect(this,e,!0)},t.prototype.intersection=function(e){if(this.intersectsRange(e)){var t=comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return part1_log.info("intersection",this.inspect(),e.inspect(),t,n),-1==t&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},t.prototype.union=function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new DOMException("Ranges do not intersect")},t.prototype.containsNode=function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==n_i},t.prototype.containsNodeContents=function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,getNodeLength(e))<=0},t.prototype.containsRange=function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},t.prototype.containsNodeText=function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},t.prototype.getNodes=function(e,t){return assertRangeValid(this),getNodesInRange(this,e,t)},t.prototype.getDocument=function(){return getRangeDocument(this)},t.prototype.collapseBefore=function(e){this.setEndBefore(e),this.collapse(!1)},t.prototype.collapseAfter=function(e){this.setStartAfter(e),this.collapse(!0)},t.prototype.getBookmark=function(e){var t=getRangeDocument(this),n=createRange(t);e=e||getBody(t),n.selectNodeContents(e);var r=this.intersection(n),o=0,a=0;return r&&(n.setEnd(r.startContainer,r.startOffset),a=(o=n.toString().length)+r.toString().length),{start:o,end:a,containerNode:e}},t.prototype.moveToBookmark=function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var r,o,a,i,s=[t],l=!1,c=!1;!c&&(r=s.pop());)if(3==r.nodeType)o=n+r.length,!l&&e.start>=n&&e.start<=o&&(this.setStart(r,e.start-n),l=!0),l&&e.end>=n&&e.end<=o&&(this.setEnd(r,e.end-n),c=!0),n=o;else for(a=(i=r.childNodes).length;a--;)s.push(i[a])},t.prototype.getName=function(){return"DomRange"},t.prototype.equals=function(e){return rangesEqual(this,e)},t.prototype.isValid=function(){return isRangeValid(this)},t.prototype.inspect=function(){return rangeInspect(this)},t.prototype.detach=function(){},t.prototype.select=function(e){getSelection(this.getDocument()).setSingleRange(this,e)},t}(e)}function rangesEqual(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}var part2_log=log4javascript.getLogger("rangy.DomRange"),part2_module=new Module("DomRange",["DomUtil"]);function getBoundaryBeforeNode(e){return new DomPosition(e.parentNode,getNodeIndex(e))}function getBoundaryAfterNode(e){return new DomPosition(e.parentNode,getNodeIndex(e)+1)}function splitRangeBoundaries(e,t){assertRangeValid(e),part2_log.debug("splitBoundaries called "+e.inspect(),t);var n=e.startContainer,r=e.startOffset,o=e.endContainer,a=e.endOffset,i=n===o;isCharacterDataNode(o)&&a>0&&a<o.length&&(splitDataNode(o,a,t),part2_log.debug("Split end",inspectNode(o),a)),isCharacterDataNode(n)&&r>0&&r<n.length&&(part2_log.debug("Splitting start",inspectNode(n),r),n=splitDataNode(n,r,t),i?(a-=r,o=n):o==n.parentNode&&a>=getNodeIndex(n)&&a++,r=0,part2_log.debug("Split start",inspectNode(n),r)),e.setStartAndEnd(n,r,o,a),part2_log.debug("splitBoundaries done")}function createRangeContentRemover(e,t){return function(){assertRangeValid(this);var n,r=this.startContainer,o=this.startOffset,a=this.commonAncestorContainer,i=new RangeIterator(this,!0);r!==a&&(r=(n=getBoundaryAfterNode(getClosestAncestorIn(r,a,!0))).node,o=n.offset),iterateSubtree(i,assertNodeNotReadOnly),i.reset();var s=e(i);return i.detach(),t(this,r,o,r,o),s}}function createDomRangeP2(e,t){function n(e,t){return function(n){assertValidNodeType(n,beforeAfterNodeTypes),assertValidNodeType(getRootContainer(n),rootContainerNodeTypes);var a=(e?getBoundaryBeforeNode:getBoundaryAfterNode)(n);(t?r:o)(this,a.node,a.offset)}}function r(e,n,r){var o=e.endContainer,a=e.endOffset;n===e.startContainer&&r===e.startOffset||(getRootContainer(n)==getRootContainer(o)&&1!=comparePoints(n,r,o,a)||(o=n,a=r),t(e,n,r,o,a))}function o(e,n,r){var o=e.startContainer,a=e.startOffset;n===e.endContainer&&r===e.endOffset||(getRootContainer(n)==getRootContainer(o)&&-1!=comparePoints(n,r,o,a)||(o=n,a=r),t(e,o,a,n,r))}return function(e){function a(){var r=null!==e&&e.apply(this,arguments)||this;return r.setStartBefore=n(!0,!0),r.setStartAfter=n(!1,!0),r.setEndBefore=n(!0,!1),r.setEndAfter=n(!1,!1),r.extractContents=createRangeContentRemover(extractSubtree,t),r.deleteContents=createRangeContentRemover(deleteSubtree,t),r}return __extends(a,e),a.prototype.setStart=function(e,t){assertNoDocTypeNotationEntityAncestor(e,!0),assertValidOffset(e,t),r(this,e,t)},a.prototype.setEnd=function(e,t){assertNoDocTypeNotationEntityAncestor(e,!0),assertValidOffset(e,t),o(this,e,t)},a.prototype.setStartAndEnd=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],o=e[1],a=r,i=o;switch(e.length){case 3:i=e[2];break;case 4:a=e[2],i=e[3]}assertNoDocTypeNotationEntityAncestor(r,!0),assertValidOffset(r,o),assertNoDocTypeNotationEntityAncestor(a,!0),assertValidOffset(a,i),t(this,r,o,a,i)},a.prototype.setBoundary=function(e,t,n){this["set"+(n?"Start":"End")](e,t)},a.prototype.collapse=function(e){assertRangeValid(this),e?t(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):t(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},a.prototype.selectNodeContents=function(e){assertNoDocTypeNotationEntityAncestor(e,!0),t(this,e,0,e,getNodeLength(e))},a.prototype.selectNode=function(e){assertNoDocTypeNotationEntityAncestor(e,!1),assertValidNodeType(e,beforeAfterNodeTypes);var n=getBoundaryBeforeNode(e),r=getBoundaryAfterNode(e);t(this,n.node,n.offset,r.node,r.offset)},a.prototype.splitBoundaries=function(){splitRangeBoundaries(this)},a.prototype.splitBoundariesPreservingPositions=function(e){splitRangeBoundaries(this,e)},a.prototype.normalizeBoundaries=function(){assertRangeValid(this);var e,n=this.startContainer,r=this.startOffset,o=this.endContainer,a=this.endOffset,i=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(o=e,a=e.length,e.appendData(t.data),removeNode(t))},s=function(e){var t=e.previousSibling;if(t&&t.nodeType==e.nodeType){n=e;var i=e.length;if(r=t.length,e.insertData(0,t.data),removeNode(t),n==o)a+=r,o=n;else if(o==e.parentNode){var s=getNodeIndex(e);a==s?(o=e,a=i):a>s&&a--}}},l=!0;if(isCharacterDataNode(o))a==o.length?i(o):0==a&&(e=o.previousSibling)&&e.nodeType==o.nodeType&&(a=e.length,n==o&&(l=!1),e.appendData(o.data),removeNode(o),o=e);else{if(a>0){var c=o.childNodes[a-1];c&&isCharacterDataNode(c)&&i(c)}l=!this.collapsed}if(l){if(isCharacterDataNode(n))0==r?s(n):r==n.length&&(e=n.nextSibling)&&e.nodeType==n.nodeType&&(o==e&&(o=n,a+=n.length),n.appendData(e.data),removeNode(e));else if(r<n.childNodes.length){var u=n.childNodes[r];u&&isCharacterDataNode(u)&&s(u)}}else n=o,r=a;t(this,n,r,o,a)},a.prototype.collapseToPoint=function(e,t){assertNoDocTypeNotationEntityAncestor(e,!0),assertValidOffset(e,t),this.setStartAndEnd(e,t)},a.prototype.parentElement=function(){return assertRangeValid(this),getElementAncestor(this.commonAncestorContainer,!0)},a}(e)}function createPrototypeRange(e,t){var n=createDomRangeP1(e);Object.assign(n.prototype,comparisonConstants);var r=createDomRangeP2(n,t);return Object.assign(r,comparisonConstants)}var DomRange=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.inspect=rangeInspect,t.toHtml=rangeToHtml,t.getRangeDocument=getRangeDocument,t.rangesEqual=rangesEqual,t.rangeProperties=rangeProperties,t.RangeIterator=RangeIterator,t.copyComparisonConstants=copyComparisonConstants,t.createPrototypeRange=createPrototypeRange,t}(createPrototypeRange(DomRangeBase,updateBoundaries));function createRangyRange(e){return e=getContentDocument(e,part2_module,"createRangyRange"),new DomRange(e)}var wrappedrange_module=new Module("WrappedRange",["DomRange"]),wrappedrange_log=log4javascript.getLogger("rangy.WrappedRange");function updateRangeProperties(e){for(var t=0,n=rangeProperties;t<n.length;t++){var r=n[t];e[r]=e.nativeRange[r]}e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function updateNativeRange(e,t,n,r,o){var a=e.startContainer!==t||e.startOffset!=n,i=e.endContainer!==r||e.endOffset!=o,s=!e.equals(e.nativeRange);(a||i||s)&&(e.setEnd(r,o),e.setStart(t,n))}var WrappedRange=function(e){function t(n){var r=e.call(this)||this;if(r.nativeRange=n,r.setStartBefore=t.createBeforeAfterNodeSetter("setStartBefore"),r.setStartAfter=t.createBeforeAfterNodeSetter("setStartAfter"),r.setEndBefore=t.createBeforeAfterNodeSetter("setEndBefore"),r.setEndAfter=t.createBeforeAfterNodeSetter("setEndAfter"),!n)throw wrappedrange_module.createError("WrappedRange: Range must be specified");return updateRangeProperties(r),r}return __extends(t,e),t.prototype.selectNode=function(e){this.nativeRange.selectNode(e),updateRangeProperties(this)},t.prototype.cloneContents=function(){return this.nativeRange.cloneContents()},t.prototype.surroundContents=function(e){this.nativeRange.surroundContents(e),updateRangeProperties(this)},t.prototype.collapse=function(e){this.nativeRange.collapse(e),updateRangeProperties(this)},t.prototype.cloneRange=function(){return new t(this.nativeRange.cloneRange())},t.prototype.refresh=function(){updateRangeProperties(this)},t.prototype.toString=function(){return this.nativeRange.toString()},t.prototype.setStart=function(e,t){this.nativeRange.setStart(e,t),updateRangeProperties(this)},t.prototype.setEnd=function(e,t){this.nativeRange.setEnd(e,t),updateRangeProperties(this)},t.createBeforeAfterNodeSetter=function(e){return function(t){this.nativeRange[e](t),updateRangeProperties(this)}},t.prototype.selectNodeContents=function(e){this.setStartAndEnd(e,0,getNodeLength(e))},t.prototype.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},t.prototype.getName=function(){return"WrappedRange"},t}(createPrototypeRange(RangeBase,updateNativeRange));function docReadyHandler(){var e=document.createTextNode("test");getBody(document).appendChild(e);var t=document.createRange(),n=document.createElement("div");n.innerHTML="123";var r=n.firstChild,o=getBody(document);o.appendChild(n),t.setStart(r,1),t.setEnd(r,2),t.deleteContents();var a=WrappedRange.prototype;"13"==r.data?(a.deleteContents=function(){this.nativeRange.deleteContents(),updateRangeProperties(this)},a.extractContents=function(){var e=this.nativeRange.extractContents();return updateRangeProperties(this),e}):wrappedrange_log.info("Incorrect native Range deleteContents() implementation. Using Rangy's own."),o.removeChild(n),isHostMethod(t,"createContextualFragment")&&(a.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),o.removeChild(e),o=null}function createNativeRange(e){return(e=dom_getContentDocument(e,wrappedrange_module,"createNativeRange")).createRange()}function createRange(e){return e=dom_getContentDocument(e,wrappedrange_module,"createRange"),new WrappedRange(createNativeRange(e))}function wrappedrange_shimCreateRange(e){e||(e=window);var t=e.document;void 0===t.createRange&&(t.createRange=function(){return createRange(t)})}onDocReady(docReadyHandler);var wrappedselection_log=log4javascript.getLogger("rangy.WrappedSelection"),wrappedselection_module=new Module("WrappedSelection",["DomRange","WrappedRange"]),BOOLEAN="boolean",NUMBER="number";function isDirectionBackward(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function wrappedselection_getWindow(e,t){return e?dom_isWindow(e)?e:e instanceof WrappedSelection?e.win:getWindow(dom_getContentDocument(e,wrappedselection_module,t)):window}function getNativeSelection(e){return wrappedselection_getWindow(e,"getWinSelection").getSelection()}function winSelectionIsBackward(e){var t=!1;return e.anchorNode&&(t=1==comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}var selectionIsBackward=winSelectionIsBackward;function isSelectionValid(){return!0}var testSelection=getNativeSelection();testSelection||wrappedselection_module.fail("Native selection was null (possibly issue 138?)");var testRange=createNativeRange(document);function addRangeBackwardToNative(e,t){var n=createRange(DomRange.getRangeDocument(t));n.collapseToPoint(t.endContainer,t.endOffset),e.addRange(getNativeRange(n)),e.extend(t.startContainer,t.startOffset)}function selectionIsCollapsed(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}function updateAnchorAndFocusFromRange(e,t,n){var r=n?"end":"start",o=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[o+"Container"],e.focusOffset=t[o+"Offset"]}function updateAnchorAndFocusFromNativeSelection(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function updateEmptySelection(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function getNativeRange(e){var t;return e instanceof DomRange?((t=createNativeRange(e.getDocument())).setEnd(e.endContainer,e.endOffset),t.setStart(e.startContainer,e.startOffset)):e instanceof WrappedRange?t=e.nativeRange:features.implementsDomRange&&e instanceof getWindow(e.startContainer).Range&&(t=e),t}var getSelectionRangeAt=isHostMethod(testSelection,"getRangeAt")?function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:function(e,t){var n=createRange(dom_getDocument(e.anchorNode));return n.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&n.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),n};function deleteProperties(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}var cachedRangySelections=[],refreshSelection;function actOnCachedSelection(e,t){for(var n,r,o=cachedRangySelections.length;o--;)if(r=(n=cachedRangySelections[o]).selection,"deleteAll"==t)deleteProperties(r);else if(n.win==e)return"delete"==t?(cachedRangySelections.splice(o,1),!0):r;return"deleteAll"==t&&(cachedRangySelections.length=0),null}function getSelection(e){if(e&&e instanceof WrappedSelection)return e.refresh(),e;var t=actOnCachedSelection(e=wrappedselection_getWindow(e,"getNativeSelection")),n=getNativeSelection(e);return t?(t.nativeSelection=n,t.refresh()):(t=new WrappedSelection(n,e),cachedRangySelections.push({win:e,selection:t})),t}function removeRangeManually(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,o=n.length;r<o;++r)rangesEqual(t,n[r])||e.addRange(n[r]);e.rangeCount||updateEmptySelection(e)}function assertNodeInSameDocument(e,t){if(e.win.document!=dom_getDocument(t))throw new DOMException("WRONG_DOCUMENT_ERR")}function createStartOrEndSetter(e){return function(t,n){var r;this.rangeCount?(r=this.getRangeAt(0))["set"+(e?"Start":"End")](t,n):(r=createRange(this.win.document)).setStartAndEnd(t,n),this.setSingleRange(r,this.isBackward())}}isHostMethod(testSelection,"getRangeAt")&&typeof testSelection.rangeCount==NUMBER?refreshSelection=function(e){if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var t=0,n=e.rangeCount;t<n;++t){var r=e.nativeSelection.getRangeAt(t);e._ranges[t]=new WrappedRange(r)}updateAnchorAndFocusFromRange(e,e._ranges[e.rangeCount-1],selectionIsBackward(e.nativeSelection)),e.isCollapsed=selectionIsCollapsed(e)}else updateEmptySelection(e)}:typeof testSelection.isCollapsed==BOOLEAN&&typeof testRange.collapsed==BOOLEAN?refreshSelection=function(e){var t=e.nativeSelection;if(t.anchorNode){var n=getSelectionRangeAt(t,0);e._ranges=[n],e.rangeCount=1,updateAnchorAndFocusFromNativeSelection(e),e.isCollapsed=selectionIsCollapsed(e)}else updateEmptySelection(e)}:wrappedselection_module.fail("No means of obtaining a Range or TextRange from the user's selection was found");var WrappedSelection=function(){function e(e,t){this.nativeSelection=e,this.win=t,this._ranges=[],this.empty=this.removeAllRanges,this.isBackwards=this.isBackward,this.setStart=createStartOrEndSetter(!0),this.setEnd=createStartOrEndSetter(!1),3==arguments.length&&(this.win=arguments[2]),this.refresh()}return e.prototype.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),updateEmptySelection(this)},e.prototype.addRange=function(e,t){if(isDirectionBackward(t))addRangeBackwardToNative(this.nativeSelection,e),this.refresh();else{var n=this.rangeCount;if(!features.selectionSupportsMultipleRanges&&n>0)return;var r=getNativeRange(e).cloneRange();try{this.nativeSelection.addRange(r)}catch(e){wrappedselection_log.error("Native addRange threw error '"+e+"' with range "+DomRange.inspect(r),e)}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(config.checkSelectionRanges){var o=getSelectionRangeAt(this.nativeSelection,this.rangeCount-1);o&&!rangesEqual(o,e)&&(e=new WrappedRange(o))}this._ranges[this.rangeCount-1]=e,updateAnchorAndFocusFromRange(this,e,selectionIsBackward(this.nativeSelection)),this.isCollapsed=selectionIsCollapsed(this)}else this.refresh()}},e.prototype.setRanges=function(e){this.removeAllRanges();for(var t=0,n=e;t<n.length;t++){var r=n[t];this.addRange(r)}},e.prototype.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new DOMException("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},e.prototype.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(refreshSelection(this),e){var o=t.length;if(o!=this._ranges.length)return wrappedselection_log.debug("Selection.refresh: Range count has changed: was "+o+", is now "+this._ranges.length),!0;if(this.anchorNode!=n||this.anchorOffset!=r)return wrappedselection_log.debug("Selection.refresh: anchor different, so selection has changed"),!0;for(;o--;)if(!rangesEqual(t[o],this._ranges[o]))return wrappedselection_log.debug("Selection.refresh: Range at index "+o+" has changed: was "+t[o].inspect()+", is now "+this._ranges[o].inspect()),!0;return!1}},e.prototype.removeRange=function(e){removeRangeManually(this,e)},e.prototype.isBackward=function(){return selectionIsBackward(this)},e.prototype.toString=function(){wrappedselection_log.debug("selection toString called");for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},e.prototype.collapse=function(e,t){assertNodeInSameDocument(this,e);var n=createRange(e);n.collapseToPoint(e,t),this.setSingleRange(n),this.isCollapsed=!0},e.prototype.collapseToStart=function(){if(!this.rangeCount)throw new DOMException("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},e.prototype.collapseToEnd=function(){if(!this.rangeCount)throw new DOMException("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},e.prototype.selectAllChildren=function(e){assertNodeInSameDocument(this,e);var t=createRange(e);t.selectNodeContents(e),this.setSingleRange(t)},e.prototype.deleteFromDocument=function(){if(this.rangeCount){var e=this.getAllRanges();if(e.length){this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)e[t].deleteContents();this.addRange(e[n-1])}}},e.prototype.eachRange=function(e,t){for(var n=0,r=this._ranges.length;n<r;++n)if(e(this.getRangeAt(n),n))return t},e.prototype.getAllRanges=function(){var e=[];return this.eachRange((function(t){e.push(t)})),e},e.prototype.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},e.prototype.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange((function(r){n.push(r[e].apply(r,t||[]))})),n},e.prototype.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange((function(n){e(n),t.push(n)})),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},e.prototype.containsNode=function(e,t){return this.eachRange((function(n){return n.containsNode(e,t)}),!0)||!1},e.prototype.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},e.prototype.moveToBookmark=function(e){for(var t,n,r=[],o=0;t=e.rangeBookmarks[o++];)(n=createRange(this.win)).moveToBookmark(t),r.push(n);e.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},e.prototype.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},e.prototype.restoreRanges=function(e){this.removeAllRanges();for(var t=0,n=void 0;n=e.ranges[t];++t)this.addRange(n,e.backward&&0==t)},e.prototype.toHtml=function(){var e=[];return this.eachRange((function(t){e.push(DomRange.toHtml(t))})),e.join("")},e.inspect=function(e){var t=[],n=new DomPosition(e.anchorNode,e.anchorOffset),r=new DomPosition(e.focusNode,e.focusOffset),o="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var a=0,i=e.rangeCount;a<i;++a)t[a]=DomRange.inspect(e.getRangeAt(a));return"["+o+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"},e.prototype.getName=function(){return"WrappedSelection"},e.prototype.inspect=function(){return e.inspect(this)},e.prototype.detach=function(){actOnCachedSelection(this.win,"delete"),deleteProperties(this)},e.detachAll=function(){actOnCachedSelection(null,"deleteAll")},e.isDirectionBackward=isDirectionBackward,e}();function wrappedselection_shimGetSelection(e){e||(e=window),void 0===e.getSelection&&(e.getSelection=function(){return getSelection(e)})}function wrappedselection_docReadyHandler(){if(areHostMethods(testSelection,["addRange","getRangeAt","removeAllRanges"])&&typeof testSelection.rangeCount==NUMBER&&features.implementsDomRange){for(var e=window.getSelection(),t=e.rangeCount,n=t>1,r=[],o=winSelectionIsBackward(e),a=0;a<t;++a)r[a]=e.getRangeAt(a);var i=createTestElement(document,"",!1),s=i.appendChild(document.createTextNode("Â Â Â ")),l=document.createRange();if(l.setStart(s,1),l.collapse(!0),e.removeAllRanges(),e.addRange(l),features.collapsedNonEditableSelectionsSupported=1==e.rangeCount,e.removeAllRanges(),n)features.selectionSupportsMultipleRanges=!0;else{var c=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(c&&parseInt(c[1])>=36)features.selectionSupportsMultipleRanges=!1;else{var u=l.cloneRange();l.setStart(s,0),u.setEnd(s,3),u.setStart(s,2),e.addRange(l),e.addRange(u),features.selectionSupportsMultipleRanges=2==e.rangeCount}}removeNode(i),e.removeAllRanges();for(a=0;a<t;++a)0==a&&o?addRangeBackwardToNative?addRangeBackwardToNative(e,r[a]):(wrappedselection_module.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(r[a])):e.addRange(r[a])}}function shim(e){e=e||window,shimCreateRange(e),shimGetSelection(e)}function setRange(e,t){const n=getSelection();n.addRange(e),t&&t(),n.removeAllRanges()}function serialize(e,t){e.length>1&&(e=e.sort(((e,t)=>e.characterRange.start-t.characterRange.start)));const n=[];return e.forEach((e=>{const r=e.getContainerElement(),o=t.rangeToCharacterRange(t.characterRangeToRange(e.doc,e.characterRange,r),r),a=[o.start,o.end,e.id,e.classApplier.className,e.containerElementId];n.push(a.join("$"))})),n.join("|")}onDocReady(wrappedselection_docReadyHandler);const defaultBehavior=window.scrollY>2e3?"auto":"smooth";function scrollintoview(e,t){if(!isElement(e))return;const n=isObject(t)?t:{behavior:isString(t)?t:defaultBehavior};e.scrollIntoView({block:n.block||"start",inline:n.inline||"nearest",behavior:n.behavior||defaultBehavior})}var esm5_getBody=getBody;function compareHighlights(e,t){return e.characterRange.start-t.characterRange.start}function getContainerElement(e,t){return t?e.getElementById(t):esm5_getBody(e)}var highlighterTypes={},HighlighterType=function(){function e(e,t){this.type=e,this.converterCreator=t}return e.prototype.create=function(){var e=this.converterCreator();return e.type=this.type,e},e}();function registerHighlighterType(e,t){highlighterTypes[e]=new HighlighterType(e,t)}function getConverter(e){var t=highlighterTypes[e];if(t instanceof HighlighterType)return t.create();throw new Error("Highlighter type '"+e+"' is not valid")}var CharacterRange=function(){function e(e,t){this.start=e,this.end=t}return e.prototype.intersects=function(e){return this.start<e.end&&this.end>e.start},e.prototype.isContiguousWith=function(e){return this.start==e.end||this.end==e.start},e.prototype.union=function(t){return new e(Math.min(this.start,t.start),Math.max(this.end,t.end))},e.prototype.intersection=function(t){return new e(Math.max(this.start,t.start),Math.min(this.end,t.end))},e.prototype.getComplements=function(t){var n=[];if(this.start>=t.start){if(this.end<=t.end)return[];n.push(new e(t.end,this.end))}else n.push(new e(this.start,Math.min(this.end,t.start))),this.end>t.end&&n.push(new e(t.end,this.end));return n},e.prototype.toString=function(){return"[CharacterRange("+this.start+", "+this.end+")]"},e.fromCharacterRange=function(t){return new e(t.start,t.end)},e}(),textContentConverter={rangeToCharacterRange:function(e,t){var n=e.getBookmark(t);return new CharacterRange(n.start,n.end)},characterRangeToRange:function(e,t,n){var r=createRange(e);return r.moveToBookmark({start:t.start,end:t.end,containerNode:n}),r},serializeSelection:function(e,t){for(var n=e.getAllRanges(),r=[],o=1==n.length&&e.isBackward(),a=0,i=n.length;a<i;++a)r[a]={characterRange:this.rangeToCharacterRange(n[a],t),backward:o};return r},restoreSelection:function(e,t,n){e.removeAllRanges();for(var r,o,a=e.win.document,i=0,s=t.length;i<s;++i)(o=t[i]).characterRange,r=this.characterRangeToRange(a,o.characterRange,n),e.addRange(r,o.backward)}};registerHighlighterType("textContent",(function(){return textContentConverter}));var Highlight=function(){function e(t,n,r,o,a,i){void 0===i&&(i=null),this.doc=t,this.characterRange=n,this.classApplier=r,this.converter=o,this.containerElementId=i,this.applied=!1,a?(this.id=a,e.nextId=Math.max(e.nextId,a+1)):this.id=e.nextId++}return e.prototype.getContainerElement=function(){return getContainerElement(this.doc,this.containerElementId)},e.prototype.getRange=function(){return this.converter.characterRangeToRange(this.doc,this.characterRange,this.getContainerElement())},e.prototype.fromRange=function(e){this.characterRange=this.converter.rangeToCharacterRange(e,this.getContainerElement())},e.prototype.getText=function(){return this.getRange().toString()},e.prototype.containsElement=function(e){return this.getRange().containsNodeContents(e.firstChild)},e.prototype.unapply=function(){this.classApplier.undoToRange(this.getRange()),this.applied=!1},e.prototype.apply=function(){this.classApplier.applyToRange(this.getRange()),this.applied=!0},e.prototype.getHighlightElements=function(){return this.classApplier.getElementsWithClassIntersectingRange(this.getRange())},e.prototype.toString=function(){return"[Highlight(ID: "+this.id+", class: "+this.classApplier.className+", character range: "+this.characterRange.start+" - "+this.characterRange.end+")]"},e.nextId=1,e}(),Highlighter=function(){function e(e,t){void 0===t&&(t="textContent"),this.classAppliers={},this.highlights=[],this.doc=e||document,this.converter=getConverter(t)}return e.prototype.addClassApplier=function(e){this.classAppliers[e.className]=e},e.prototype.getHighlightForElement=function(e){for(var t=this.highlights,n=0,r=t.length;n<r;++n)if(t[n].containsElement(e))return t[n];return null},e.prototype.removeHighlights=function(e){for(var t,n=0,r=this.highlights.length;n<r;++n)t=this.highlights[n],e.includes(t)&&(t.unapply(),this.highlights.splice(n--,1))},e.prototype.removeAllHighlights=function(){this.removeHighlights(this.highlights)},e.prototype.getIntersectingHighlights=function(e){var t=[],n=this.highlights;return e.forEach((function(e){n.forEach((function(n){e.intersectsRange(n.getRange())&&!t.includes(n)&&t.push(n)}))})),t},e.prototype.highlightCharacterRanges=function(e,t,n){var r,o,a,i,s,l,c,u,d,p,f,h,g=this.highlights,m=this.converter,v=this.doc,y=[],b=e?this.classAppliers[e]:null,_=(n=__assign({containerElementId:null,exclusive:!0},n)).containerElementId,x=n.exclusive;for(_&&(i=this.doc.getElementById(_))&&((s=createRange(this.doc)).selectNodeContents(i),l=new CharacterRange(0,s.toString().length)),r=0,o=t.length;r<o;++r)if(c=t[r],f=[],l&&(c=c.intersection(l)),c.start!=c.end){for(a=0;a<g.length;++a)d=!1,_==g[a].containerElementId&&(u=g[a].characterRange,h=!(p=b==g[a].classApplier)&&x,(u.intersects(c)||u.isContiguousWith(c))&&(p||h)&&(h&&u.getComplements(c).forEach((function(e){f.push(new Highlight(v,e,g[a].classApplier,m,null,_))})),d=!0,p&&(c=u.union(c)))),d?(y.push(g[a]),g[a]=new Highlight(v,u.union(c),b,m,null,_)):f.push(g[a]);b&&f.push(new Highlight(v,c,b,m,null,_)),this.highlights=g=f}y.forEach((function(e){e.unapply()}));var w=[];return g.forEach((function(e){e.applied||(e.apply(),w.push(e))})),w},e.prototype.highlightRanges=function(e,t,n){var r,o=[],a=this.converter,i=(n=__assign({containerElement:null,exclusive:!0},n)).containerElement,s=i?i.id:null;return i&&(r=createRange(i)).selectNodeContents(i),t.forEach((function(e){var t=i?r.intersection(e):e;o.push(a.rangeToCharacterRange(t,i||esm5_getBody(e.getDocument())))})),this.highlightCharacterRanges(e,o,{containerElementId:s,exclusive:n.exclusive})},e.prototype.highlightSelection=function(e,t){var n=this.converter,r=!!e&&this.classAppliers[e],o=(t=__assign({containerElementId:null,exclusive:!0},t)).containerElementId,a=t.exclusive,i=t.selection||getSelection(this.doc),s=getContainerElement(i.win.document,o);if(!r&&!1!==e)throw new Error("No class applier found for class '"+e+"'");var l=n.serializeSelection(i,s),c=[];l.forEach((function(e){c.push(CharacterRange.fromCharacterRange(e.characterRange))}));var u=this.highlightCharacterRanges(e,c,{containerElementId:o,exclusive:a});return n.restoreSelection(i,l,s),u},e.prototype.unhighlightSelection=function(e){e=e||getSelection(this.doc);var t=this.getIntersectingHighlights(e.getAllRanges());return this.removeHighlights(t),e.removeAllRanges(),t},e.prototype.getHighlightsInSelection=function(e){return e=e||getSelection(this.doc),this.getIntersectingHighlights(e.getAllRanges())},e.prototype.selectionOverlapsHighlight=function(e){return this.getHighlightsInSelection(e).length>0},e.prototype.serialize=function(e){var t,n,r,o,a=this,i=a.highlights;return i.sort(compareHighlights),t=(e=__assign({serializeHighlightText:!1,type:a.converter.type},e)).type,(r=t!=a.converter.type)&&(o=getConverter(t)),n=["type:"+t],i.forEach((function(t){var i,s=t.characterRange;r&&(i=t.getContainerElement(),s=o.rangeToCharacterRange(a.converter.characterRangeToRange(a.doc,s,i),i));var l=[s.start,s.end,t.id,t.classApplier.className,t.containerElementId];e.serializeHighlightText&&l.push(t.getText()),n.push(l.join("$"))})),n.join("|")},e.prototype.deserialize=function(e){var t,n,r,o,a,i,s,l,c=e.split("|"),u=[],d=c[0],p=!1;if(!d||!(t=/^type:(\w+)$/.exec(d)))throw new Error("Serialized highlights are invalid.");(n=t[1])!=this.converter.type&&(r=getConverter(n),p=!0),c.shift();for(var f,h=c.length;h-- >0;){if(f=c[h].split("$"),i=new CharacterRange(+f[0],+f[1]),s=f[4]||null,p&&(l=getContainerElement(this.doc,s),i=this.converter.rangeToCharacterRange(r.characterRangeToRange(this.doc,i,l),l)),!(o=this.classAppliers[f[3]]))throw new Error("No class applier found for class '"+f[3]+"'");(a=new Highlight(this.doc,i,o,this.converter,parseInt(f[2]),s)).apply(),u.push(a)}this.highlights=u},e}();function createHighlighter(e,t){return void 0===t&&(t="textContent"),new Highlighter(e,t)}var esm5_DomPosition=DomPosition,esm5_isHostMethod=isHostMethod,esm5_module=new Module("ClassApplier",["WrappedSelection"]),esm5_log=log4javascript.getLogger("rangy.classapplier"),defaultTagName="span",createElementNSSupported=esm5_isHostMethod(document,"createElementNS");function esm5_each(e,t){for(var n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))return!1;return!0}function trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function classNameContainsClass(e,t){return!!e&&new RegExp("(?:^|\\s)"+t+"(?:\\s|$)").test(e)}function hasClass(e,t){return"object"==typeof e.classList?e.classList.contains(t):classNameContainsClass("string"==typeof e.className?e.className:e.getAttribute("class"),t)}function addClass(e,t){if("object"==typeof e.classList)e.classList.add(t);else{var n="string"==typeof e.className,r=n?e.className:e.getAttribute("class");r?classNameContainsClass(r,t)||(r+=" "+t):r=t,n?e.className=r:e.setAttribute("class",r)}}var removeClass=function(){function e(e,t,n){return t&&n?" ":""}return function(t,n){if("object"==typeof t.classList)t.classList.remove(n);else{var r="string"==typeof t.className,o=r?t.className:t.getAttribute("class");o=o.replace(new RegExp("(^|\\s)"+n+"(\\s|$)"),e),r?t.className=o:t.setAttribute("class",o)}}}();function getClass(e){return"string"==typeof e.className?e.className:e.getAttribute("class")}function sortClassName(e){return e&&e.split(/\s+/).sort().join(" ")}function getSortedClassName(e){return sortClassName(getClass(e))}function haveSameClasses(e,t){return getSortedClassName(e)==getSortedClassName(t)}function hasAllClasses(e,t){for(var n=t.split(/\s+/),r=0,o=n.length;r<o;++r)if(!hasClass(e,trim(n[r])))return!1;return!0}function canTextBeStyled(e){var t=e.parentNode;return t&&1==t.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(t.nodeName)}function movePosition(e,t,n,r,o){var a=e.node,i=e.offset,s=a,l=i;a==r&&i>o&&++l,a!=t||i!=n&&i!=n+1||(s=r,l+=o-n),a==t&&i>n+1&&--l,e.node=s,e.offset=l}function movePositionWhenRemovingNode(e,t,n){esm5_log.debug("movePositionWhenRemovingNode "+e,e.node==t,e.offset,n),e.node==t&&e.offset>n&&--e.offset}function movePreservingPositions(e,t,n,r){esm5_log.group("movePreservingPositions "+inspectNode(e)+" to index "+n+" in "+inspectNode(t),r),-1==n&&(n=t.childNodes.length);var o=e.parentNode,a=getNodeIndex(e);r.forEach((function(e){movePosition(e,o,a,t,n)})),t.childNodes.length==n?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),esm5_log.groupEnd()}function removePreservingPositions(e,t){esm5_log.group("removePreservingPositions "+inspectNode(e),t);var n=e.parentNode,r=getNodeIndex(e);t.forEach((function(e){movePositionWhenRemovingNode(e,n,r)})),removeNode(e),esm5_log.groupEnd()}function moveChildrenPreservingPositions(e,t,n,r,o){for(var a,i=[];a=e.firstChild;)movePreservingPositions(a,t,n++,o),i.push(a);return r&&removePreservingPositions(e,o),i}function replaceWithOwnChildrenPreservingPositions(e,t){return moveChildrenPreservingPositions(e,e.parentNode,getNodeIndex(e),!0,t)}function rangeSelectsAnyText(e,t){var n=e.cloneRange();n.selectNodeContents(t);var r=n.intersection(e);return""!=(r?r.toString():"")}function getEffectiveTextNodes(e){for(var t,n=e.getNodes([3]),r=0;(t=n[r])&&!rangeSelectsAnyText(e,t);)++r;for(var o=n.length-1;(t=n[o])&&!rangeSelectsAnyText(e,t);)--o;return n.slice(r,o+1)}function elementsHaveSameNonClassAttributes(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,r,o,a=0,i=e.attributes.length;a<i;++a)if("class"!=(o=(n=e.attributes[a]).name)){if(null===n!=(null===(r=t.attributes.getNamedItem(o))))return!1;if(n.specified!=r.specified)return!1;if(n.specified&&n.nodeValue!==r.nodeValue)return!1}return!0}function elementHasNonClassAttributes(e,t){for(var n,r=0,o=e.attributes.length;r<o;++r)if(n=e.attributes[r].name,(!t||!t.includes(n))&&e.attributes[r].specified&&"class"!=n)return!0;return!1}var esm5_getComputedStyleProperty=getComputedStyleProperty,isEditableElement="boolean"==typeof document.createElement("div").isContentEditable?function(e){return e&&1==e.nodeType&&e.isContentEditable}:function(e){return!(!e||1!=e.nodeType||"false"==e.contentEditable)&&("true"==e.contentEditable||isEditableElement(e.parentNode))};function isEditingHost(e){var t;return e&&1==e.nodeType&&((t=e.parentNode)&&9==t.nodeType&&"on"==t.designMode||isEditableElement(e)&&!isEditableElement(e.parentNode))}function isEditable(e){return(isEditableElement(e)||1!=e.nodeType&&isEditableElement(e.parentNode))&&!isEditingHost(e)}var inlineDisplayRegex=/^inline(-block|-table)?$/i;function isNonInlineElement(e){return e&&1==e.nodeType&&!inlineDisplayRegex.test(esm5_getComputedStyleProperty(e,"display"))}var htmlNonWhiteSpaceRegex=/[^\r\n\t\f \u200B]/;function isUnrenderedWhiteSpaceNode(e){if(0==e.data.length)return!0;if(htmlNonWhiteSpaceRegex.test(e.data))return!1;switch(esm5_getComputedStyleProperty(e.parentNode,"whiteSpace")){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(e.data))return!1}return isNonInlineElement(e.previousSibling)||isNonInlineElement(e.nextSibling)}function getRangeBoundaries(e){var t,n,r=[];for(t=0;n=e[t++];)r.push(new esm5_DomPosition(n.startContainer,n.startOffset),new esm5_DomPosition(n.endContainer,n.endOffset));return r}function updateRangesFromBoundaries(e,t){for(var n,r,o,a=0,i=e.length;a<i;++a)n=e[a],r=t[2*a],o=t[2*a+1],n.setStartAndEnd(r.node,r.offset,o.node,o.offset)}function isSplitPoint(e,t){return isCharacterDataNode(e)?0==t?!!e.previousSibling:t!=e.length||!!e.nextSibling:t>0&&t<e.childNodes.length}function splitNodeAt(e,t,n,r){var o,a,i=0==n;if(isAncestorOf(t,e))return esm5_log.info("splitNodeAt(): Descendant is ancestor of node"),e;if(isCharacterDataNode(t)){var s=getNodeIndex(t);if(0==n)n=s;else{if(n!=t.length)throw esm5_module.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+n+" in "+t.data);n=s+1}t=t.parentNode}if(isSplitPoint(t,n)){o=t.cloneNode(!1),a=t.parentNode,o.id&&o.removeAttribute("id");for(var l,c=0;l=t.childNodes[n];)movePreservingPositions(l,o,c++,r);return movePreservingPositions(o,a,getNodeIndex(t)+1,r),t==e?o:splitNodeAt(e,a,getNodeIndex(o),r)}if(e!=t){o=t.parentNode;var u=getNodeIndex(t);return i||u++,splitNodeAt(e,o,u,r)}return e}function areElementsMergeable(e,t){return e.namespaceURI==t.namespaceURI&&e.tagName.toLowerCase()==t.tagName.toLowerCase()&&haveSameClasses(e,t)&&elementsHaveSameNonClassAttributes(e,t)&&"inline"==esm5_getComputedStyleProperty(e,"display")&&"inline"==esm5_getComputedStyleProperty(t,"display")}function createAdjacentMergeableTextNodeGetter(e){var t=e?"nextSibling":"previousSibling";return function(n,r){var o=n.parentNode,a=n[t];if(a){if(a&&3==a.nodeType)return a}else if(r&&(a=o[t],esm5_log.info("adjacentNode: "+a),a&&1==a.nodeType&&areElementsMergeable(o,a))){var i=a[e?"firstChild":"lastChild"];if(i&&3==i.nodeType)return i}return null}}var getPreviousMergeableTextNode=createAdjacentMergeableTextNodeGetter(!1),getNextMergeableTextNode=createAdjacentMergeableTextNodeGetter(!0),Merge=function(){function e(e){this.isElementMerge=1==e.nodeType,this.textNodes=[];var t=this.isElementMerge?e.lastChild:e;t&&this.textNodes.push(t)}return e.prototype.doMerge=function(e){var t=this.textNodes,n=t[0];if(t.length>1){var r,o=getNodeIndex(n),a=[],i=0,s=t.length;t.forEach((function(t,l){r=t.parentNode,l>0&&(r.removeChild(t),r.hasChildNodes()||removeNode(r),e&&e.forEach((function(e){e.node==t&&(e.node=n,e.offset+=i),e.node==r&&e.offset>o&&(--e.offset,e.offset==o+1&&l<s-1&&(e.node=n,e.offset=i))}))),a[l]=t.data,i+=t.data.length})),n.data=a.join("")}return n.data},e.prototype.getLength=function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},e.prototype.toString=function(){var e=[];return this.textNodes.forEach((function(t,n){e[n]="'"+t.data+"'"})),"[Merge("+e.join(",")+")]"},e}(),optionProperties=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],attrNamesForProperties={},util={hasClass,addClass,removeClass,getClass,hasSameClasses:haveSameClasses,hasAllClasses,replaceWithOwnChildren:replaceWithOwnChildrenPreservingPositions,elementsHaveSameNonClassAttributes,elementHasNonClassAttributes,splitNodeAt,isEditableElement,isEditingHost,isEditable},ClassApplier=function(){function e(e,t,n){this.className=e,this.elementTagName=defaultTagName,this.ignoreWhiteSpace=!0,this.applyToEditableOnly=!1,this.useExistingElements=!0,this.removeEmptyElements=!0;var r,o,a,i,s=this;s.cssClass=e;var l=null,c={};if("object"==typeof t&&null!==t){for(void 0!==t.elementTagName&&(t.elementTagName=t.elementTagName.toLowerCase()),n=t.tagNames,l=t.elementProperties,c=t.elementAttributes,o=0;i=optionProperties[o++];)t.hasOwnProperty(i)&&(s[i]=t[i]);r=t.normalize}else r=t;s.normalize=void 0===r||r,s.attrExceptions=[];var u=document.createElement(s.elementTagName);if(s.elementProperties=s.copyPropertiesToElement(l,u,!0),esm5_each(c,(function(e,t){s.attrExceptions.push(e),c[e]=""+t})),s.elementAttributes=c,s.elementSortedClassName=s.elementProperties.hasOwnProperty("className")?sortClassName(s.elementProperties.className+" "+e):e,s.applyToAnyTagName=!1,"string"==typeof n)"*"==n?s.applyToAnyTagName=!0:s.tagNames=trim(n.toLowerCase()).split(/\s*,\s*/);else if("object"==typeof n&&"number"==typeof n.length)for(s.tagNames=[],o=0,a=n.length;o<a;++o)"*"==n[o]?s.applyToAnyTagName=!0:s.tagNames.push(n[o].toLowerCase());else s.tagNames=[s.elementTagName]}return e.prototype.copyPropertiesToElement=function(e,t,n){var r,o,a,i,s,l,c={};for(var u in e)if(e.hasOwnProperty(u))if(i=e[u],s=t[u],"className"==u)addClass(t,i),addClass(t,this.className),t[u]=sortClassName(t[u]),n&&(c[u]=i);else if("style"==u){for(r in o=s,n&&(c[u]=a={}),e[u])e[u].hasOwnProperty(r)&&(o[r]=i[r],n&&(a[r]=o[r]));this.attrExceptions.push(u)}else t[u]=i,n&&(c[u]=t[u],l=attrNamesForProperties.hasOwnProperty(u)?attrNamesForProperties[u]:u,this.attrExceptions.push(l));return n?c:""},e.prototype.copyAttributesToElement=function(e,t){for(var n in e)e.hasOwnProperty(n)&&!/^class(?:Name)?$/i.test(n)&&t.setAttribute(n,e[n])},e.prototype.appliesToElement=function(e){return this.tagNames.includes(e.tagName.toLowerCase())},e.prototype.getEmptyElements=function(e){var t=this;return e.getNodes([1],(function(e){return t.appliesToElement(e)&&!e.hasChildNodes()}))},e.prototype.hasClass=function(e){return 1==e.nodeType&&(this.applyToAnyTagName||this.appliesToElement(e))&&hasClass(e,this.className)},e.prototype.getSelfOrAncestorWithClass=function(e){for(;e;){if(this.hasClass(e))return e;e=e.parentNode}return null},e.prototype.isModifiable=function(e){return!this.applyToEditableOnly||isEditable(e)},e.prototype.isIgnorableWhiteSpaceNode=function(e){return this.ignoreWhiteSpace&&e&&3==e.nodeType&&isUnrenderedWhiteSpaceNode(e)},e.prototype.postApply=function(e,t,n,r){esm5_log.group("postApply "+t.toHtml());var o,a,i=e[0],s=e[e.length-1],l=[],c=i,u=s,d=0,p=s.length;e.forEach((function(e){a=getPreviousMergeableTextNode(e,!r),esm5_log.debug("Checking for merge. text node: "+e.data+", parent: "+inspectNode(e.parentNode)+", preceding: "+inspectNode(a)),a?(o||(o=new Merge(a),l.push(o)),o.textNodes.push(e),e===i&&(c=o.textNodes[0],d=c.length),e===s&&(u=o.textNodes[0],p=o.getLength())):o=null}));var f=getNextMergeableTextNode(s,!r);if(f&&(o||(o=new Merge(s),l.push(o)),o.textNodes.push(f)),l.length){esm5_log.info("Merging. Merges:",l);for(var h=0,g=l.length;h<g;++h)l[h].doMerge(n);esm5_log.info(c.nodeValue,d,u.nodeValue,p),t.setStartAndEnd(c,d,u,p),esm5_log.info("Range after merge: "+t.inspect())}esm5_log.groupEnd()},e.prototype.createContainer=function(e){esm5_log.debug("createContainer with namespace "+e.namespaceURI);var t=dom_getDocument(e),n=createElementNSSupported&&!isHtmlNamespace(e)&&e.namespaceURI?t.createElementNS(e.namespaceURI,this.elementTagName):t.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,n,!1),this.copyAttributesToElement(this.elementAttributes,n),addClass(n,this.className),this.onElementCreate&&this.onElementCreate(n,this),n},e.prototype.elementHasProperties=function(e,t){var n=this;return esm5_each(t,(function(t,r){if("className"==t)return hasAllClasses(e,r);if("object"==typeof r){if(!n.elementHasProperties(e[t],r))return!1}else if(e[t]!==r)return!1}))},e.prototype.elementHasAttributes=function(e,t){return esm5_each(t,(function(t,n){if(e.getAttribute(t)!==n)return!1}))},e.prototype.applyToTextNode=function(e,t){if(esm5_log.group("Apply class '"+this.className+"'. textNode: "+e.data),esm5_log.info("Apply class  '"+this.className+"'. textNode: "+e.data),canTextBeStyled(e)){var n=e.parentNode;if(1==n.childNodes.length&&this.useExistingElements&&this.appliesToElement(n)&&this.elementHasProperties(n,this.elementProperties)&&this.elementHasAttributes(n,this.elementAttributes))addClass(n,this.className);else{var r=e.parentNode,o=this.createContainer(r);r.insertBefore(o,e),o.appendChild(e)}}esm5_log.groupEnd()},e.prototype.isRemovable=function(e){return e.tagName.toLowerCase()==this.elementTagName&&getSortedClassName(e)==this.elementSortedClassName&&this.elementHasProperties(e,this.elementProperties)&&!elementHasNonClassAttributes(e,this.attrExceptions)&&this.elementHasAttributes(e,this.elementAttributes)&&this.isModifiable(e)},e.prototype.isEmptyContainer=function(e){var t=e.childNodes.length;return 1==e.nodeType&&this.isRemovable(e)&&(0==t||1==t&&this.isEmptyContainer(e.firstChild))},e.prototype.removeEmptyContainers=function(e){var t=this,n=e.getNodes([1],(function(e){return t.isEmptyContainer(e)})),r=[e],o=getRangeBoundaries(r);n.forEach((function(e){esm5_log.debug("Removing empty container "+inspectNode(e)),removePreservingPositions(e,o)})),updateRangesFromBoundaries(r,o)},e.prototype.undoToTextNode=function(e,t,n,r){if(esm5_log.info("undoToTextNode",inspectNode(e),t.inspect(),inspectNode(n),t.containsNode(n)),!t.containsNode(n)){var o=t.cloneRange();o.selectNode(n),esm5_log.info("range end in ancestor "+o.isPointInRange(t.endContainer,t.endOffset)+", isSplitPoint "+isSplitPoint(t.endContainer,t.endOffset)),o.isPointInRange(t.endContainer,t.endOffset)&&(splitNodeAt(n,t.endContainer,t.endOffset,r),t.setEndAfter(n)),o.isPointInRange(t.startContainer,t.startOffset)&&(n=splitNodeAt(n,t.startContainer,t.startOffset,r))}esm5_log.info("isRemovable",this.isRemovable(n),inspectNode(n),"'"+n.innerHTML+"'","'"+n.parentNode.innerHTML+"'"),this.isRemovable(n)?replaceWithOwnChildrenPreservingPositions(n,r):removeClass(n,this.className)},e.prototype.splitAncestorWithClass=function(e,t,n){var r=this.getSelfOrAncestorWithClass(e);r&&(esm5_log.info("splitAncestorWithClass",inspectNode(r),inspectNode(e),t),splitNodeAt(r,e,t,n))},e.prototype.undoToAncestor=function(e,t){esm5_log.info("isRemovable",this.isRemovable(e),inspectNode(e),"'"+e.innerHTML+"'","'"+e.parentNode.innerHTML+"'"),this.isRemovable(e)?replaceWithOwnChildrenPreservingPositions(e,t):removeClass(e,this.className)},e.prototype.applyToRange=function(e,t){var n=this,r=getRangeBoundaries((t=t||[])||[]);e.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(e);var o=getEffectiveTextNodes(e);if(o.length){o.forEach((function(e){esm5_log.info("textnode "+e.data+" is ignorable: "+n.isIgnorableWhiteSpaceNode(e)),n.isIgnorableWhiteSpaceNode(e)||n.getSelfOrAncestorWithClass(e)||!n.isModifiable(e)||n.applyToTextNode(e,r)}));var a=o[o.length-1];e.setStartAndEnd(o[0],0,a,a.length),n.normalize&&n.postApply(o,e,r,!1),updateRangesFromBoundaries(t,r)}n.getEmptyElements(e).forEach((function(e){addClass(e,n.className)}))},e.prototype.applyToRanges=function(e){esm5_log.group("applyToRanges");for(var t=e.length;t--;)this.applyToRange(e[t],e);return esm5_log.groupEnd(),e},e.prototype.applyToSelection=function(e){esm5_log.group("applyToSelection");var t=getSelection(e);esm5_log.info("applyToSelection "+t.inspect()),t.setRanges(this.applyToRanges(t.getAllRanges())),esm5_log.groupEnd()},e.prototype.undoToRange=function(e,t){var n=this,r=getRangeBoundaries(t=t||[]);esm5_log.info("undoToRange "+e.inspect(),r),e.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(e);var o,a,i=getEffectiveTextNodes(e),s=i[i.length-1];if(i.length){n.splitAncestorWithClass(e.endContainer,e.endOffset,r),n.splitAncestorWithClass(e.startContainer,e.startOffset,r);for(var l=0,c=i.length;l<c;++l)o=i[l],(a=n.getSelfOrAncestorWithClass(o))&&n.isModifiable(o)&&n.undoToAncestor(a,r);e.setStartAndEnd(i[0],0,s,s.length),esm5_log.info("Undo set range to '"+i[0].data+"', '"+o.data+"'"),n.normalize&&n.postApply(i,e,r,!0),updateRangesFromBoundaries(t,r)}n.getEmptyElements(e).forEach((function(e){removeClass(e,n.className)}))},e.prototype.undoToRanges=function(e){for(var t=e.length;t--;)this.undoToRange(e[t],e);return esm5_log.groupEnd(),e},e.prototype.undoToSelection=function(e){var t=getSelection(e),n=getSelection(e).getAllRanges();this.undoToRanges(n),t.setRanges(n)},e.prototype.isAppliedToRange=function(e){if(e.collapsed||""==e.toString())return!!this.getSelfOrAncestorWithClass(e.commonAncestorContainer);var t=e.getNodes([3]);if(t.length)for(var n,r=0;n=t[r++];)if(!this.isIgnorableWhiteSpaceNode(n)&&rangeSelectsAnyText(e,n)&&this.isModifiable(n)&&!this.getSelfOrAncestorWithClass(n))return!1;return!0},e.prototype.isAppliedToRanges=function(e){var t=e.length;if(0==t)return!1;for(;t--;)if(!this.isAppliedToRange(e[t]))return!1;return!0},e.prototype.isAppliedToSelection=function(e){var t=getSelection(e);return this.isAppliedToRanges(t.getAllRanges())},e.prototype.toggleRange=function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)},e.prototype.toggleSelection=function(e){this.isAppliedToSelection(e)?this.undoToSelection(e):this.applyToSelection(e)},e.prototype.getElementsWithClassIntersectingRange=function(e){var t=[],n=this;return e.getNodes([3],(function(e){var r=n.getSelfOrAncestorWithClass(e);r&&!t.includes(r)&&t.push(r)})),t},e.prototype.detach=function(){},e.util=util,e}();function createClassApplier(e,t,n){return new ClassApplier(e,t,n)}function remove_attr(e,t){if(!e)return;if(isString(t))return void e.removeAttribute(t);const n=[];each_each(e.attributes,(e=>{const r=e.nodeName;isFunction(t)&&t(r)&&n.push(r)})),each_each(n,(t=>{e.removeAttribute(t)}))}function removeAllHighlights(e,t){each_each(e.querySelectorAll(".annotator"),(e=>{remove_attr(e,(e=>["data-id","style"].includes(e)))})),t.removeAllHighlights()}function getElementFromRange(e){if(!Array.isArray(e)||e.length<=0)return[];return e[0].getHighlightElements()}function useContext_useContext(){const e=(0,external_React_.useRef)(null),t=(0,external_React_.useRef)(null),n=(0,external_React_.useRef)(!1),[r,o]=(0,external_React_.useState)(null),[a,i]=(0,external_React_.useState)({range:null,visible:!1,point:{clientX:0,clientY:0,pageX:0,pageY:0}}),{me:s,app:l,container:c,value:u,onChange:d}=useData({id:"css",defaultValue:{color:"#ff9b9a",style:{borderBottom:"3px solid rgb(255, 155, 154)"}}}),[p,f]=(0,external_React_.useState)(utils_id(l)),{value:h,onChange:g}=useData({id:p,table:"node",defaultValue:[]}),m=()=>{const e=l.field("container");if(!isElement(e))return;const t=e.querySelector(".pages");return isElement(t)?t:void 0},v=()=>{e.current&&clearTimeout(e.current),e.current=null},y=()=>{v(),n.current||(e.current=setTimeout((()=>{i((e=>({...e,visible:!1})))}),100))};return(0,external_React_.useEffect)((()=>{const e=m();e&&e.setAttribute("id","container")}),[]),(0,external_React_.useEffect)((()=>l.on("later_click_done",(()=>{f(utils_id(l))}))),[]),(0,external_React_.useEffect)((()=>{t.current=createHighlighter(),t.current.addClassApplier(createClassApplier(s.id,{ignoreWhiteSpace:!0,tagNames:["span","a"]}))}),[]),(0,external_React_.useEffect)((()=>{const e=l.on(`${s.id}_enter`,((e,t)=>{const n=e.left+e.width/2,r=e.top+e.height/2;i({range:t,visible:!0,point:{clientX:n,clientY:r}})})),t=l.on(`${s.id}_leave`,y),r=l.on(`${s.id}_delay_destory`,(()=>{n.current=!0,setTimeout((()=>{n.current=!1}),5e3)}));return()=>{e(),t(),r()}}),[]),(0,external_React_.useEffect)((()=>l.on(s.id,((e,n)=>{if(isElement(n)){const e=n.dataset.id;return void(e&&g(h.filter((t=>t.id!==e))))}let r=n;if(!n||!n.toString){const e=utils_ranges();if(e.length<=0||e[0].toString().length<=0)return void l.warning("select_first");r=e[0]}setRange(r,(()=>{const n=serialize(t.current.highlightSelection(s.id,{containerElementId:"container"}),t.current.converter);if(n.length<=0)return;const r=m();if(!isElement(r))return;const o=r.querySelectorAll(`.${s.id}`);let a=-1;o.length>0&&o.forEach(((t,n)=>{t.textContent===e&&(a=n)}));const i={id:n,text:e,style:u.style};a<0?h.push(i):h.splice(a,0,i),g([...h])}))}))),[h,u]),(0,external_React_.useEffect)((()=>{const e=m();if(!isElement(e))return;if(removeAllHighlights(e,t.current),h.length<=0)return;const n=`type:textContent|${h.map((e=>e.id)).join("|")}`;t.current.deserialize(n),each_each(t.current.highlights,(e=>{const n=serialize([e],t.current.converter),r=h.find((e=>e.id===n));each_each(getElementFromRange([e]),(e=>{e.dataset.id=n,r.desc&&(e.dataset.idea=r.desc);const t=[];each_each(r.style,((e,n)=>{t.push(`${n.replace(/([A-Z])/g,"-$1").toLowerCase()}:${e}`)})),t.length>0&&(e.style.cssText=t.join(";"))}))}))}),[h]),(0,external_React_.useEffect)((()=>l.on(`${s.id}__idea`,((e,n)=>{if(isElement(n)){const e=n.dataset.id,t=h.find((t=>t.id===e));if(!t)return;return void o(t)}let r=n;if(!n||!n.toString){const e=utils_ranges();if(e.length<=0||e[0].toString().length<=0)return void l.warning("select_first");r=e[0]}e&&setRange(r,(()=>{const n=serialize(t.current.highlightSelection(s.id,{containerElementId:"container"}),t.current.converter);n.length<=0||o({id:n,text:e,style:u.style})}))}))),[h]),(0,external_React_.useEffect)((()=>{if(!a.range)return;if(isElement(a.range)){const e=a.range.dataset.id,t=h.findIndex((t=>t.id===e));return void(t>=0&&(h[t].style=u.style,g([...h])))}const e=a.range.toString();setRange(a.range,(()=>{const n=serialize(t.current.highlightSelection(s.id,{containerElementId:"container"}),t.current.converter);if(n.length<=0)return;const r=m();if(!isElement(r))return;const o=r.querySelectorAll(`.${s.id}`);let a=-1;o.length>0&&o.forEach(((t,n)=>{t.textContent===e&&(a=n)}));const l={id:n,text:e,style:u.style};a<0?h.push(l):h.splice(a,0,l),g([...h]),setTimeout((()=>{const e=m();if(!isElement(e))return;const t=e.querySelector(`[data-id="${n}"]`);t&&i((e=>({...e,range:t})))}),100)})),i((e=>({...e,visible:!1}))),l.fire("floatbox_destory")}),[u]),(0,external_React_.useEffect)((()=>{l.fire("display")}),[]),{edit:r,value:h,style:u,option:a,onChange:g,handleStyle:e=>{l.fire("floatbox_state",s.id,"style",e.style),d(e)},onSubmit(e){if(!e.id||!e.text)return;const t=h.findIndex((t=>t.id===e.id));if(t>=0)h[t]={...h[t],...e};else{const t=m();if(!isElement(t))return;const n=t.querySelectorAll(`.${s.id}`);let r=-1;n.length>0&&n.forEach(((t,n)=>{t.textContent===e.text&&(r=n)})),r<0?h.push(e):h.splice(r,0,e)}g([...h]),o(null)},onEdit(e){o(e)},onRemove(e){g(h.filter((t=>t.id!==e.id)))},onClick(e){const t=m();if(!isElement(t))return;const n=((e,t=c)=>{if(e&&t)return t.querySelector(`[data-id="${e}"]`)})(e.id,t);n&&scrollintoview(n)},onEditCancel(){o(null)},onMouseFloatLeave(){y()},onMouseFloatEnter(){v()}}}function src(){const e=useContext_useContext();return(0,external_ReactJsxRuntime_namespaceObject.jsxs)(external_ReactJsxRuntime_namespaceObject.Fragment,{children:[(0,external_ReactJsxRuntime_namespaceObject.jsx)(idea,{data:e.value}),(0,external_ReactJsxRuntime_namespaceObject.jsx)(toolbar,{...e}),(0,external_ReactJsxRuntime_namespaceObject.jsx)(panel,{...e})]})}window.definePlugin("annotator",(function(e,t,n){let r=null;return{start(){r||(r=n.display.render((({root:r,shadow:o,container:a})=>({app:t,me:e,children:(0,external_ReactJsxRuntime_namespaceObject.jsx)(src,{}),provider:(0,external_ReactJsxRuntime_namespaceObject.jsx)(app_context.Provider,{value:{app:t,root:r,shadow:o,container:a,me:e,dependencies:n}})})),{style:".dom-align.idea-wrapper {\n  max-width: 400px;\n  padding: 6px 15px;\n  border-radius: 6px;\n}\n.idea-text {\n  font-size: 14px;\n}\n\n.dom-align {\n  user-select: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 100;\n  padding: 8px 16px 14px;\n  border-radius: 4px;\n  color: var(--color);\n  background: var(--bg);\n  transition: all 300ms;\n  box-shadow: 0 0 6px rgba(0, 0, 0, 0.15);\n}\n\n@media print {\n  .dom-align {\n    display: none;\n  }\n}\n\n.edit-form {\n  margin-top: 18px;\n}\n.edit-text {\n  padding-top: 3px;\n}\n\n.tag-plus {\n  cursor: pointer;\n}\n\n.ant-tag.edit-tag {\n  user-select: none;\n  margin-bottom: 4px;\n}\n\n.ant-input.tag-input {\n  width: 78px;\n  margin-right: 8px;\n  vertical-align: top;\n}\n\n@keyframes panelFadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n.panel-wrapper {\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 100;\n  user-select: none;\n  line-height: normal;\n  background: var(--bg);\n  border-radius: 10px;\n  animation: panelFadeIn ease 0.3s;\n  box-shadow: 0 2px 10px var(--canvas);\n}\n.panel-wrapper .panel-header {\n  display: flex;\n  align-items: center;\n  padding: 3px 6px 3px 12px;\n  justify-content: space-between;\n  background-color: rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.2);\n  border-bottom: 1px solid rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.5);\n}\n.panel-wrapper .panel-header .panel-title {\n  flex-grow: 1;\n  font-size: 15px;\n  margin-bottom: 0;\n}\n.panel-wrapper .panel-header .panel-action {\n  opacity: 0.4;\n}\n.panel-wrapper .panel-header .panel-action:hover {\n  opacity: 1;\n}\n.panel-wrapper .panel-header .ant-btn.ant-btn-icon-only {\n  width: 28px;\n  height: 28px;\n  padding: 0;\n}\n.panel-wrapper .panel-header .ant-btn.panel-pin .anticon-pushpin {\n  transform: rotate(-45deg);\n}\n.panel-wrapper .panel-body {\n  max-height: 80vh;\n  font-size: 14px;\n  overflow: auto;\n}\n.panel-wrapper .panel-draggable {\n  cursor: move;\n}\n.panel-wrapper.panel-adsorb {\n  padding: 6px;\n  right: 0;\n  left: auto;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.panel-wrapper.panel-adsorb .panel-header {\n  padding: 0px;\n  border-width: 0;\n  background: transparent;\n}\n.panel-wrapper.panel-adsorb .panel-header .panel-title {\n  font-size: 14px;\n  margin-left: 6px;\n  margin-right: 6px;\n  font-weight: normal;\n}\n.panel-wrapper.pabel-render {\n  right: 0;\n  left: auto;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.panel-wrapper.pabel-render .panel-body {\n  max-height: 100vh;\n  height: calc(100vh - 43px);\n  scrollbar-width: thin;\n  scrollbar-color: var(--thumb) var(--track);\n}\n.panel-wrapper.pabel-render .panel-body::-webkit-scrollbar {\n  width: var(--track-width);\n}\n.panel-wrapper.pabel-render .panel-body::-webkit-scrollbar-track {\n  background: var(--track);\n}\n.panel-wrapper.pabel-render .panel-body::-webkit-scrollbar-thumb {\n  border-radius: var(--radius);\n  background: var(--thumb);\n}\n\n@media print {\n  .panel-wrapper.panel-adsorb {\n    display: none;\n  }\n}\n\n.title-prefix {\n  padding: 0 6px;\n}\ndiv.ant-typography.tags-wrapper {\n  margin-bottom: 4px;\n}\ndiv.ant-typography.tags-wrapper .ant-tag {\n  margin-bottom: 4px;\n}\n.ant-list .ant-list-item .ant-list-item-meta .ant-list-item-meta-description {\n  margin-top: 6px;\n  font-size: 80% !important;\n  padding: 2px 0px 2px 7px;\n  border-left: 2px solid var(--link);\n  background: rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.6);\n}\n\n.ant-list.list-wrapper .ant-list-header {\n  padding: 10px 15px;\n}\n.ant-list.list-wrapper .ant-list-item {\n  position: relative;\n  padding: 10px 15px 0;\n}\n.ant-list.list-wrapper .ant-list-item .ant-list-item-meta {\n  margin-bottom: 8px;\n}\n.ant-list.list-wrapper .ant-list-item .ant-list-item-meta .ant-list-item-meta-title {\n  font-weight: normal;\n  font-size: 15px;\n  margin-bottom: 2px;\n}\n.ant-list.list-wrapper .ant-list-item .ant-list-item-action {\n  margin: 0 0 10px;\n}\n.ant-list.list-wrapper .ant-list-item .ant-list-item-action li {\n  padding-right: 0;\n}\n\n.list-cursor {\n  cursor: pointer;\n}\n.list-cursor:hover {\n  background: rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.5);\n}\n\n.colorpicker {\n  height: 20px;\n  width: 24px;\n  outline: none;\n  cursor: pointer;\n  -webkit-appearance: none;\n  border: 0;\n  background: rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.3);\n}\n.colorpicker::-webkit-color-swatch-wrapper {\n  padding: 0;\n}\n.colorpicker::-webkit-color-swatch {\n  border: none;\n}\n\n.toolbar {\n  user-select: none;\n  font-size: 14px;\n}\n.toolbar .items {\n  display: flex;\n  margin-top: 6px;\n  margin-bottom: 10px;\n}\n.toolbar .items .item {\n  border: 1px solid rgba(var(--bg-r), var(--bg-g), var(--bg-b), 0.6);\n  border-radius: 3px;\n  height: 26px;\n  width: 26px;\n  text-align: center;\n  line-height: 26px;\n  margin-right: 8px;\n  cursor: pointer;\n}\n.toolbar .items .item:last-child {\n  margin-right: 0;\n}\n.toolbar .items .item.active,\n.toolbar .items .item:hover {\n  box-shadow: 0 0 6px rgba(0, 0, 0, 0.15);\n}\n.toolbar .items:last-child {\n  margin-bottom: 0;\n}\n.toolbar .items .custom {\n  position: relative;\n}\n.toolbar .items .custom .ant-color-picker-trigger {\n  min-width: auto;\n  height: 100%;\n  padding: 0;\n  border-radius: 3px;\n  overflow: hidden;\n  border: 0;\n}\n.toolbar .items .custom .ant-color-picker-trigger .ant-color-picker-color-block .ant-color-picker-color-block-inner {\n  border: 0;\n  border-radius: 0;\n}\n.toolbar .items .custom .icon {\n  position: absolute;\n  right: -7px;\n  bottom: -5px;\n  line-height: 1;\n}\n.toolbar .items .custom .anticon-edit {\n  position: absolute;\n  left: 5px;\n  top: 5px;\n  color: var(--bg);\n  pointer-events: none;\n}\n\n@media print {\n  .container {\n    display: none;\n  }\n}\n\n"}))},destory(){r&&(r(),r=null)}}}))})();