(()=>{"use strict";function e(e,n){return Object.prototype.toString.call(e)===`[object ${n}]`}function n(e){return e&&e.nodeType&&1===e.nodeType}window.definePlugin("print",(function(t,r){const i=[],o=window.matchMedia("print");return r.fire("insert_style","html.circle-html.circle-pure{scrollbar-width:none;--circle-track-width:0;}"),{onSelf(e){e.fire("print_change",!0),setTimeout((()=>{window.print()}),1e3)},start(e){if(navigator.userAgent.indexOf("Firefox")>=0){const n={name:"afterprint",factory:()=>{window.addEventListener("focus",(function n(){window.removeEventListener("focus",n),e.fire("print_change",!1)}))}};i.push(n),window.addEventListener(n.name,n.factory)}else{const n={name:"change",factory:n=>{n.matches||e.fire("print_change",!1)}};i.push(n),o.addEventListener(n.name,n.factory)}},destory(){!function(e,n){if(!e)return;let t=0;if(e.forEach){const r=e.length;if(r<=0)return;for(;t<r&&!n(e[t],t);)t++}else{const r=Object.keys(e),i=r.length;if(i<=0)return;for(;t<i&&!n(e[r[t]],r[t]);)t++}}(i,(({name:e,factory:n})=>{"change"===e?o.removeEventListener(e,n):window.removeEventListener(e,n)}))},onPrintChange(t,r){document.documentElement.classList[r?"add":"remove"]("circle-pure"),t.get("common").then((i=>{const o=i||{slogan:!1};if(!(!!e(o.slogan,"Boolean")&&o.slogan)){if(!r){const e=t.field("container");if(!n(e))return;if(!n(e.querySelector(".copyright")))return;!function(e,n,t){e.get("alert").then((r=>{r?n&&n(!0):e.fire("notice",{duration:5,onClose:n,message:e.i18n("alert"),btnText:t||e.i18n("got_it")},(()=>{e.set("alert",!0)}))}))}(t,(e=>{e||t.fire("setting","display","render_display")}))}return}const c=document.head.querySelector("title");if(c&&n(c))if(r){const e=c.dataset.id||"";e.length>0&&(c.innerText=e)}else{const e=c.innerText||"";e.length>0&&(c.dataset.id=e,c.innerText=`${e} - ${t.i18n("name")}`)}}))}}}))})();