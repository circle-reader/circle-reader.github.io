(()=>{"use strict";var n={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},d:(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(n,e)=>Object.prototype.hasOwnProperty.call(n,e)};const e=ReactJsxRuntime,t=React,r=(0,t.createContext)({}),i=Antd;function o(n){const{app:t,data:r,className:o}=n;return(0,e.jsx)(i.List,{size:"small",split:!1,bordered:!1,dataSource:r,className:o,header:(0,e.jsx)(i.Typography.Text,{strong:!0,children:t.i18n("links")}),renderItem:n=>(0,e.jsx)(i.List.Item,{title:n.alt,className:"link",onClick:()=>(n=>{if(!n.url)return;let e=n.url;n.url.endsWith("circle=on")||(n.url.indexOf("#")>=0?e+="&circle=on":e+="#circle=on"),t.tabs("create",{url:e})})(n),children:n.title},n.url)})}const a=ReactDOM;function l(n,e){return Object.prototype.toString.call(n)===`[object ${e}]`}function c(n){return l(n,"Undefined")}function s(n){return l(n,"String")}function u(n){return n&&n.nodeType&&1===n.nodeType}function p(n){return l(n,"Function")}function d(n=location.href){if(/circle=/.test(n)){const[e,t=""]=n.split("#");if(!t)return n;const{hashs:r}=function(n,e,t=location.hash.substring(1).split("&")){let r=[];if(t.join("").length<=0)return{hashs:[],hash:r};const i=Array.isArray(n)?n:[n],o=t.filter((n=>{if(i.findIndex((e=>n.indexOf(e)>=0))<0)return!0;r.push(n)}));if(e){const t=`${n}=${e}`;o.push(t),r=[],r.push(t)}return{hashs:o,hash:r}}(["circle","widget"],void 0,t.split("&"));return`${e}${r.length>0?"#"+r.join("&"):""}`}return n}function h(n){if(!n)return"";let e="";s(n)?e=n:!function(n){return l(n,"Text")}(n)?u(n)&&(e=n.textContent):e=n.nodeValue;const t=(e||"").trim();return t.length>0?t.replace(/^&nbsp;+|&nbsp;+$/g,""):""}function f(n,e){if(!n)return;let t=0;if(n.forEach){const r=n.length;if(r<=0)return;for(;t<r&&!e(n[t],t);)t++}else{const r=Object.keys(n),i=r.length;if(i<=0)return;for(;t<i&&!e(n[r[t]],r[t]);)t++}}function m(n,e,t){const r={};if(e)if(s(e)&&e.length>0){const n=document.createElement("div");n.innerHTML=e,r.content=n}else u(e)&&(r.content=e);else{const e=n.field("container");if(u(e)){const n=e.querySelector(".pages");if(u(n)){r.content=n;const e=n.querySelector(".page .title");u(e)&&(r.title=h(e))}}const t=n.field("node");if(Array.isArray(t)&&t.length>0){const n=t[0];Object.keys(n).forEach((e=>{"content"!==e?u(n[e])?r[e]=h(n[e]):r[e]=n[e]:r.content||(r.content=h(n[e]))}))}else r.url=d(),r.content=document.body,r.domain=location.hostname,r.title=document.title.split(" - ").shift(),r.lang=document.documentElement.getAttribute("lang")||"en"}return t&&u(r.content)&&(r.content=function(n,e,t){if(e.querySelectorAll("img").length>0){const r=function(n){let e=n,t=n.cloneNode(!0);for(;e;){const r=e._mirrorElement;t._mirrorElement=r||e;const i=e.firstElementChild;if(i)e=i,t=t.firstElementChild;else{let r;for(;e!==n&&!(r=e.nextElementSibling);)e=e.parentElement,t=t.parentElement;if(e===n)break;e=r,t=t.nextElementSibling}}return t}(e),i=n.field("container");return u(i)&&i.style.cssText.indexOf("imagehide: none")>=0?f(r.querySelectorAll("img"),(n=>{let e=n;for(;e&&r.contains(e);){const n=e.parentElement;if(!n)break;if(!(n.innerText.trim().length<=0))break;n.removeChild(e),e=n}})):f(r.querySelectorAll("img"),(n=>{let e=n;n._mirrorElement&&(u(n._mirrorElement._mirrorElement)?e=n._mirrorElement._mirrorElement:u(n._mirrorElement)&&(e=n._mirrorElement));const r=[];if(f(n.attributes,(n=>{const e=n.nodeName;!["class","src"].includes(e)&&r.push(e)})),f(r,(e=>{n.removeAttribute(e)})),!t)return;const i=Math.max(e.width,n.width),o=Math.max(e.height,n.height),a=Math.min(i,410);n.width=a,n.height=o*(a/i),n.src=n.src.replace("https","http")})),r}return e}(n,r.content)),r}const g={"zh-CN":"目录","zh-TW":"目錄",ja:"ディレクトリ",en:"Article directories",ko:"목차",th:"แคตตาล็อก"};function x(n){const{app:r,data:i}=n,[o,l]=(0,t.useState)(null),c={title:{textAlign:"center",marginTop:60},wrapper:{margin:"80px 0 100px",listStyle:"decimal",pageBreakAfter:"always"}};if((0,t.useEffect)((()=>r.on("print_change",(n=>{if(n){const n=r.field("container");if(!u(n))return;const e=n.querySelector(".pages");if(!u(e))return;const t=document.createElement("div");t.classList.add("page"),e.insertBefore(t,e.firstChild),l(t)}else l((n=>(n&&n.parentElement?.removeChild(n),null)))}))),[]),!o)return null;const s=m(r).lang;return(0,a.createPortal)((0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h1",{style:c.title,children:g[Object.keys(g).includes(s)?s:"zh-CN"]}),(0,e.jsx)("ul",{style:c.wrapper,children:i.map((n=>(0,e.jsx)("li",{children:n.title},n.id)))})]}),o)}function w(n){const{data:t}=n;return(0,e.jsx)(i.Anchor,{affix:!1,getContainer:()=>window,items:t.map((n=>({key:n.id,href:`#${n.id}`,title:n.title,className:`level_${n.level}`})))})}function v(){return(0,t.useContext)(r)}const b=window.scrollY>2e3?"auto":"smooth";function y(n,e){if(!u(n))return;const t=l(e,"Object")?e:{behavior:s(e)?e:b};n.scrollIntoView({block:t.block||"start",inline:t.inline||"nearest",behavior:t.behavior||b})}function k(){const n=(0,t.useRef)(0),[e,r]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),{me:a,app:l,value:d}=function(n){const{id:e,disabled:r,defaultValue:i,fieldToListen:o}=n,{app:a,me:l,container:s}=v(),[u,d]=(0,t.useState)(i),h=()=>{r||a.option(e).then((n=>{!c(n)&&d(n)}))};return(0,t.useEffect)((()=>a.on("tab_activated",(n=>{n&&h()}))),[]),(0,t.useEffect)((()=>{h();let n="";n=o||(e&&"option"!==e?"display"===e?`${l.id}_display_${a.colorScheme.value?a.colorScheme.value+"_":""}option`:`${e}_option`:`${l.id}_option`);const t=[];return t.push(a.on(n,h)),t.push(a.on("color_scheme",h)),()=>{t.forEach((n=>{n()}))}}),[e]),{me:l,app:a,value:u,refetch:h,setValue:d,onChange:(n,t)=>{r||c(n)||a.option(e,n).then((()=>{d(n),p(t)&&t()})).catch((n=>{console.error(n),p(t)&&t(n.message)}))},container:s}}({id:"option",defaultValue:{links:!1,layout:!1}});return(0,t.useEffect)((()=>{const e=[];return e.push(l.on(`${a.id}_enabled`,(()=>{if(!l.field("running"))return;const n=l.field("container");if(!u(n))return;l.fire(`${a.id}_render`,n);const e=l.field("container");if(!u(e))return;const t=e.style.getPropertyValue("--offsetright");t&&l.fire("display",!0,t,"offsetright")}))),e.push(l.on(`${a.id}_empty`,(()=>{n.current=0,r([]),o([])}))),e.push(l.on("parse_again",(()=>{r([]),o([])}))),e.push(l.on("render_page",`${a.id}_render`)),e.push(l.on(`${a.id}_render`,(e=>{const t=[];f(e.querySelectorAll("h1,h2,h3,h4,h5,h6"),(e=>{const r=h(e);if(!s(r)||r.length<=0)return;const i=`${a.id}_${n.current}`;e.setAttribute("id",i),n.current++,t.push({id:i,title:r,level:parseInt(e.nodeName.charAt(1))})})),t.length>0&&r((n=>[...n,...t]));const i=[];f(e.querySelectorAll("a"),(n=>{const e=n.parentElement;if(e&&e.classList.contains("title"))return;const t=n.href,r=h(n);!t||!r||r.startsWith("http")||!t.startsWith("http")||r.length<=10||i.push({url:t,title:r,alt:n.alt})})),i.length>0&&o((n=>{const e=[...n];return i.forEach((n=>{e.findIndex((e=>e.url===n.url))<0&&e.push(n)})),e}))}))),()=>{e.forEach((n=>{n()}))}}),[]),(0,t.useEffect)((()=>{function n(){const n=l.field("container");if(!n)return;const e=location.hash;if(!e)return;let t;try{t=n.querySelector(e),function(n){const e=Array.isArray(n)?n:[];try{window.history.replaceState(null,"",`${location.pathname+location.search}${e.length>0?"#"+e.join("&"):""}`)}catch(n){location.hash=e.length>0?e.join("&"):""}}()}catch(n){}t&&y(t)}return window.addEventListener("hashchange",n),()=>{window.removeEventListener("hashchange",n)}}),[]),{app:l,layout:d.layout,links:d.links?i:[],items:e.length>1?e:[]}}const E=classNames;var _=n.n(E);function j(){const n=(0,t.useRef)(null),e=(0,t.useRef)(null),[r,i]=(0,t.useState)(!1),[o,a]=(0,t.useState)(!1),{app:l,container:c}=v(),[s,p]=(0,t.useState)(l.device.phone||window.innerWidth<1100),d=()=>{e.current&&clearTimeout(e.current),e.current=setTimeout((()=>{const n=l.field("container");if(!n||!u(n))return void i(!1);const e=n.querySelector(".pages");e&&u(e)?i((window.innerWidth-e.clientWidth)/2<180):i(!1)}),1e3)};return(0,t.useEffect)((()=>{const n=[];return n.push(l.on(`render_display_${l.colorScheme.value?l.colorScheme.value+"_":""}option`,((n,e)=>{"paper"===e&&a(!n)}))),n.push(l.on("screenshot_change",(n=>{n?c.style.display="none":c.style.removeProperty("display")}))),()=>{n.forEach((n=>{n()}))}}),[]),(0,t.useEffect)((()=>{function e(){n.current&&clearTimeout(n.current),n.current=setTimeout((()=>{l.device.phone||(p(window.innerWidth<1100),d())}),1e3)}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,t.useEffect)((()=>{if(!l.field("running"))return;const n=l.field("container");if(!u(n))return;const e=n.querySelector(".pages");if(!u(e))return;const t=new ResizeObserver(d);return t.observe(e),()=>{t.unobserve(e)}}),[]),(0,t.useEffect)((()=>{(()=>{const n=l.field("container");a(u(n)&&!n.classList.contains("paper"))})(),d(),l.fire("display")}),[]),{app:l,float:r,collapse:s,shadow:!l.device.phone&&o,onCollapse:()=>p(!s)}}const S=AntDesignIcons;function $(n){const{extra:t,children:r}=n,{app:o,float:a,shadow:l,collapse:c,onCollapse:s}=j();return(0,e.jsxs)("div",{className:_()("outline",{float:a,shadow:l&&!c}),children:[(0,e.jsx)(i.Button,{onClick:s,className:"outline-btn",type:o.device.phone||c?"default":"text",icon:c?(0,e.jsx)(S.DoubleRightOutlined,{}):(0,e.jsx)(S.DoubleLeftOutlined,{})}),!c&&(0,e.jsx)("div",{className:"outline-inner",children:r}),t]})}function A(){const{app:n,items:t,links:r,layout:i}=k(),a=t.length>0,l=r.length>0;return a||l?(0,e.jsx)($,{extra:i&&(0,e.jsx)(x,{app:n,data:t}),children:(0,e.jsxs)("div",{className:"outline-wrapper",children:[a&&(0,e.jsx)(w,{data:t}),l&&(0,e.jsx)(o,{app:n,data:r,className:a?"padding":void 0})]})}):null}window.definePlugin("outline",(function(n,t,i){let o=null;return{start(){o||(o=i.display.render((({root:o,shadow:a,container:l})=>({app:t,me:n,children:(0,e.jsx)(A,{}),provider:(0,e.jsx)(r.Provider,{value:{app:t,root:o,shadow:a,container:l,me:n,dependencies:i}})})),{style:".outline-wrapper .ant-anchor-wrapper {\n  max-height: none !important;\n}\n.outline-wrapper .ant-anchor-wrapper .ant-anchor .ant-anchor-link {\n  left: auto !important;\n  right: 0;\n}\n.outline-wrapper .ant-anchor-wrapper .ant-anchor .ant-anchor-link .ant-anchor-link-title {\n  white-space: normal;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.outline-wrapper .ant-anchor-wrapper .ant-anchor .ant-anchor-link.level_1 {\n  font-size: 100%;\n  padding-left: 12px;\n  font-weight: var(--title1weight);\n}\n.outline-wrapper .ant-anchor-wrapper .ant-anchor .ant-anchor-link.level_2 {\n  font-size: 90%;\n  padding-left: 20px;\n}\n.outline-wrapper .ant-anchor-wrapper .ant-anchor .ant-anchor-link.level_3 {\n  padding-left: 30px;\n}\n.outline-wrapper .ant-anchor-wrapper .ant-anchor .ant-anchor-link.level_4 {\n  padding-left: 40px;\n}\n.outline-wrapper .ant-anchor-wrapper .ant-anchor .ant-anchor-link.level_5 {\n  padding-left: 50px;\n}\n.outline-wrapper .ant-anchor-wrapper .ant-anchor .ant-anchor-link.level_6 {\n  padding-left: 60px;\n}\n.outline-wrapper .ant-list {\n  margin-left: 20px;\n}\n.outline-wrapper .ant-list .ant-list-header {\n  padding-bottom: 6px;\n  margin-left: -6px;\n  padding-top: 0;\n}\n.outline-wrapper .ant-list .ant-list-item.link {\n  cursor: pointer;\n  font-size: 90%;\n  white-space: normal;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -webkit-box-orient: vertical;\n  padding: 0;\n  margin-bottom: 8px;\n}\n.outline-wrapper .ant-list.padding .ant-list-header {\n  padding-top: 20px;\n}\n\n.outline {\n  color: var(--color);\n  font-family: var(--font);\n  font-weight: var(--weight);\n  letter-spacing: var(--space);\n  line-height: var(--lineheight);\n  font-size: calc(var(--size) - 4px);\n  z-index: 10;\n  position: fixed;\n  top: var(--margin);\n  right: calc((100vw - var(--width)) / 2 + var(--width) + var(--offsetright) / 2 + 16px);\n}\n.outline .outline-inner {\n  overflow: auto;\n  max-width: 260px;\n  max-height: calc(100vh - var(--margin) - 20px) !important;\n  scrollbar-width: thin;\n  scrollbar-color: var(--thumb) var(--track);\n}\n.outline .outline-inner::-webkit-scrollbar {\n  width: var(--track-width);\n}\n.outline .outline-inner::-webkit-scrollbar-track {\n  background: var(--track);\n}\n.outline .outline-inner::-webkit-scrollbar-thumb {\n  border-radius: var(--radius);\n  background: var(--thumb);\n}\n.outline .outline-btn {\n  position: absolute;\n  right: 0;\n  top: -30px;\n  z-index: 10;\n}\n.outline.shadow {\n  border-radius: 6px;\n  background: var(--bg);\n  padding: 2px 6px 2px 0px;\n  box-shadow: 0 2px 10px var(--canvas);\n}\n.outline.float {\n  top: 37px;\n  right: auto;\n  left: 14px;\n}\n.outline.float .outline-btn {\n  right: auto;\n  left: 0;\n}\n.outline.float .outline-inner {\n  max-width: 260px;\n  max-height: 94vh !important;\n  border-radius: 3px;\n  background: var(--bg);\n  padding: 6px 7px 6px 0;\n  box-shadow: 0 2px 10px var(--canvas);\n}\n\n@media screen and (max-width: 1000px) {\n  .outline {\n    top: 37px;\n    right: auto;\n    left: 14px;\n  }\n  .outline .outline-btn {\n    right: auto;\n    left: 0;\n  }\n  .outline .outline-inner {\n    max-width: 95vw;\n    max-height: 94vh !important;\n    border-radius: 6px;\n    background: var(--bg);\n    padding: 2px 6px 2px 0px;\n    box-shadow: 0 2px 10px var(--canvas);\n  }\n}\n@media print {\n  .container {\n    display: none;\n  }\n}\n\n"}))},destory(){o&&(o(),o=null)}}}))})();